(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{7432:function(e,n,t){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[88849,8849],"./Birds of Paradise.json":[78097,8097],"./Blackboard.json":[88018,6115],"./Brilliance Black.json":[73835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[22508,2508],"./Clouds Midnight.json":[49566,9566],"./Clouds.json":[57951,7951],"./Cobalt.json":[80826,826],"./Cobalt2.json":[98256,8256],"./Dawn.json":[76958,6958],"./Dominion Day.json":[89307,9307],"./Dracula.json":[33453,3453],"./Dreamweaver.json":[19363,9363],"./Eiffel.json":[82481,2481],"./Espresso Libre.json":[44776,4776],"./GitHub.json":[10739,739],"./IDLE.json":[67947,7947],"./Katzenmilch.json":[81240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[25164,5164],"./MagicWB (Amiga).json":[76443,6443],"./Merbivore Soft.json":[99361,9361],"./Merbivore.json":[86042,6042],"./Monokai Bright.json":[14883,4883],"./Monokai.json":[34454,4454],"./Night Owl.json":[60261,261],"./Nord.json":[59785,9785],"./Oceanic Next.json":[58920,8920],"./Pastels on Dark.json":[38901,8901],"./Slush and Poppies.json":[26434,6434],"./Solarized-dark.json":[36116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[20440,440],"./Sunburst.json":[68018,8018],"./Textmate (Mac Classic).json":[15824,5824],"./Tomorrow-Night-Blue.json":[81150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[82545,2545],"./Tomorrow-Night.json":[99855,9855],"./Tomorrow.json":[34092,4092],"./Twilight.json":[93898,3898],"./Upstream Sunburst.json":[98807,8807],"./Vibrant Ink.json":[89927,9927],"./Xcode_default.json":[64042,4042],"./Zenburnesque.json":[33467,3467],"./iPlastic.json":[88277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[15729,5729],"./themelist.json":[79437,9437]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=7432,e.exports=i},8131:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return wu}});var r,i,o,l,c=t(77837),u=t(77555),a=t(12757),s=t(82394),d=t(38860),p=t.n(d),f=t(56085),h=t(82684),v=t(83455),m=t(34376),g=t.n(m);!function(e){e.PYTHON="python",e.SQL="sql"}(o||(o={})),function(e){e.CHART="chart",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.TRANSFORMER="transformer"}(l||(l={}));var b,x=[l.CHART,l.DATA_EXPORTER,l.DATA_LOADER,l.SCRATCHPAD,l.TRANSFORMER],y=[l.CHART,l.SCRATCHPAD];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(b||(b={}));var j=(r={},(0,s.Z)(r,l.DATA_EXPORTER,"Data exporter"),(0,s.Z)(r,l.DATA_LOADER,"Data loader"),(0,s.Z)(r,l.SCRATCHPAD,"Scratchpad"),(0,s.Z)(r,l.TRANSFORMER,"Transformer"),r),k=[l.DATA_LOADER,l.TRANSFORMER,l.DATA_EXPORTER],O=(i={},(0,s.Z)(i,l.DATA_EXPORTER,"DE"),(0,s.Z)(i,l.DATA_LOADER,"DL"),(0,s.Z)(i,l.SCRATCHPAD,"SP"),(0,s.Z)(i,l.TRANSFORMER,"TF"),t(67971)),C=t(46313),w=t(19711),Z=t(23831),_=t(73942),P=t(28598),S=(0,C.css)(["min-width:18px;padding-left:2px;padding-right:2px;"," "," "," "," "," ",""],(function(e){return!e.disabled&&"\n    background-color: ".concat((e.theme.content||Z.Z.content).inverted,";\n  ")}),(function(e){return e.disabled&&"\n    // background-color: ".concat((e.theme.monotone||Z.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.mutedDisabled&&"\n    opacity: 0.3;\n  "}),(function(e){return!e.borderless&&"\n    box-shadow: ".concat((e.theme.shadow||Z.Z.shadow).tiny,";\n    padding-bottom: 3px;\n    padding-top: 3px;\n  ")}),(function(e){return e.borderless&&"\n    border-radius: ".concat(_.BG,"px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n  ")}),(function(e){return e.spacingLeft&&"\n    margin-left: ".concat(e.spacingLeft,"px;\n  ")})),E=C.default.kbd.withConfig({displayName:"KeyboardText__KbdStyle",componentId:"sc-18540m4-0"})(["",""],S),I=C.default.div.withConfig({displayName:"KeyboardText__DivStyle",componentId:"sc-18540m4-1"})(["",""],S);var T=function(e){var n=e.borderless,t=e.disabled,r=e.inline,i=e.keyText,o=e.monospace,l=e.mutedDisabled,c=e.spacingLeft,u=r?I:E,a=(0,h.useContext)(C.ThemeContext),s={};if(!n){var d,p;if(t)s.borderColor=null===(d=(null===a||void 0===a?void 0:a.monotone)||Z.Z.monotone)||void 0===d?void 0:d.grey400;else s.borderColor=null===(p=(null===a||void 0===a?void 0:a.content)||Z.Z.content)||void 0===p?void 0:p.active;s.borderRadius=_.BG,s.borderStyle="solid",s.borderWidth=1,s.overflow="hidden"}return(0,P.jsx)(w.ZP,{center:!0,inline:!0,monospace:o,muted:t||l,style:s,xsmall:!0,children:(0,P.jsx)(u,{borderless:n,disabled:t,mutedDisabled:l,spacingLeft:c,children:i})})},R=t(49125),A=C.default.div.withConfig({displayName:"KeyboardTextGroup__SpacingStyle",componentId:"sc-1bx41p7-0"})([""," "," ",""],(function(e){return e.small&&"\n    margin-left: ".concat(.25*R.iI,"px;\n  ")}),(function(e){return!e.small&&"\n    margin-left: ".concat(.25*R.iI,"px;\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(.25*R.iI,"px;\n  ")}));var D=function(e){var n=e.borderless,t=e.disabled,r=e.keyTextGroups,i=e.inline,o=e.monospace,l=e.mutedDisabled,c=e.small,u=e.uuidForKey,a=[],s=[];return r.forEach((function(e,r){var i=[];e.forEach((function(e,r){s.push(e),r>=1&&i.push((0,P.jsx)(A,{small:c},"spacing-".concat(e))),i.push((0,P.jsx)(T,{borderless:n,disabled:t,inline:!0,keyText:e,monospace:o,mutedDisabled:l},"key-".concat(s.join("-"),"-").concat(u)))})),r>=1&&a.push((0,P.jsx)(A,{marginRight:!0,children:(0,P.jsx)(w.ZP,{monospace:o,muted:!0,small:!c,xsmall:c,children:"then"})},"then-".concat(r))),a.push.apply(a,i)})),(0,P.jsx)(O.Z,{alignItems:"center",inline:i,children:a})},M=t(86673),F=t(10503),B=C.default.div.withConfig({displayName:"indexstyle__FlyoutMenuContainerStyle",componentId:"sc-1o7k6f4-0"})(["position:absolute;max-height:","px;"," ",""],58*R.iI,(function(e){return e.width&&"\n    min-width: 0px;\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||Z.Z.shadow).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n    }\n  ")})),N=C.default.div.withConfig({displayName:"indexstyle__TitleContainerStyle",componentId:"sc-1o7k6f4-1"})(["padding:","px;padding-bottom:0;",""],R.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).popup,";\n  ")})),H=C.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1o7k6f4-2"})(["align-items:center;justify-content:space-between;padding:","px;"," "," "," "," ",""],R.iI,(function(e){return!e.disabled&&"  \n    &:hover {\n      cursor: default;\n      background-color: ".concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).popup,";\n  ")}),(function(e){return e.disabled&&"\n    color: ".concat((e.theme.content||Z.Z.content).disabled,";\n    cursor: not-allowed;\n\n    &:hover {\n      color: ").concat((e.theme.content||Z.Z.content).disabled,";\n    }\n  ")}),(function(e){return e.indent&&"\n    padding-left: ".concat(2*R.iI,"px;\n  ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n  ")})),L=t(16115);function z(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}var U=t(41150);function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function V(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Q,G=function(e){var n,t,r=e.disableKeyboardShortcuts,i=e.items,o=e.left,l=e.onClickCallback,c=e.open,u=e.parentRef,a=e.rightOffset,d=e.topOffset,p=void 0===d?0:d,f=e.uuid,v=e.width,m=(0,h.useState)([]),g=m[0],b=m[1],x=(0,h.useState)({}),y=x[0],j=x[1],k=(0,h.useState)(0),C=k[0],Z=k[1],_=(0,h.useState)(0),S=_[0],E=_[1],I=((null===u||void 0===u||null===(n=u.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height,T=(0,h.useRef)({}),R=(0,h.useRef)(null),A=(0,U.y)(),W=A.registerOnKeyDown,Q=A.unregisterOnKeyDown;return(0,h.useEffect)((function(){return function(){Q(f)}}),[Q,f]),W(f,(function(e,n,t){if(c)if(r)z(e);else{var o=g[0];if(n[L.kD])z(e),"undefined"===typeof o||o===i.length-1?b([0]):b([o+1]);else if(n[L.Bu])z(e),b("undefined"===typeof o||0===o?[i.length-1]:[o-1]);else if(n[L.Uq]&&"undefined"!==typeof o){var u,a;null===(u=i[o])||void 0===u||null===(a=u.onClick)||void 0===a||a.call(u),null===l||void 0===l||l()}else null===i||void 0===i||i.forEach((function(e){var r=e.keyboardShortcutValidation;null===r||void 0===r||r({keyHistory:t,keyMapping:n})}))}}),[g,i,l,c,b]),(0,h.useEffect)((function(){c||b([])}),[c]),i?function e(n,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,c=arguments.length>4?arguments[4]:void 0;return i+=1,(0,P.jsx)(B,{style:{display:r||y[t]?null:"none",left:"undefined"===typeof a&&(1===i?o||0:"100%"),right:1===i?a:null,top:1===i?(I||0)+p:(2===i?C:S)||0},width:v,children:null===n||void 0===n?void 0:n.map((function(n,t){var r=n.bold,o=n.disabled,u=n.items,a=n.indent,d=n.isGroupingTitle,p=n.keyTextGroups,f=n.label,v=n.onClick,m=n.uuid;return c.current[m]=(0,h.createRef)(),d?(0,P.jsx)(N,{children:(0,P.jsx)(w.ZP,{bold:!0,muted:!0,noWrapping:!0,children:f()},m)}):(0,P.jsxs)(H,{disabled:o,highlighted:g[0]===t,indent:a,onClick:function(e){e.preventDefault(),v&&!o&&(null===v||void 0===v||v(),null===l||void 0===l||l())},onMouseEnter:function(){var e,n;if(j((function(e){return V(V({},e),{},(0,s.Z)({},m,!0))})),1===i)Z((null===(e=c.current[m])||void 0===e||null===(n=e.current)||void 0===n?void 0:n.offsetTop)||0);else if(2===i){var t,r;E((null===(t=c.current[m])||void 0===t||null===(r=t.current)||void 0===r?void 0:r.offsetTop)||0)}},onMouseLeave:function(){j((function(e){return V(V({},e),{},(0,s.Z)({},m,!1))}))},ref:c.current[m],children:[(0,P.jsxs)(O.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,P.jsx)(w.ZP,{bold:r,disabled:o,noWrapping:!0,children:f()}),u&&(0,P.jsx)(M.Z,{ml:2,children:(0,P.jsx)(F.ol,{})}),p&&(0,P.jsx)(M.Z,{ml:4,ref:R,children:(0,P.jsx)(D,{keyTextGroups:p})})]}),u&&e(u,m,!1,i,c)]},m)}))})}(i,void 0,c,0,T):null},K="buckets",Y="chart_style",q="group_by",X="height",J="index",$="legend_labels",ee="limit",ne="metrics",te="time_interval",re="width_percentage",ie="x",oe="y",le="y_sort_order",ce="data_provider",ue="data_provider_database",ae="data_provider_profile",se="data_provider_schema",de=[ie,oe];!function(e){e.BAR_CHART="bar chart",e.HISTOGRAM="histogram",e.LINE_CHART="line chart",e.PIE_CHART="pie chart",e.TABLE="table",e.TIME_SERIES_BAR_CHART="time series bar chart",e.TIME_SERIES_LINE_CHART="time series line chart"}(Q||(Q={}));var pe,fe,he=[Q.BAR_CHART,Q.HISTOGRAM,Q.LINE_CHART,Q.PIE_CHART,Q.TABLE,Q.TIME_SERIES_BAR_CHART,Q.TIME_SERIES_LINE_CHART];!function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(pe||(pe={})),function(e){e.AVERAGE="average",e.COUNT="count",e.COUNT_DISTINCT="count_distinct",e.MAX="max",e.MEDIAN="median",e.MIN="min",e.MODE="mode",e.SUM="sum"}(fe||(fe={}));var ve,me,ge,be,xe,ye,je,ke,Oe,Ce=[fe.AVERAGE,fe.COUNT,fe.COUNT_DISTINCT,fe.MAX,fe.MEDIAN,fe.MIN,fe.MODE,fe.SUM];!function(e){e.ASCENDING="ascending",e.DESCENDING="descending"}(ve||(ve={})),function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.MONTH="month",e.ORIGINAL="original",e.SECOND="second",e.WEEK="week",e.YEAR="year"}(me||(me={})),function(e){e.COLUMNS="columns",e.METRICS="metrics",e.NUMBER="number"}(Oe||(Oe={}));var we={noCode:[{label:function(){return"time column"},settings:{maxValues:1},type:Oe.COLUMNS,uuid:q},{label:function(){return"time interval"},options:[me.ORIGINAL,me.SECOND,me.MINUTE,me.HOUR,me.DAY,me.WEEK,me.MONTH,me.YEAR],uuid:te},{label:function(){return"metrics"},type:Oe.METRICS,uuid:ne}]},Ze=(ge={},(0,s.Z)(ge,Q.BAR_CHART,{noCode:[{label:function(){return"group by columns"},type:Oe.COLUMNS,uuid:q},{label:function(){return"metrics"},type:Oe.METRICS,uuid:ne},{autoRun:!0,label:function(){return"chart style"},options:[pe.HORIZONTAL,pe.VERTICAL],uuid:Y},{autoRun:!0,label:function(){return"sort direction"},options:[null,ve.ASCENDING,ve.DESCENDING],uuid:le}],code:[{label:function(){return"variable name of x-axis values"},monospace:!0,uuid:ie},{label:function(){return"variable name of y-axis values"},monospace:!0,uuid:oe}]}),(0,s.Z)(ge,Q.HISTOGRAM,{noCode:[{label:function(){return"number column for chart"},settings:{maxValues:1},type:Oe.COLUMNS,uuid:q},{autoRun:!0,label:function(){return"Number of buckets"},type:Oe.NUMBER,uuid:K}],code:[{label:function(){return"variable name of values"},monospace:!0,uuid:ie}]}),(0,s.Z)(ge,Q.LINE_CHART,{noCode:[{label:function(){return"group by columns"},settings:{maxValues:1},type:Oe.COLUMNS,uuid:q},{label:function(){return"metrics"},type:Oe.METRICS,uuid:ne}],code:[{label:function(){return"variable name of x-axis values"},monospace:!0,uuid:ie},{label:function(){return"variable name of y-axis values"},monospace:!0,uuid:oe},{label:function(){return"labels of lines in chart (comma separated)"},uuid:$}]}),(0,s.Z)(ge,Q.PIE_CHART,{noCode:[{label:function(){return"column for chart"},settings:{maxValues:1},type:Oe.COLUMNS,uuid:q},{autoRun:!0,label:function(){return"Number of slices"},type:Oe.NUMBER,uuid:K}],code:[{label:function(){return"variable name of values"},monospace:!0,uuid:ie}]}),(0,s.Z)(ge,Q.TABLE,{noCode:[{label:function(){return"columns"},type:Oe.COLUMNS,uuid:q},{label:function(){return"max number of rows"},type:Oe.NUMBER,uuid:ee}],code:[{label:function(){return"variable name of columns"},monospace:!0,uuid:ie},{label:function(){return"variable name of rows"},monospace:!0,uuid:oe}]}),(0,s.Z)(ge,Q.TIME_SERIES_BAR_CHART,we),(0,s.Z)(ge,Q.TIME_SERIES_LINE_CHART,we),ge),_e=(be={},(0,s.Z)(be,Q.BAR_CHART,{configuration:function(e){var n;return n={},(0,s.Z)(n,ie,"x"),(0,s.Z)(n,oe,"y"),(0,s.Z)(n,Y,pe.VERTICAL),n},content:function(e){return"columns = df_1.columns\nx = df_1.columns[:7]\ny = [[v] for v in [len(df_1[col].unique()) for col in x]]\n"}}),(0,s.Z)(be,Q.HISTOGRAM,{configuration:function(e){var n;return n={},(0,s.Z)(n,K,10),(0,s.Z)(n,ie,"x"),n},content:function(e){return"columns = df_1.columns\ncol = list(filter(lambda x: df_1[x].dtype == float or df_1[x].dtype == int, columns))[0]\nx = df_1[col]\n"}}),(0,s.Z)(be,Q.LINE_CHART,{configuration:function(e){var n;return n={},(0,s.Z)(n,ie,"x"),(0,s.Z)(n,oe,"y"),n},content:function(e){return"columns = df_1.columns\ncols = list(filter(lambda x: df_1[x].dtype == float or df_1[x].dtype == int, columns))\nx = df_1[cols[0]]\ny = [df_1[cols[1]]]\n"}}),(0,s.Z)(be,Q.PIE_CHART,{configuration:function(e){var n;return n={},(0,s.Z)(n,K,7),(0,s.Z)(n,ie,"x"),n},content:function(e){return"x = df_1[df_1.columns[0]]"}}),(0,s.Z)(be,Q.TABLE,{configuration:function(e){var n;return n={},(0,s.Z)(n,ee,10),(0,s.Z)(n,ie,"x"),(0,s.Z)(n,oe,"y"),n},content:function(e){return"x = df_1.columns\ny = df_1.to_numpy()"}}),(0,s.Z)(be,Q.TIME_SERIES_BAR_CHART,{configuration:function(e){return(0,s.Z)({},te,me.ORIGINAL)}}),(0,s.Z)(be,Q.TIME_SERIES_LINE_CHART,{configuration:function(e){return(0,s.Z)({},te,me.ORIGINAL)}}),be),Pe=(ke={},(0,s.Z)(ke,Q.BAR_CHART,(xe={},(0,s.Z)(xe,ie,(function(){return"must be a list of booleans, dates, integers, floats, or strings."})),(0,s.Z)(xe,oe,(function(){return"must be a list of lists containing integers or floats."})),xe)),(0,s.Z)(ke,Q.HISTOGRAM,(0,s.Z)({},ie,(function(){return"must be a list of integers or floats."}))),(0,s.Z)(ke,Q.LINE_CHART,(ye={},(0,s.Z)(ye,ie,(function(){return"must be a list of integers or floats."})),(0,s.Z)(ye,oe,(function(){return"must be a list of lists containing integers or floats. Each list is a single line in the chart."})),ye)),(0,s.Z)(ke,Q.PIE_CHART,(0,s.Z)({},ie,(function(){return"must be a list of booleans, dates, integers, floats, or strings."}))),(0,s.Z)(ke,Q.TABLE,(je={},(0,s.Z)(je,ie,(function(){return"must be a list of strings."})),(0,s.Z)(je,oe,(function(){return"must be a list of lists containing booleans, dates, integers, floats, or strings."})),je)),ke),Se=[{label:function(){return"% of missing values"},widgetTemplate:function(e){var n,t=e.block;return{name:"missing values for ".concat(null===t||void 0===t?void 0:t.uuid),configuration:(n={},(0,s.Z)(n,ie,"columns_with_mising_values"),(0,s.Z)(n,oe,"percentage_of_missing_values"),(0,s.Z)(n,Y,pe.HORIZONTAL),(0,s.Z)(n,le,ve.DESCENDING),(0,s.Z)(n,"chart_type",Q.BAR_CHART),n),content:"number_of_rows = len(df_1.index)\ncolumns_with_mising_values = []\npercentage_of_missing_values = []\nfor col in df_1.columns:\n    missing = df_1[col].isna().sum()\n    if missing > 0:\n        columns_with_mising_values.append(col)\n        percentage_of_missing_values.append(100 * missing / number_of_rows)\n"}}},{label:function(){return"Unique values"},widgetTemplate:function(e){var n,t=e.block;return{name:"unique values for ".concat(null===t||void 0===t?void 0:t.uuid),configuration:(n={},(0,s.Z)(n,ie,"columns"),(0,s.Z)(n,oe,"number_of_unique_values"),(0,s.Z)(n,Y,pe.HORIZONTAL),(0,s.Z)(n,le,ve.DESCENDING),(0,s.Z)(n,"chart_type",Q.BAR_CHART),n),content:"columns = df_1.columns\nnumber_of_unique_values = [df_1[col].nunique() for col in columns]\n"}}},{label:function(){return"Most frequent values"},widgetTemplate:function(e){var n,t=e.block;return{name:"most frequent values for ".concat(null===t||void 0===t?void 0:t.uuid),configuration:(n={},(0,s.Z)(n,X,3e3),(0,s.Z)(n,J,"column_index"),(0,s.Z)(n,ie,"columns"),(0,s.Z)(n,oe,"rows"),(0,s.Z)(n,"chart_type",Q.TABLE),n),content:"columns = ['mode value', 'frequency', '% of values']\n\ncolumn_index = []\nrows = []\nfor col in df_1.columns:\n    value_counts = df_1[col].value_counts()\n    if len(value_counts.index) == 0:\n        continue\n    column_value = value_counts.index[0]\n    value = value_counts[column_value]\n    number_of_rows = df_1[col].count()\n    column_index.append(col)\n    rows.append([\n        column_value,\n        f'{round(100 * value / number_of_rows, 2)}%',\n        value,\n      ])\n"}}},{label:function(){return"Summary overview"},widgetTemplate:function(e){var n,t=e.block;return{name:"summary overview for ".concat(null===t||void 0===t?void 0:t.uuid),configuration:(n={},(0,s.Z)(n,X,3e3),(0,s.Z)(n,J,"stats"),(0,s.Z)(n,ie,"headers"),(0,s.Z)(n,oe,"rows"),(0,s.Z)(n,"chart_type",Q.TABLE),n),content:"from mage_ai.data_cleaner.column_types.column_type_detector import infer_column_types\n\n\nheaders = ['value']\nstats = ['Columns', 'Rows']\nrows = [[len(df_1.columns)], [len(df_1.index)]]\n\ncol_counts = {}\nfor col, col_type in infer_column_types(df_1).items():\n    col_type_name = col_type.value\n    if not col_counts.get(col_type_name):\n        col_counts[col_type_name] = 0\n    col_counts[col_type_name] += 1\n\nfor col_type, count in sorted(col_counts.items()):\n    stats.append(f'# of {col_type}')\n    rows.append([count])\n"}}},{label:function(){return"Feature profiles"},widgetTemplate:function(e){var n,t=e.block;return{name:"feature profiles for ".concat(null===t||void 0===t?void 0:t.uuid),configuration:(n={},(0,s.Z)(n,X,3e3),(0,s.Z)(n,J,"stats"),(0,s.Z)(n,ie,"columns"),(0,s.Z)(n,oe,"rows"),(0,s.Z)(n,"chart_type",Q.TABLE),n),content:"from mage_ai.data_cleaner.column_types.column_type_detector import infer_column_types\nimport statistics\n\n\ncolumns_and_types = infer_column_types(df_1).items()\ncolumns = [t[0] for t in columns_and_types]\nstats = ['Type', 'Missing values', 'Unique values', 'Min', 'Max', 'Mean', 'Median', 'Mode']\nrows = [[] for _ in stats]\n\nfor col, col_type in columns_and_types:\n    series = df_1[col]\n    min_value = None\n    max_value = None\n    mean = None\n    median = None\n\n    not_null = series[series.notnull()]\n\n    if col_type.value in ['number', 'number_with_decimals']:\n        count = len(not_null.index)\n        if count >= 1:\n            mean = round(not_null.sum() / count, 2)\n            median = sorted(not_null)[int(count / 2)]\n        min_value = round(series.min(), 2)\n        max_value = round(series.max(), 2)\n    else:\n        min_value = not_null.astype(str).min()\n        max_value = not_null.astype(str).max()\n\n    _, mode = sorted(\n      [(v, k) for k, v in not_null.value_counts().items()],\n      reverse=True,\n    )[0]\n\n    for idx, value in enumerate([\n        col_type.value,\n        len(series[series.isna()].index),\n        len(series.unique()),\n        min_value,\n        max_value,\n        mean,\n        median,\n        mode,\n    ]):\n      rows[idx].append(value)\n"}}}],Ee=t(5679);function Ie(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ie(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Re=function(e){var n=e.addWidget,t=e.block,r=e.left,i=e.rightOffset,c=e.onClickCallback,a=e.open,s=e.parentRef,d=e.runBlock,p=e.topOffset,f=(0,h.useMemo)((function(){return he.map((function(e){var r,i,c={configuration:{chart_type:e},language:t.language,type:l.CHART,upstream_blocks:t?[t.uuid]:null},u=_e[e],a=(null===u||void 0===u||null===(r=u.configuration)||void 0===r?void 0:r.call(u,c))||{},s=o.SQL===(null===t||void 0===t?void 0:t.language)?null:(null===u||void 0===u||null===(i=u.content)||void 0===i?void 0:i.call(u,c))||null,p=e;return t&&(p="".concat(p," for ").concat(t.uuid)),{label:function(){return(0,Ee.vg)(e)},onClick:function(){return n(Te(Te({},c),{},{name:"".concat(p," ").concat((0,Ee.Mp)()),configuration:Te(Te({},c.configuration),a),content:s}),{onCreateCallback:function(e){t&&o.SQL!==t.language&&([b.EXECUTED,b.UPDATED].includes(t.status)?d({block:e,code:s,disableReset:!0}):d({block:t,runDownstream:!0}))}})},uuid:e}}))}),[he,t,d]),v=(0,h.useMemo)((function(){return Se.map((function(e){var r=e.label,i=Te(Te({},(0,e.widgetTemplate)({block:t})),{},{language:t.language,type:l.CHART,upstream_blocks:t?[t.uuid]:null});return{label:r,onClick:function(){return n(i,{onCreateCallback:function(e){t&&o.SQL!==t.language&&([b.EXECUTED,b.UPDATED].includes(t.status)?d({block:e,code:e.content,disableReset:!0}):d({block:t,runDownstream:!0}))}})},uuid:r()}}))}),[Se,n,t,d]),m=[{isGroupingTitle:!0,label:function(){return"Custom charts"},uuid:"custom_charts"}].concat((0,u.Z)(f));return o.SQL!==t.language&&m.push.apply(m,[{isGroupingTitle:!0,label:function(){return"Templates"},uuid:"chart_templates"}].concat((0,u.Z)(v))),(0,P.jsx)(G,{items:m,left:r,onClickCallback:c,open:a,parentRef:s,rightOffset:i,topOffset:p,uuid:"CommandButtons/add_charts",width:25*R.iI})},Ae=t(60328),De=t(47999),Me=t(26304),Fe=t(93461),Be=["children"];function Ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function He(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Le=C.default.div.withConfig({displayName:"Circle__CircleStyle",componentId:"sc-1o70504-0"})([""," "," "," "," "," "," ",""],(function(e){return!e.square&&"\n    border-radius: 50%;\n  "}),(function(e){return e.square&&"\n    border-radius: ".concat(_.BG,"px;\n  ")}),(function(e){return!e.color&&!(e.borderSize||e.borderColor)&&"\n    background-color: ".concat((e.theme.content||Z.Z.content).muted,";\n  ")}),(function(e){return(e.borderSize||e.borderColor)&&"\n    border: ".concat(e.borderSize||1,"px solid ").concat(e.borderColor||(e.theme.content||Z.Z.content).active,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color,";\n  ")}),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.borders||Z.Z.borders).danger,";\n  ")}));var ze,Ue,We,Ve=function(e){var n=e.children,t=(0,Me.Z)(e,Be);return(0,P.jsx)(Le,He(He({},t),{},{children:(0,P.jsx)(O.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:n&&(0,P.jsx)(Fe.Z,{children:n})})}))};!function(e){e.PY="py",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(Ue||(Ue={})),function(e){e.INIT_PY="__init__.py"}(We||(We={}));var Qe,Ge,Ke=[Ue.PY,Ue.SQL],Ye=[Ue.SQL,Ue.TXT,Ue.YAML,Ue.YML],qe=new RegExp(Ye.map((function(e){return".".concat(e,"$")})).join("|")),Xe="charts",Je="pipelines",$e=(ze={},(0,s.Z)(ze,Ue.PY,o.PYTHON),(0,s.Z)(ze,Ue.SQL,o.SQL),(0,s.Z)(ze,Ue.TXT,"text"),(0,s.Z)(ze,Ue.YAML,"yaml"),(0,s.Z)(ze,Ue.YML,"yaml"),ze),en=1.5*R.iI,nn=1*en+R.iI/2,tn=C.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n    ")})),rn="sideview";!function(e){e.CHARTS="charts",e.DATA="data",e.GRAPHS="graphs",e.REPORTS="reports",e.TREE="tree",e.VARIABLES="variables"}(Ge||(Ge={}));var on=[Ge.CHARTS,Ge.DATA,Ge.REPORTS,Ge.TREE],ln=[Ge.DATA,Ge.REPORTS,Ge.GRAPHS],cn=[{key:Ge.TREE,label:"Tree"},{key:Ge.CHARTS,label:"Charts"},{key:Ge.VARIABLES,label:"Variables"},{key:Ge.DATA,label:"Data"}],un=(Qe={},(0,s.Z)(Qe,Ge.CHARTS,F.er),(0,s.Z)(Qe,Ge.DATA,F.t1),(0,s.Z)(Qe,Ge.GRAPHS,F.er),(0,s.Z)(Qe,Ge.REPORTS,F.Do),(0,s.Z)(Qe,Ge.TREE,F.BJ),(0,s.Z)(Qe,Ge.VARIABLES,F.KJ),Qe),an=t(91427),sn=t(90880);function dn(e,n){var t=(n.theme.borders||Z.Z.borders).light,r=(n.theme.monotone||Z.Z.monotone).grey500,i=n||{},o=i.isSelected,c=i.theme;return o?t=(c.content||Z.Z.content).active:l.TRANSFORMER===e?(t=(c.accent||Z.Z.accent).purple,r=(c.accent||Z.Z.accent).purpleLight):l.DATA_EXPORTER===e?(t=(c.accent||Z.Z.accent).yellow,r=(c.accent||Z.Z.accent).yellowLight):l.DATA_LOADER===e?(t=(c.accent||Z.Z.accent).blue,r=(c.accent||Z.Z.accent).blueLight):l.SCRATCHPAD===e&&(t=(c.content||Z.Z.content).default,r=(c.accent||Z.Z.accent).contentDefaultTransparent),{accent:t,accentLight:r}}var pn=(0,C.css)([""," "," "," ",""],(0,sn.eR)(),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat(dn(e.blockType,e).accentLight,";\n  ")}),(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(dn(e.blockType,e).accent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||Z.Z.borders).danger,";\n  ")})),fn=C.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;position:relative;"],_.n_),hn=C.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;position:relative;"," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],pn,_.n_,_.n_,R.iI,R.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(_.n_,"px;\n    border-bottom-right-radius: ").concat(_.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),vn=C.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:10;&:hover{.block-divider-inner{","}}"],2*R.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||Z.Z.text).fileBrowser,";\n      ")})),mn=C.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),gn=C.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-4"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],R.cd*R.iI,R.iI,68,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n  ")})),bn=C.default.div.withConfig({displayName:"indexstyle__TimeTrackerStyle",componentId:"sc-s5rj34-5"})(["bottom:","px;left:","px;position:absolute;"],1*R.iI,68),xn=t(24224);function yn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=n||(null===e||void 0===e?void 0:e.name);return null!==e&&void 0!==e&&e.parent?yn(e.parent,"".concat(e.parent.name,"/").concat(t)):t}function jn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=yn(e,n).split("/"),r=(0,Ee.C5)(t[1]),i=t[t.length-1],o=new RegExp(".".concat(Ue.PY,"$"));if(x.includes(r)&&i.match(o))return{type:r,uuid:i.replace(o,"")}}function kn(e){var n=e.find((function(e){return e.name===Je})),t=e.findIndex((function(e){return e.name===Je}));return(0,xn.vK)(n,(0,xn.oM)(e,t))}function On(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?On(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var wn,Zn=function e(n){var t,r=n.file,i=n.level,o=n.onlyShowChildren,c=n.onSelectBlockFile,u=n.openFile,a=n.openPipeline,s=n.openSidekickView,d=n.pipelineBlockUuids,p=n.setContextItem,f=n.theme,v=r.children,m=r.disabled,g=r.name,b=r.parent,y=m||"__init__.py"===g||!!g.match(/^\./),j=(null===b||void 0===b?void 0:b.name)===Je,k=(0,h.useMemo)((function(){return j?null:v?(0,xn.YC)(v,(function(e){var n=e.children,t=e.name;return g===Je?t:n?0:1})):v}),[v,j]),O="".concat(i,"/").concat(g),C=d.includes(function(e){var n=e.name.split("."),t=n[n.length-1];return Ke.includes(t)&&n.pop(),n.join("")}(r)),Z=(null===b||void 0===b?void 0:b.name)||"",_=x.includes((0,Ee.C5)(Z)),S=(0,h.useState)((0,an.U2)(O,!1)),E=S[0],I=S[1],T=F.iU;j&&!y||1===i&&g===Je?T=F.B_:g===Xe?T=F.er:k&&(T=F.gt),k&&x.includes((0,Ee.C5)(g))&&(0,Ee.C5)(g)!==l.CHART&&(t=dn((0,Ee.C5)(g),{theme:f}).accent);var A=(0,h.useMemo)((function(){return null===k||void 0===k?void 0:k.map((function(n){return(0,P.jsx)(e,{file:Cn(Cn({},n),{},{parent:r}),level:o?i:i+1,onSelectBlockFile:c,openFile:u,openPipeline:a,openSidekickView:s,pipelineBlockUuids:d,setContextItem:p,theme:f},"".concat(O,"/").concat(n.name))}))}),[k,u,a]);return(0,P.jsxs)(P.Fragment,{children:[!o&&(0,P.jsxs)("div",{className:"row",onClick:function(e){if(e.preventDefault(),!y){if((null===b||void 0===b?void 0:b.name)===Xe){s(Ge.CHARTS);var n=jn(r);n&&c(n.uuid,n.type,yn(r).split("/").slice(1).join("/"))}if(j)a(g);else if(k)I((function(e){return(0,an.t8)(O,!e),!e}));else if(g.match(qe))u(yn(r).split("/").slice(1).join("/"));else{var t=jn(r);t&&c(t.uuid,t.type,yn(r).split("/").slice(1).join("/"))}}},onContextMenu:function(e){e.preventDefault(),y?p({type:wn.DISABLED}):j?p({data:{name:g},type:wn.PIPELINE}):k?p({type:wn.FOLDER}):g.match(qe)||g===We.INIT_PY?p({type:wn.FILE}):(null===b||void 0===b?void 0:b.name)!==Xe||C?p({data:{block:jn(r)},type:wn.BLOCK_FILE}):p({type:wn.FILE})},style:{alignItems:"center",cursor:"default",display:"flex",minWidth:i*nn+r.name.length*R.Fo+2*R.iI,paddingBottom:R.iI/4,paddingLeft:R.iI/4+nn*i,paddingRight:R.iI/4,paddingTop:R.iI/4},children:[k&&!E&&(0,P.jsx)(F._M,{muted:!0,size:en}),k&&E&&(0,P.jsx)(F._Q,{muted:!0,size:en}),!k&&(0,P.jsx)("div",{style:{width:en}}),(0,P.jsxs)("div",{style:{marginLeft:R.iI/2,marginRight:R.iI/2},children:[!t&&(0,P.jsx)(T,{disabled:y,size:en}),t&&(0,P.jsx)(Ve,{color:t,size:en,square:!0})]}),(0,P.jsx)(w.ZP,{color:t,default:!t&&!y,disabled:y||_&&!C,italic:_&&!C&&g!==We.INIT_PY,monospace:!0,small:!0,children:g})]}),(0,P.jsx)("div",{style:{display:E?"none":"block"},children:A})]})},_n=["blocks","files","widgets"];function Pn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Sn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pn(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function En(e,n){var t=e.blocks,r=void 0===t?[]:t,i=e.files,o=e.widgets,l=void 0===o?[]:o,c=(0,Me.Z)(e,_n),u=(0,h.useContext)(C.ThemeContext),a=r.concat(l).map((function(e){return e.uuid})),s=null===i||void 0===i?void 0:i.map((function(e){return Sn(Sn({},e),{},{children:kn(e.children)})}));return(0,P.jsx)(tn,{ref:n,children:null===s||void 0===s?void 0:s.map((function(e){return(0,h.createElement)(Zn,Sn(Sn({},c),{},{file:e,key:e.name,level:0,pipelineBlockUuids:a,theme:u}))}))})}!function(e){e.BLOCK_FILE="block_file",e.DISABLED="disabled",e.FILE="file",e.FOLDER="folder",e.PIPELINE="pipeline"}(wn||(wn={}));var In,Tn=h.forwardRef(En),Rn=t(86585);!function(e){e.FILE_BROWSER="file_browser"}(In||(In={}));var An=C.default.div.withConfig({displayName:"ContextMenu__ContainerStyle",componentId:"sc-b9ha7f-0"})(["position:fixed;z-index:",";"," "," "," "," "," "," ",""],Rn.bf+100,(function(e){return"undefined"!==typeof e.left&&"\n    left: ".concat(e.left+5,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    right: ".concat(e.right,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")}),(function(e){return"undefined"===typeof e.top&&"undefined"===typeof e.bottom&&"\n    top: ".concat(Rn.Mz-1*R.iI,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&"\n    min-width: ".concat(33*R.iI,"px;\n  ")}));var Dn=function(e){var n,t=e.areaRef,r=e.children,i=e.createPipeline,o=e.deleteBlockFile,c=e.deletePipeline,u=e.deleteWidget,a=e.enableContextItem,d=e.numPipelines,p=e.type,f=(0,h.useState)({x:0,y:0}),v=f[0],m=f[1],g=(0,h.useState)({}),b=g[0],x=g[1],y=(0,h.useState)(!1),j=y[0],k=y[1];(0,h.useEffect)((function(){return document.addEventListener("click",O),document.addEventListener("contextmenu",C),function(){document.addEventListener("click",O),document.removeEventListener("contextmenu",C)}}),[]);var O=(0,h.useCallback)((function(e){e.preventDefault(),k(!1)}),[k]),C=(0,h.useCallback)((function(e){t.current.contains(e.target)?(a||e.preventDefault(),m({x:e.pageX,y:e.pageY}),k(!0)):k(!1)}),[t,a,m,k]),w=(n={},(0,s.Z)(n,wn.BLOCK_FILE,[{label:function(){return"Delete"},onClick:function(){var e=b.data.block;e.type===l.CHART?u(e):o(e)},uuid:"delete_block_file"}]),(0,s.Z)(n,wn.PIPELINE,[{label:function(){return"Duplicate"},onClick:function(){return i({pipeline:{clone_pipeline_uuid:b.data.name,name:"".concat(b.data.name,"_copy")}})},uuid:"duplicate_pipeline"},{disabled:d<=1,label:function(){return"Delete"},onClick:function(){return c(b.data.name)},uuid:"delete_pipeline"}]),n);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(An,{left:v.x,top:v.y,children:(0,P.jsx)(G,{items:w[a?b.type:p],open:j,parentRef:void 0,uuid:"ContextMenu"})}),h.Children.map(r,(function(e){return h.cloneElement(e,{setContextItem:x})}))]})},Mn=t(10919),Fn=C.default.div.withConfig({displayName:"indexstyle__ErrorPopupStyle",componentId:"sc-aqfw6f-0"})(["bottom:0;left:0;max-width:100vw;padding:","px;position:fixed;z-index:100;",""],R.iI*R.cd,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).page,";\n    border-right: 1px solid ").concat((e.theme.accent||Z.Z.accent).negative,";\n    border-top: 1px solid ").concat((e.theme.accent||Z.Z.accent).negative,";\n  ")}));var Bn=function(e){var n=e.displayMessage,t=e.errors,r=e.onClose,i=e.response,o=(0,h.useState)(!1),l=o[0],c=o[1],u=t.messages,a=((null===i||void 0===i?void 0:i.error)||{}).errors;return(0,P.jsxs)(Fn,{children:[(0,P.jsx)(O.Z,{justifyContent:"flex-end",children:(0,P.jsx)(Ae.Z,{iconOnly:!0,noBorder:!0,noPadding:!0,onClick:r,title:"Close errors",children:(0,P.jsx)(F.x8,{})})}),(0,P.jsxs)(M.Z,{mt:1,children:[(0,P.jsx)(w.ZP,{bold:!0,large:!0,children:"Error"}),n&&(0,P.jsx)(M.Z,{mt:1,children:(0,P.jsx)(w.ZP,{default:!0,children:n})}),(null===u||void 0===u?void 0:u.length)&&(0,P.jsx)(M.Z,{mt:1,children:u.map((function(e){return(0,P.jsx)(w.ZP,{default:!0,monospace:!0,dangerouslySetInnerHTML:{__html:e.replaceAll(" ","&nbsp;")}},e)}))})]}),a&&(0,P.jsxs)(M.Z,{mt:3,children:[(0,P.jsxs)(w.ZP,{bold:!0,large:!0,children:["Stack trace (",(0,P.jsxs)(Mn.Z,{muted:!0,onClick:function(){return c((function(e){return!e}))},preventDefault:!0,children:[l?"hide":"show"," stack trace"]}),")"]}),l&&(0,P.jsx)(M.Z,{mt:1,children:a.map((function(e){return(0,P.jsx)(w.ZP,{default:!0,monospace:!0,dangerouslySetInnerHTML:{__html:e.replaceAll(" ","&nbsp;")}},e)}))})]})]})},Nn=t(85202),Hn=t(38789),Ln=t(66166),zn="twilight",Un=t(2005),Wn=t(31012),Vn=C.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-w2hta3-0"})([""]),Qn=C.default.div.withConfig({displayName:"indexstyle__PlaceholderStyle",componentId:"sc-w2hta3-1"})(["padding-left:67px;position:absolute;z-index:1;"]);function Gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Kn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gn(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Yn(e){var n=function(e){var n="[\\w.]+",t=["import ".concat(n," as ").concat(n),"import ".concat(n),"from ".concat(n," import ").concat(n," as ").concat(n),"from ".concat(n," import ").concat(n)],r=new RegExp("(".concat(t.join("|"),")"),"g");return(0,u.Z)(e.matchAll(r)).map((function(e){return e[1]}))}(e),t="[\\w.]+",r=["from ".concat(t," import ").concat(t," as (").concat(t,")"),"from ".concat(t," import (").concat(t,")"),"import ".concat(t," as (").concat(t,")"),"import (".concat(t,")")],i=new RegExp("(".concat(r.join("|"),")"));return n.reduce((function(e,n){var t=n.match(i);if(!t)return e;var r=(0,u.Z)(t),o=r[2],l=r[3],c=r[4],a=r[5],d=o||l||c||a;return Kn(Kn({},e),{},(0,s.Z)({},d,n))}),{})}function qn(e,n){return function(e,n){return e.split("\n")[n.startLineNumber-1]}(e,n).slice(0,n.startColumn-1)}var Xn={"all-hallows-eve":"All Hallows Eve","birds-of-paradise":"Birds of Paradise","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","espresso-libre":"Espresso Libre","kuroir-theme":"Kuroir Theme","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","monokai-bright":"Monokai Bright","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night":"Tomorrow-Night","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",active4d:"Active4D",amy:"Amy",blackboard:"Blackboard",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel",github:"GitHub",idle:"IDLE",idlefingers:"idleFingers",iplastic:"iPlastic",katzenmilch:"Katzenmilch",krtheme:"krTheme",lazy:"LAZY",merbivore:"Merbivore",monoindustrial:"monoindustrial",monokai:"Monokai",spacecadet:"SpaceCadet",sunburst:"Sunburst",tomorrow:"Tomorrow",twilight:"Twilight",zenburnesque:"Zenburnesque"};var Jn=function(e){var n=e.autocompleteProviders,r=e.autoHeight,i=e.autoSave,o=e.fontSize,l=void 0===o?Wn.i3:o,c=e.height,u=e.language,s=e.onChange,d=e.onDidChangeCursorPosition,p=e.onSave,f=e.placeholder,v=e.selected,m=e.setSelected,g=e.setTextareaFocused,b=e.shortcuts,x=e.showLineNumbers,y=void 0===x||x,j=e.textareaFocused,k=e.theme,O=e.value,C=e.width,Z=void 0===C?"100%":C,_=(0,h.useRef)(null),S=(0,h.useRef)(null),E=(0,h.useRef)(null),I=(0,h.useState)([]),T=I[0],R=I[1],A=(0,h.useState)(null),D=A[0],M=A[1],F=(0,h.useState)(!1),B=F[0],N=F[1],H=(0,h.useState)(c),L=(H[0],H[1],(0,h.useState)(k||zn)),z=L[0],U=L[1],W=(0,h.useCallback)((function(e){e.languages.typescript.javascriptDefaults.setEagerModelSync(!0),M(e)}),[]),V=(0,h.useCallback)((function(e,n){_.current=e,S.current=n;var t=[];null===b||void 0===b||b.forEach((function(r){t.push(r(n,e))})),p&&t.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"saveCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],label:"Save",precondition:null,run:function(e){n()}}}(n,(function(){p(e.getValue())}))),function(e,n,t){t.forEach((function(e){n.addAction(e)}))}(0,e,t),e.getModel().updateOptions({tabSize:4}),r&&!c&&(e._domElement.style.height="".concat(function(e){return 21*(e.split("\n").length+2)}(O||""),"px")),e.onDidFocusEditorWidget((function(){null===m||void 0===m||m(!0),null===g||void 0===g||g(!0)})),e.onDidContentSizeChange((function(n){var t=n.contentHeight,i=n.contentHeightChanged;r&&i&&(e._domElement.style.height="".concat(t+42,"px"))})),v&&j&&setTimeout((function(){e.focus()}),1),d&&e.onDidChangeCursorPosition((function(n){var t=n.position.lineNumber,r=e._domElement.getBoundingClientRect(),i=r.height,o=r.top;d({editorRect:{height:Number(i),top:Number(o)},position:{lineNumber:Number(t)}})})),N(!0)}),[r,c,d,p,E.current,v,R,N,m,g,b,j,O]);(0,h.useEffect)((function(){(function(e){return new Promise((function(n){Promise.all([Hn._m.init(),t(7432)("./".concat(Xn[e],".json"))]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];o.colors["editor.background"]="#000000",o.colors["editor.foreground"]="#FFFFFF",i.editor.defineTheme(e,o),n()}))}))})(zn).then((function(){U(zn)}))}),[]),(0,h.useEffect)((function(){var e;return i&&p&&(e=setInterval((function(){p(_.current.getValue())}),5e3)),function(){i&&e&&clearInterval(e)}}),[i,_,p]);var Q=(0,Ln.Z)(v),G=(0,Ln.Z)(j);return(0,h.useEffect)((function(){null!==_&&void 0!==_&&_.current&&(v&&j?setTimeout((function(){_.current.focus()}),1):Nn.findDOMNode(_.current._domElement).getElementsByClassName("inputarea")[0].blur())}),[_,v,Q,j,G]),(0,h.useEffect)((function(){return function(){T.map((function(e){return e.dispose()}))}}),[T]),(0,h.useEffect)((function(){D&&n&&(0===T.length&&j||!G&&j?R(function(e,n){return Object.entries(n).map((function(n){var t=(0,a.Z)(n,2),r=t[0],i=t[1];return e.languages.registerCompletionItemProvider(r,{provideCompletionItems:i(e)})}))}(D,n)):G&&!j&&T.map((function(e){return e.dispose()})))}),[n,T,D,j,G]),(0,P.jsxs)(Vn,{style:{display:B?null:"none"},children:[f&&!(null!==O&&void 0!==O&&O.length)&&(0,P.jsx)(Qn,{children:(0,P.jsx)(w.ZP,{monospace:!0,muted:!0,children:f})}),(0,P.jsx)(Hn.ZP,{beforeMount:W,height:c,language:u||"python",onChange:function(e){null===s||void 0===s||s(e)},onMount:V,options:{fontFamily:Un.Vp,fontLigatures:!0,fontSize:l,hideCursorInOverviewRuler:!0,lineNumbers:y,minimap:{enabled:!1},overviewRulerBorder:!1,renderLineHighlightOnlyWhenFocus:!0,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},wordBasedSuggestions:!1},theme:z,value:O,width:Z}),(0,P.jsx)("div",{ref:E})]})},$n=t(12691),et=t.n($n),nt=t(39421),tt=t(56663),rt=t.n(tt),it=t(66757),ot=t.n(it),lt=t(55361);var ct="current_group_id",ut="current_group",at="current_user";function st(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var n=rt()(e),t=n.current_group_id;return{id:t}}var r=ot().get(ut),i=nt.Z.get(ct,lt.Hu);if(r&&i)return r}function dt(){return ot().get(at)}function pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ft(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pt(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ht(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ft(ft({},t),{},{groupId:null===(e=st())||void 0===e?void 0:e.id,id:null===(n=dt())||void 0===n?void 0:n.id})}var vt=t(86954);function mt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mt(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function bt(){return[[vt.go,"initialAsPath"],[vt.iT,"initialPathname"],[vt.FT,"notificationTemplate"],[vt.Ll,"notificationUUID"],[vt.$m,"referringURL"]].reduce((function(e,n){var t=(0,a.Z)(n,2),r=t[0],i=t[1];return gt(gt({},e),{},(0,s.Z)({},i,nt.Z.get(r,vt.vZ)))}),{})}var xt=t(36283);function yt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function jt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yt(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var kt="click",Ot="button";function Ct(e){var n,t,r=e.actionName,i=e.actionType,o=e.componentName,l=e.componentType,c=e.properties,u=e.screenName,a=(n=r||i,t=o||l,"".concat(u,".").concat(n,"_").concat(t)),s=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=bt(),i=(null!==t&&void 0!==t&&t.width,window.innerWidth);return jt(jt(jt({},t),r),{},{groupId:null===(e=st())||void 0===e?void 0:e.id,partner_id:"Mage",screenSize:(0,xt.Z3)(i),userId:null===(n=dt())||void 0===n?void 0:n.id})}(jt({actionType:i,componentType:l},c));return{eventProperties:s,eventType:a,userProperties:ht()}}function wt(e,n){null===e||void 0===e||e(n)}var Zt=function(e){var n=e.children;return e.eventProperties,e.userProperties,n((function(e){return!1}))};function _t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var St,Et,It=function(e){var n,t=e.buildChildren,r=e.disabled,i=e.eventActionName,o=void 0===i?kt:i,l=e.eventComponentName,c=void 0===l?Ot:l,u=e.eventProperties,a=void 0===u?{}:u,s=e.eventScreenName,d=void 0===s?"generic":s,p=e.keyboardShortcutValidation,f=e.linkProps,v=e.onClick,g=e.openNewTab,b=e.requireKeyUp,x=e.uuid,y=(0,m.useRouter)(),j=(0,U.y)(),k=j.registerOnKeyDown,O=j.registerOnKeyUp,C=j.unregisterOnKeyDown,w=j.unregisterOnKeyUp;(0,h.useEffect)((function(){return function(){var e=b?w:C;null===e||void 0===e||e(x)}}),[b,C,w,x]),r||!v&&!f||(n=function(e){null===v||void 0===v||v(e),f&&(g?(window.open(f.as||f.href),e.preventDefault()):y.push(f.href,f.as))});var Z=Ct({actionName:o,actionType:kt,componentName:c,componentType:Ot,properties:a,screenName:d}),_=Z.eventType,S=Z.eventProperties,E=Z.userProperties;return(0,P.jsx)(Zt,{eventProperties:S,userProperties:E,children:function(e){var r=e.logEvent;p&&n&&(b?O:k)(x,(function(e,t,i){p({keyHistory:i,keyMapping:t})&&(wt(r,_,{eventProperties:Pt(Pt({},S),{},{usedKeyboardShortcut:!0}),userProperties:E}),n(e))}),[S,_,r,n,E]);return t({eventProperties:S,eventType:_,logEvent:r,onClick:n,userProperties:E})}})},Tt={chatBubbleProps:null,graphicButtonProps:null,logoProps:null,mageImageUrl:null,mascotImageUrls:{base:null,castingSpell:null,chargingUp:null,thinking:null},sharedProps:null},Rt=h.createContext(Tt),At=Rt,Dt=t(54283),Mt=t(73899),Ft=["Icon","afterElement","beforeElement","bold","borderless","centerText","children","compact","disabled","fitContentWidth","inverted","keyTextGroups","keyTextsPosition","linkProps","loading","mutedDisabled","noHover","onClick","type","useModelTheme"];function Bt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bt(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(St||(St={})),function(e){e.BUTTON="button",e.SUBMIT="submit"}(Et||(Et={}));var Ht=(0,C.css)([""," align-items:center;border:none;display:flex;flex-direction:row;position:relative;text-align:left;z-index:0;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(0,sn.eR)(),(function(e){return!e.large1&&!e.large2&&"\n    ".concat(Wn.iD,"\n  ")}),(function(e){return e.small&&"\n    ".concat(Wn.HC,"\n  ")}),(function(e){return e.large1&&"\n    ".concat(Wn.ln,"\n  ")}),(function(e){return e.large2&&"\n    ".concat(Wn.QU,"\n  ")}),(function(e){return!e.inline&&"\n    width: 100%;\n  "}),(function(e){return e.shortWidth&&"\n    min-width: ".concat(28*R.iI,"px;\n  ")}),(function(e){return!e.wrapText&&"\n    white-space: nowrap;\n  "}),(function(e){return!e.secondary&&"\n    font-family: ".concat(Un.ry,";\n    justify-content: space-between;\n  ")}),(function(e){return e.center&&"\n    justify-content: center;\n  "}),(function(e){return!e.noPadding&&!e.spacious&&!e.compact&&"\n    padding: ".concat(1.25*R.iI,"px ").concat(1.5*R.iI,"px;\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(.5*R.iI,"px ").concat(.75*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(.625*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(.625*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(.75*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(.75*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&!e.marketing&&"\n    padding: ".concat(2.25*R.iI,"px ").concat(3*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.marketing&&"\n    padding: ".concat(2.25*R.iI-2,"px ").concat(3*R.iI-2,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(1.125*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(1.125*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(1.5*R.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(1.5*R.iI,"px;\n  ")}),(function(e){return e.secondary&&"\n    flex-basis: content;\n    font-family: ".concat(Un.nF,";\n    padding: 0;\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.bold&&"\n    font-family: ".concat(Un.nF,";\n  ")}),(function(e){return!e.muted&&!e.inverted&&"\n    color: ".concat((e.theme.content||Z.Z.content).active,";\n  ")}),(function(e){return!e.muted&&e.inverted&&"\n    color: ".concat((e.theme.content||Z.Z.content).inverted,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.monotone||Z.Z.monotone).grey300,";\n  ")}),(function(e){return e.warning&&"\n    color: ".concat((e.theme.brand||Z.Z.brand).energy400,";\n  ")}),(function(e){return e.noHover&&"\n    &:hover {\n      cursor: default;\n    }\n  "}),(function(e){return e.blackBorder&&"\n    border: ".concat(_.YF,"px ").concat(_.M8," ").concat((e.theme.monotone||Z.Z.monotone).black,";\n  ")}),(function(e){return!e.pill&&!e.borderless&&!e.compact&&"\n    border-radius: ".concat(_.n_,"px;\n  ")}),(function(e){return e.compact&&"\n    border-radius: ".concat(_.BG,"px;\n  ")}),(function(e){return!e.borderRadiusLeft&&!e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-radius: ".concat(5*R.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&!e.spacious&&"\n    border-bottom-left-radius: ".concat(5*R.iI,"px;\n    border-top-left-radius: ").concat(5*R.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-bottom-right-radius: ".concat(5*R.iI,"px;\n    border-top-right-radius: ").concat(5*R.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&e.spacious&&"\n    border-bottom-left-radius: ".concat(8*R.iI,"px;\n    border-top-left-radius: ").concat(8*R.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&e.spacious&&"\n    border-bottom-right-radius: ".concat(8*R.iI,"px;\n    border-top-right-radius: ").concat(8*R.iI,"px;\n  ")}),(function(e){return e.inverted&&!e.noBackground&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme.monotone||Z.Z.monotone).black,";\n  ")}),(function(e){return!e.inverted&&!e.noBackground&&"\n    background-color: ".concat((e.theme.interactive||Z.Z.interactive).defaultBackground,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return!e.noBackground&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.noBackground&&"\n    background-color: transparent !important;\n  "}),(function(e){return e.disabled&&e.inverted&&"\n    color: ".concat((e.theme.monotone||Z.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.disabled&&!e.inverted&&"\n    color: ".concat((e.theme.monotone||Z.Z.monotone).grey300," !important;\n  ")}),(function(e){return e.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.monotone||Z.Z.monotone).black,";\n    color: ").concat((e.theme.monotone||Z.Z.monotone).white,";\n  ")}),(function(e){return e.selected&&e.grey300&&"\n    background-color: ".concat((e.theme.monotone||Z.Z.monotone).grey300,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.fire&&"\n    background-color: ".concat((e.theme.brand||Z.Z.brand).fire400,";\n  ")}),(function(e){return e.useModelTheme&&"\n    color: ".concat((e.theme.monotone||Z.Z.monotone).white,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.earth&&"\n    background-color: ".concat((e.theme.brand||Z.Z.brand).earth400,";\n  ")}),(function(e){return e.primaryGradient&&"\n    background: ".concat(Mt.uH,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.wind&&"\n    background-color: ".concat((e.theme.brand||Z.Z.brand).wind400,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.water&&"\n    background-color: ".concat((e.theme.brand||Z.Z.brand).water400,";\n  ")}),(function(e){return e.withIcon&&"\n    padding: ".concat(1.25*R.iI-1,"px !important;\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||Z.Z.shadow).large,";\n  ")})),Lt=C.default.button.withConfig({displayName:"KeyboardShortcutButton__ButtonStyle",componentId:"sc-10tm4pj-0"})(["",""],Ht),zt=C.default.a.withConfig({displayName:"KeyboardShortcutButton__AnchorStyle",componentId:"sc-10tm4pj-1"})([""," ",""],Ht,Mn.R),Ut=C.default.span.withConfig({displayName:"KeyboardShortcutButton__SpanStyle",componentId:"sc-10tm4pj-2"})(["margin-right:","px;"],1*R.iI);var Wt=function(e){var n=e.Icon,t=e.afterElement,r=e.beforeElement,i=e.bold,o=e.borderless,l=e.centerText,c=e.children,u=e.compact,a=e.disabled,d=e.fitContentWidth,p=e.inverted,f=e.keyTextGroups,v=e.keyTextsPosition,m=void 0===v?St.RIGHT:v,g=e.linkProps,b=e.loading,x=e.mutedDisabled,y=e.noHover,j=e.onClick,k=e.type,O=void 0===k?Et.BUTTON:k,C=e.useModelTheme,w=(0,Me.Z)(e,Ft),Z=g||{},_=Z.as,S=Z.href,E=_||S?zt:Lt,I=(0,h.useMemo)((function(){if(!f)return null;var e=(0,s.Z)({},m===St.RIGHT?"ml":"mr",c?1:0);return(0,P.jsx)(M.Z,Nt(Nt({},e),{},{children:(0,P.jsx)(D,{borderless:p,disabled:a,keyTextGroups:f,mutedDisabled:x})}))}),[c,a,p,f,m,x]),T=((0,h.useContext)(At)||{}).sharedProps;return(0,P.jsx)(It,Nt(Nt({},w),{},{buildChildren:function(e){var s=e.eventProperties,f=e.eventType,h=e.logEvent,v=e.onClick,j=e.userProperties,k=(0,P.jsxs)(E,Nt(Nt(Nt({},w),C?T:{}),{},{bold:C||i,borderless:C||o,center:l,compact:u,disabled:a||x,fitContentWidth:d,inverted:p,noHover:(!v||y)&&!(_||S)&&O===Et.BUTTON,onClick:function(e){wt(h,f,{eventProperties:s,userProperties:j}),null===v||void 0===v||v(e)},type:_||S?null:O,useModelTheme:C,withIcon:!!n,children:[r&&!b&&(0,P.jsxs)(P.Fragment,{children:[r,(0,P.jsx)(M.Z,{mr:1})]}),m===St.LEFT&&I,(0,P.jsxs)(Fe.Z,{alignItems:"center",children:[n&&(0,P.jsx)(n,{muted:a||x,size:2.5*R.iI}),n&&c&&(0,P.jsx)(M.Z,{mr:1}),b&&(0,P.jsx)(Ut,{children:(0,P.jsx)(Dt.Z,{inverted:!p})}),!b&&c]}),m===St.RIGHT&&I&&(0,P.jsx)(M.Z,{ml:1,children:I}),t&&!b&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{ml:t?1:0}),t]})]}));return!_&&!S||a||x?k:(0,P.jsx)(et(),Nt(Nt({},g),{},{passHref:!0,children:k}))},disabled:a||x,linkProps:g,onClick:j}))},Vt=t(41374),Qt=function(e){return e.at(-2).slice(0,-1)},Gt=t(96510);function Kt(e,n){var t=e.map((function(e){return String(e)})),r=e.includes(L.PQ),i=e.includes(L.zX),o=e.includes(L.XR),l=L.xU.map((function(e){return String(e)})),c=L.vk.map((function(e){return String(e)})),u=L.Tr.map((function(e){return String(e)})),s=Object.entries(n).find((function(e){var n=(0,a.Z)(e,2),s=n[0];return n[1]&&!t.includes(String(s))&&(!i||!c.includes(String(s)))&&(!r||!l.includes(String(s)))&&(!o||!u.includes(String(s)))}));return e.every((function(e){return n[e]}))&&!s}function Yt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function qt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yt(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Xt=function(e){var n=e.active,t=e.addNewBlock,r=e.filePath,i=(e.pipeline,e.setFilesTouched),o=(0,h.useState)(null),c=o[0],u=o[1],d=(0,h.useRef)(null),p=Vt.ZP.file_contents.detail(r).data;(0,h.useEffect)((function(){null!==p&&void 0!==p&&p.file_content&&u(p.file_content)}),[p]);var f=(0,h.useState)(null===c||void 0===c?void 0:c.content),m=f[0],g=f[1],b=(0,h.useState)(!1),x=b[0],y=b[1];(0,h.useEffect)((function(){var e;null===d||void 0===d||null===(e=d.current)||void 0===e||e.scrollIntoView()}),[null===d||void 0===d?void 0:d.current]);var j=(0,v.Db)(Vt.ZP.file_contents.useUpdate(null===c||void 0===c?void 0:c.path),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){return!0},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),k=(0,a.Z)(j,1)[0],O=function(e,n){k({file_content:qt(qt({},n),{},{content:e})}),i((function(e){return qt(qt({},e),{},(0,s.Z)({},null===n||void 0===n?void 0:n.path,!1))})),y(!1)},C=(0,h.useMemo)((function(){return new RegExp(Object.keys($e).map((function(e){return".(".concat(e,")$")})).join("|"))}),[]),w=(0,h.useMemo)((function(){var e;return null===c||void 0===c||null===(e=c.path.match(C)[0])||void 0===e?void 0:e.split(".")[1]}),[C,c]),Z=(0,h.useMemo)((function(){if(null!==c&&void 0!==c&&c.path)return(0,P.jsx)(Jn,{autoHeight:!0,language:$e[w],onSave:function(e){O(e,c)},onChange:function(e){g(e),i((function(e){return qt(qt({},e),{},(0,s.Z)({},null===c||void 0===c?void 0:c.path,!0))})),y(!0)},selected:!0,textareaFocused:!0,value:null===c||void 0===c?void 0:c.content,width:"100%"})}),[c,w,O,i]),_=(w===Ue.PY||w===Ue.SQL)&&Qt(c.path.split("/"))!==l.SCRATCHPAD&&(0,P.jsx)(M.Z,{p:2,children:(0,P.jsx)(Wt,{inline:!0,onClick:function(){return t({language:$e[w],name:(e=c.path.split("/"),function(e){return e.at(-1)}(e).split(".")[0]),type:Qt(c.path.split("/"))});var e},uuid:"FileEditor/AddToCurrentPipeline",children:"Add to current pipeline"})}),S="FileEditor/".concat(null===c||void 0===c?void 0:c.path),E=(0,U.y)(),I=E.registerOnKeyDown,T=E.unregisterOnKeyDown;return(0,h.useEffect)((function(){return function(){T(S)}}),[T,S]),I(S,(function(e,t,r){if(n)if(Kt([L.zX,L.Um],t)||Kt([L.PQ,L.Um],t))e.preventDefault(),O(m,c);else if(x&&Kt([L.zX,L.hS],t)){e.preventDefault();var i="".concat(c.path," has changes that are unsaved. ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(i)&&location.reload()}}),[n,m,c,O,x]),(0,P.jsxs)("div",{ref:d,children:[Z,_]})},Jt=C.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-y3uzxv-0"})(["padding:","px;&:hover{cursor:pointer;","}",""],R.iI,(function(e){return"\n      background-color: ".concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n  ")}));function $t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function er(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$t(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var nr=function(e){var n=e.cancelPipeline,t=e.createPipeline,r=e.executePipeline,i=e.interruptKernel,o=e.isPipelineExecuting,l=e.restartKernel,c=e.savePipelineContent,u=e.setMessages,a=(0,h.useState)(null),d=a[0],p=a[1],f=(0,h.useRef)(null),v=(0,h.useRef)(null),m=[{label:function(){return"New pipeline"},onClick:function(){return t({pipeline:{name:(0,Ee.Y6)()}})},uuid:"new pipeline"},{label:function(){return"Save pipeline"},keyTextGroups:[[L.RJ,L.SS]],onClick:function(){return c()},uuid:"save pipeline"}],g=(0,h.useMemo)((function(){var e=[{label:function(){return"Interrupt kernel"},keyTextGroups:[[L.kA],[L.kA]],onClick:function(){return i()},uuid:"Interrupt kernel"},{label:function(){return"Restart kernel"},keyTextGroups:[[L.t_[L.OC]],[L.t_[L.OC]]],onClick:function(){return l()},uuid:"Restart kernel"},{label:function(){return"Clear all outputs"},onClick:function(){return u((function(e){return Object.keys(e).reduce((function(e,n){return er(er({},e),{},(0,s.Z)({},n,[]))}),{})}))},uuid:"Clear all outputs"}];return o?e.push({label:function(){return"Cancel pipeline"},onClick:function(){return n()},uuid:"Cancel pipeline"}):e.push({label:function(){return"Execute pipeline"},onClick:function(){return r()},uuid:"Execute pipeline"}),e}),[o]),b="FileHeaderMenu/index",x=(0,U.y)(),y=x.registerOnKeyDown,j=x.unregisterOnKeyDown;return(0,h.useEffect)((function(){return function(){j(b)}}),[j,b]),y(b,(function(e,n,t){null!==d&&(n[L.QK]?p((function(e){return 0===e?1:e-1})):n[L.DY]&&p((function(e){return 1===e?0:e+1})))}),[d,p]),(0,P.jsx)(De.Z,{onClickOutside:function(){return p(null)},open:!0,style:{position:"relative"},children:(0,P.jsxs)(O.Z,{children:[(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(Jt,{highlighted:0===d,onClick:function(){return p((function(e){return 0===e?null:0}))},onMouseEnter:function(){return p((function(e){return null!==e?0:null}))},ref:f,children:(0,P.jsx)(w.ZP,{children:"File"})}),(0,P.jsx)(G,{items:m,onClickCallback:function(){return p(null)},open:0===d,parentRef:f,uuid:"FileHeaderMenu/file_items"})]}),(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(Jt,{highlighted:1===d,onClick:function(){return p((function(e){return 1===e?null:1}))},onMouseEnter:function(){return p((function(e){return null!==e?1:null}))},ref:v,children:(0,P.jsx)(w.ZP,{children:"Run"})}),(0,P.jsx)(G,{items:g,onClickCallback:function(){return p(null)},open:1===d,parentRef:v,uuid:"FileHeaderMenu/run_items"})]})]})})},tr=t(57384),rr=t(40656),ir=C.default.svg.withConfig({displayName:"Develop__SVGStyle",componentId:"sc-e96eos-0"})([""]),or=function(e){var n=e.fill,t=e.opacity,r=e.size,i=void 0===r?rr.C:r,o=e.style,l=e.viewBox,c=void 0===l?"0 0 16 16":l;return(0,P.jsxs)(ir,{fill:n,height:i,opacity:t,style:o,viewBox:c,width:i,children:[(0,P.jsx)("path",{clipRule:"evenodd",d:"M1 1H5V5H1V1ZM6 6V10H10V6H6ZM11 10V5H6V0H0V5V6V10V11V16H5H6H10H11H16V10H11ZM11 15H15V11H11V15ZM10 15V11H6V15H10ZM5 6V10H1V6H5ZM1 11H5V15H1V11Z",fill:n||"url(#paint0_linear_1930_66663)",fillRule:"evenodd"}),(0,P.jsx)("defs",{children:(0,P.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:"paint0_linear_1930_66663",x1:"-0.824742",x2:"14.0945",y1:"-1.62953e-06",y2:"1.10817",children:[(0,P.jsx)("stop",{stopColor:"#FFCC19"}),(0,P.jsx)("stop",{offset:".585938",stopColor:"#2ECDF7"}),(0,P.jsx)("stop",{offset:"1",stopColor:"#9E7BFF"})]})})]})},lr=t(19963);var cr=function(e){var n=e.page,t=e.pipeline,r=e.projectName,i=(0,m.useRouter)().query,o=(0,h.useMemo)((function(){return[{Icon:or,name:"develop",onClick:function(){g().push({pathname:"/pipelines/".concat(t.uuid)})}}]}),[i,t]),l=(0,h.useMemo)((function(){return(0,P.jsx)(P.Fragment,{children:o.map((function(e){var t=e.Icon,r=e.name,i=e.onClick,o=n===r;return(0,P.jsx)(M.Z,{ml:3,children:(0,P.jsx)(Ae.Z,{beforeIcon:(0,P.jsx)(t,{fill:!o&&lr.GQ,size:2*R.iI}),highlightOnHover:!o,noBackground:!o,notClickable:o,onClick:i,children:(0,P.jsx)(w.ZP,{color:!o&&lr.GQ,children:(0,Ee.kC)(r)})})})}))})}),[o,n]);return(0,P.jsxs)(O.Z,{fullHeight:!0,alignItems:"center",children:[(0,P.jsxs)(Fe.Z,{alignItems:"center",children:[(0,P.jsx)(F.gt,{size:2*R.iI}),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(w.ZP,{large:!0,monospace:!0,children:r})]}),l]})},ur=t(82944),ar=(0,C.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),sr=C.default.div.withConfig({displayName:"TooltipWrapper__ContainerStyle",componentId:"sc-1dd57l8-0"})(["",""],ar),dr=C.default.span.withConfig({displayName:"TooltipWrapper__ContainerSpanStyle",componentId:"sc-1dd57l8-1"})(["",""],ar),pr=C.default.a.withConfig({displayName:"TooltipWrapper__HoverStyle",componentId:"sc-1dd57l8-2"})([""," "," border-radius:50%;"," "," &:active,&:focus{outline:none;}",""],(0,sn.eR)(),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return!e.block&&"\n    display: inline-block;\n  "}),(function(e){return e.block&&"\n    display: block;\n  "}),(function(e){return!e.noHoverOutline&&"\n    &:hover {\n      cursor: pointer;\n\n      box-shadow:\n        0 0 0 ".concat(_.PV,"px ").concat((0,Ae.W)(e),",\n        0 0 0 ").concat(_.PV+_.q2,"px ").concat((e.theme.interactive||Z.Z.interactive).hoverOverlay,";\n    }\n  ")})),fr=C.default.span.withConfig({displayName:"TooltipWrapper__BasicStyle",componentId:"sc-1dd57l8-3"})([""]),hr=C.default.div.withConfig({displayName:"TooltipWrapper__ContentStyle",componentId:"sc-1dd57l8-4"})(["position:absolute;z-index:3;"," "," "," "," "," "," "," "," ",""],(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||Z.Z.shadow).base,";\n  ")}),(function(e){return e.appearAbove&&!e.size&&"\n    bottom: 0;\n  "}),(function(e){return e.appearAbove&&e.size&&"\n    bottom: ".concat(e.size+_.PV+_.q2,"px;\n  ")}),(function(e){return e.appearBefore&&"\n    right: 0;\n  "}),(function(e){return e.leftPosition&&"\n    left: ".concat(e.leftPosition,"px;\n  ")}),(function(e){return!e.leftPosition&&e.rightPosition&&"\n    right: 0px;\n  "}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n  ")}),(function(e){return e.widthFitContent&&"\n    width: max-content;\n  "}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}));var vr=function(e){var n=e.alignLeft,t=e.appearAbove,r=e.appearBefore,i=e.autoWidth,o=e.basic,l=e.block,c=e.center,u=e.children,a=e.content,s=e.inline,d=e.minWidth,p=e.noHoverOutline,f=e.size,v=void 0===f?2*R.iI:f,m=e.topOffset,g=e.widthFitContent,b=(0,h.useState)(!1),x=b[0],y=b[1],j=(0,h.useState)(!1),k=j[0],O=j[1],C=(d-v)/-2,w=s?dr:sr,Z=o?fr:pr,_=(0,P.jsx)(Z,{block:l,href:"#",noHoverOutline:p,onClick:function(e){return e.preventDefault()},onMouseEnter:function(){return y(!0)},size:v,children:u});return(0,h.useEffect)((function(){var e=setInterval((function(){return O(!0)}),1e3);return x||clearInterval(e),function(){return clearInterval(e)}}),[O,x]),(0,P.jsxs)(w,{onMouseLeave:function(){y(!1),O(!1)},size:v,children:[_,k&&(0,P.jsx)(hr,{appearAbove:t,appearBefore:r,leftPosition:c?C:null,minWidth:i?d:null,rightPosition:n,size:v,topOffset:m,widthFitContent:g,children:a})]})},mr=["autoWidth","children","default","description","inverted","keyboardShortcuts","label","maxWidth","muted","size","warning","widthFitContent"];function gr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function br(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gr(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xr=42*R.iI,yr=((0,C.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),(0,C.css)(["border-radius:","px;"," "," ",""],_.BG,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||Z.Z.shadow).popup,";\n\n    background-color: ").concat((e.theme.background||Z.Z.background).popup,";\n  ")}),(function(e){return e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(xr,"px;\n  ")}))),jr=C.default.div.withConfig({displayName:"Tooltip__LabelStyle",componentId:"sc-allmdq-0"})([""," padding:","px ","px;"],yr,.75*R.iI,1*R.iI),kr=C.default.div.withConfig({displayName:"Tooltip__DescriptionStyle",componentId:"sc-allmdq-1"})([""," padding:","px ","px;"],yr,1.5*R.iI,2*R.iI);var Or=function(e){var n=e.autoWidth,t=e.children,r=e.default,i=e.description,o=e.inverted,l=e.keyboardShortcuts,c=e.label,u=e.maxWidth,a=e.muted,s=e.size,d=void 0===s?2*R.iI:s,p=e.warning,f=e.widthFitContent,v=(0,Me.Z)(e,mr),m=i||c||"",g=i?kr:jr,b=Math.min(u||xr,m.length*R.Fo),x=[];null===l||void 0===l||l.forEach((function(e,n){n>=1&&x.push((0,P.jsx)(w.ZP,{default:!0,children:"+"})),x.push(e)}));var y=x.map((function(e,n){var t="keyboard-shortcut-".concat(n);return"string"===typeof e?(0,P.jsx)("span",{children:e},t):h.cloneElement(e,{key:t})}));return(0,P.jsx)(vr,br(br({},v),{},{autoWidth:n,content:(0,P.jsx)(g,{autoWidth:n,width:u,widthFitContent:f,children:(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(w.ZP,{whiteSpaceNormal:!0,children:m}),y.length>=1&&(0,P.jsx)(w.ZP,{muted:!0,children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),y.length>=1&&y]})}),minWidth:b,noHoverOutline:!!t,size:d,widthFitContent:f,children:t||(0,P.jsx)(F.kI,{default:r,inverted:o,muted:a,size:d,warning:p})}))},Cr=["bold","defaultColor","description","disableWordBreak","inputValue","inputWidth","invertedTheme","label","menuOpen","monospace","muted","onClick","notRequired","selectedTextProps","small","stacked","tooltipProps","value"];function wr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Zr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wr(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _r=C.default.div.withConfig({displayName:"LabelWithValueClicker__LabelStyle",componentId:"sc-1hzpn4h-0"})(["margin-bottom:","px;"],.25*R.iI),Pr=C.default.div.withConfig({displayName:"LabelWithValueClicker__DescriptionStyle",componentId:"sc-1hzpn4h-1"})([""]);var Sr,Er,Ir=function(e){var n=e.bold,t=void 0===n||n,r=e.defaultColor,i=e.description,o=e.disableWordBreak,l=e.inputValue,c=e.inputWidth,u=e.invertedTheme,a=e.label,s=e.menuOpen,d=void 0!==s&&s,p=e.monospace,f=e.muted,v=e.onClick,m=e.notRequired,g=e.selectedTextProps,b=e.small,x=e.stacked,y=e.tooltipProps,j=e.value,k=(0,Me.Z)(e,Cr),C=(0,h.useRef)(null),Z=(0,h.useState)(!1),_=Z[0],S=Z[1],E=(0,h.useState)(!1),I=E[0],T=E[1],R=a&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w.ZP,{bold:t,inverted:u,lineHeight:20,monospace:p,muted:f,small:b,children:a}),y&&(0,P.jsx)(M.Z,{ml:1,children:(0,P.jsx)(Or,Zr({muted:!0},y))})]}),A=(0,P.jsxs)(P.Fragment,{children:[j&&(0,P.jsx)(Mn.Z,{block:!0,danger:null===g||void 0===g?void 0:g.danger,fullWidth:!0,muted:f,onClick:function(){v(),C.current&&C.current.focus(),S(!0)},preventDefault:!0,sameColorAsText:f||!(null!==g&&void 0!==g&&g.primary)&&!(null!==g&&void 0!==g&&g.danger)&&!(null!==g&&void 0!==g&&g.warning),underline:null===g||void 0===g?void 0:g.underline,warning:null===g||void 0===g?void 0:g.warning,children:(0,P.jsx)(w.ZP,Zr(Zr({inverted:u,muted:f},g),{},{disableWordBreak:o,monospace:p,small:b,width:c,children:j}))}),(0,P.jsx)(ur.Z,Zr(Zr({},k),{},{basic:!0,defaultColor:r,invertedTheme:u,monospace:p,onBlur:function(e){S(!1),k.onBlur&&k.onBlur(e),I||T(!0)},onFocus:function(e){S(!0),k.onFocus&&k.onFocus(e)},ref:C,small:b,value:l,visible:!j}))]}),D=i&&(0,P.jsx)(Pr,{children:(0,P.jsx)(w.ZP,{dangerouslySetInnerHTML:{__html:i},monospace:p,muted:!0,small:b})});return(0,P.jsxs)(P.Fragment,{children:[x&&(0,P.jsxs)(P.Fragment,{children:[R&&(0,P.jsxs)(_r,{children:[(0,P.jsx)(O.Z,{alignItems:"center",fullHeight:!1,fullWidth:!0,children:R}),D]}),A]}),!x&&(0,P.jsxs)(O.Z,{alignItems:"center",fullWidth:!0,children:[R&&(0,P.jsxs)(P.Fragment,{children:[R,(0,P.jsx)(M.Z,{ml:1})]}),(0,P.jsx)(Fe.Z,{flex:"1",children:A})]}),I&&!_&&!j&&!d&&!m&&(0,P.jsx)(w.ZP,{danger:!0,small:b,children:"This field is required."})]})};!function(e){e.PYTHON="python",e.PYSPARK="pyspark"}(Er||(Er={}));var Tr=(Sr={},(0,s.Z)(Sr,Er.PYTHON,"python3"),(0,s.Z)(Sr,Er.PYSPARK,"pysparkkernel"),Sr),Rr=t(37391),Ar=64*R.iI,Dr=3*R.cd*R.iI,Mr=Dr,Fr=35*R.iI,Br=.5*R.iI,Nr=13*R.iI,Hr=3*R.cd*R.iI,Lr=6*R.iI,zr=2*R.cd*3*R.iI,Ur=(C.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1lxpneo-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||Z.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Fr,"px;\n    width: calc(100% - ").concat(Fr,"px);\n  ")})),C.default.div.withConfig({displayName:"indexstyle__NewHeaderStyle",componentId:"sc-1lxpneo-1"})(["border-bottom:1px solid transparent;height:","px;padding:0 ","px;position:fixed;top:0;width:100%;z-index:4;",""],Hr,2*R.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).panel,";\n    border-color: ").concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}))),Wr=(C.default.div.withConfig({displayName:"indexstyle__TabStyle",componentId:"sc-1lxpneo-2"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],_.n_,_.n_,1*R.iI,2*R.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||Z.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||Z.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||Z.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*R.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||Z.Z.monotone).white,";\n  ")})),(0,C.css)(["height:calc(100% - ","px);position:fixed;top:","px;z-index:2;",""],zr,zr,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).panel,";\n  ")}))),Vr=(0,C.css)([""," height:100%;overflow:auto;position:relative;z-index:2;"],Rr.w5),Qr=(0,C.css)(["height:calc(100% + ","px);position:absolute;top:-","px;width:","px;z-index:6;&:hover{","}"," ",""],Hr,Hr,Br,(function(e){return!e.disabled&&"\n      border-color: ".concat((e.theme.text||Z.Z.text).fileBrowser," !important;\n    ")}),(function(e){return!e.disabled&&"\n    cursor: col-resize;\n  "}),(function(e){return e.active&&!e.disabled&&"\n    border-color: ".concat((e.theme.text||Z.Z.text).fileBrowser," !important;\n  ")})),Gr=C.default.div.withConfig({displayName:"indexstyle__AsideHeaderStyle",componentId:"sc-1lxpneo-3"})(["border-bottom:1px solid transparent;height:","px;position:fixed;top:","px;z-index:4;"," "," ",""],Hr,Hr,(0,Rr.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).panel,";\n  ")}),(function(e){return!e.visible&&"\n    border-left: 1px solid transparent;\n    border-right: 1px solid transparent;\n    border-color: ".concat((e.theme.borders||Z.Z.borders).medium," !important;\n  ")})),Kr=C.default.div.withConfig({displayName:"indexstyle__AsideSubheaderStyle",componentId:"sc-1lxpneo-4"})(["border-bottom:1px solid transparent;height:","px;overflow-x:auto;"," "," ",""],Hr,(0,Rr.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).table,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||Z.Z.borders).medium," !important;\n  ")})),Yr=C.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-1lxpneo-5"})([""," left:0;"],Wr),qr=C.default.div.withConfig({displayName:"indexstyle__BeforeInnerStyle",componentId:"sc-1lxpneo-6"})([""," overflow:hidden;&:hover{overflow:auto;}"],Vr),Xr=C.default.aside.withConfig({displayName:"indexstyle__AfterStyle",componentId:"sc-1lxpneo-7"})([""," right:0;"],Wr),Jr=C.default.div.withConfig({displayName:"indexstyle__AfterInnerStyle",componentId:"sc-1lxpneo-8"})(["",""],Vr),$r=C.default.div.withConfig({displayName:"indexstyle__DraggableStyle",componentId:"sc-1lxpneo-9"})([""," "," ",""],Qr,(function(e){return"undefined"!==typeof e.left&&"\n    border-left: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n    left: ").concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    border-right: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n    right: ").concat(e.right,"px;\n  ")})),ei=C.default.div.withConfig({displayName:"indexstyle__MainWrapper",componentId:"sc-1lxpneo-10"})(["height:100%;position:fixed;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).codeArea,";\n  ")})),ni=C.default.div.withConfig({displayName:"indexstyle__MainContentStyle",componentId:"sc-1lxpneo-11"})(["position:fixed;z-index:2;",""],(function(e){return"\n    height: calc(100% - ".concat(e.headerOffset||0,"px);\n    top: ").concat(e.headerOffset||0,"px;\n  ")})),ti=C.default.div.withConfig({displayName:"indexstyle__MainContentInnerStyle",componentId:"sc-1lxpneo-12"})([""," height:100%;overflow:auto;"],Rr.w5),ri=300,ii=C.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],ri,ri),oi=C.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).codeArea,";\n  ")})),li=C.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;position:sticky;top:","px;width:100%;z-index:5;overflow:auto;"," ",""],Hr,Hr,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}),(0,Rr.y$)()),ci=C.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["border-left:1px solid transparent;height:100%;padding:","px ","px;"," "," ",""],R.iI,R.cd*R.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||Z.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||Z.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||Z.Z.borders).light," !important;\n  ")})),ui=t(33766);var ai,si,di=function(e){var n=e.filePaths,t=e.filesTouched,r=e.isBusy,i=e.isPipelineUpdating,o=e.kernel,l=e.pipeline,c=e.pipelineContentTouched,a=e.pipelineLastSaved,s=(e.restartKernel,e.savePipelineContent),d=e.selectedFilePath,p=e.updatePipelineMetadata,f=(0,h.useContext)(C.ThemeContext),v=o||{},m=v.alive,g=(v.name,(0,h.useState)(!1)),b=g[0],x=g[1],y=(0,h.useState)(""),j=y[0],k=y[1],_=(0,h.useState)(!1),S=_[0],E=_[1],I=(0,h.useRef)(null);(0,h.useEffect)((function(){null!==l&&void 0!==l&&l.uuid&&k(l.uuid)}),[null===l||void 0===l?void 0:l.uuid]);var T,A=(0,h.useMemo)((function(){return n.map((function(e){return decodeURIComponent(e)}))}),[n]);T=c?"Unsaved changes":i?"Saving changes...":a?"Last saved ".concat((0,Ee.JX)(Number(a)/1e3)):"All changes saved";var D="KernelStatus",B=(0,U.y)(),N=B.registerOnKeyDown,H=B.unregisterOnKeyDown;(0,h.useEffect)((function(){return function(){H(D)}}),[H,D]),N(D,(function(e,n,t){b&&String(t[0])===String(L.Uq)&&String(t[1])!==String(L.zX)&&((null===l||void 0===l?void 0:l.uuid)===j?e.target.blur():(p(j),x(!1)))}),[b,j,x,p]);var z=(0,h.useMemo)((function(){return(0,P.jsx)(Ir,{bold:!1,inputValue:j,notRequired:!0,onBlur:function(){return setTimeout((function(){return x(!1)}),300)},onChange:function(e){k(e.target.value),e.preventDefault()},onClick:function(){return x(!0)},onFocus:function(){return x(!0)},stacked:!0,value:b?null:(null===l||void 0===l?void 0:l.uuid)||""})}),[b,j,l]),W=(0,h.useMemo)((function(){return(0,P.jsxs)("div",{ref:I,style:{position:"relative"},children:[(0,P.jsx)(Wt,{beforeElement:(0,P.jsx)(Ve,{color:r?(f||Z.Z).borders.info:m?(f||Z.Z).borders.success:(f||Z.Z).borders.danger,size:R.iI}),blackBorder:!0,compact:!0,inline:!0,onClick:function(){return E(!0)},uuid:"Pipeline/KernelStatus/kernel",children:(null===l||void 0===l?void 0:l.type)||Er.PYTHON}),(0,P.jsx)(De.Z,{disableEscape:!0,onClickOutside:function(){return E(!1)},open:S,children:(0,P.jsx)(G,{items:[{isGroupingTitle:!0,label:function(){return"Select kernel"},uuid:"select_kernel"}].concat((0,u.Z)(Object.keys(Tr).filter((function(e){return(null===l||void 0===l?void 0:l.type)!=e})).map((function(e){return{label:function(){return e},onClick:function(){return p(null===l||void 0===l?void 0:l.name,e)},uuid:e}})))),onClickCallback:function(){return E(!1)},open:S,parentRef:I,uuid:"KernelStatus/select_kernel",width:25*R.iI})})]})}),[m,r,l,S,E,f]),V=(0,h.useMemo)((function(){return(0,P.jsxs)(Fe.Z,{alignItems:"center",children:[(0,P.jsxs)(w.ZP,{children:["Pipeline:\xa0",d&&(null===l||void 0===l?void 0:l.uuid)]}),!d&&z,(0,P.jsx)(M.Z,{mr:3})]})}),[m,r,l,z,d,f]);return(0,P.jsx)(li,{children:(0,P.jsxs)(O.Z,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,P.jsxs)(O.Z,{alignItems:"center",fullHeight:!0,justifyContent:"flex-start",children:[(0,P.jsxs)(M.Z,{px:R.cd,children:[d&&(0,P.jsx)(Mn.Z,{noHoverUnderline:!0,noOutline:!0,onClick:d?function(){return(0,ui.u)({file_path:null})}:null,preventDefault:!0,children:V}),!d&&(0,P.jsxs)(O.Z,{alignItems:"center",children:[V,b&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Mn.Z,{onClick:function(){p(j),x(!1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),null===A||void 0===A?void 0:A.map((function(e){var n=d===encodeURIComponent(e);return(0,P.jsx)(O.Z,{flexDirection:"column",fullHeight:!0,justifyContent:"flex-end",onClick:function(t){t.preventDefault(),n||(s(),(0,ui.u)({file_path:encodeURIComponent(e)}))},children:(0,P.jsx)(ci,{selected:n,children:(0,P.jsxs)(O.Z,{alignItems:"center",fullHeight:!0,children:[!t[e]&&(0,P.jsx)(F.iU,{muted:!n,size:1.5*R.iI}),t[e]&&(0,P.jsx)(Or,{label:"Unsaved changes",size:null,widthFitContent:!0,children:(0,P.jsx)("div",{style:{padding:1},children:(0,P.jsx)(Ve,{borderColor:(f||Z.Z).borders.danger,size:1.25*R.iI})})}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(w.ZP,{muted:!n,children:e}),(0,P.jsx)(M.Z,{mr:2}),n&&(0,P.jsx)(Or,{label:"Close",size:null,widthFitContent:!0,children:(0,P.jsx)(Mn.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var n=(0,xn.Od)(A,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,ui.u)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})},preventDefault:!0,children:(0,P.jsx)(F.x8,{size:1.25*R.iI})})}),!n&&(0,P.jsx)("div",{style:{width:1.25*R.iI}})]})})},e)}))]}),!d&&(0,P.jsx)(M.Z,{px:R.cd,children:(0,P.jsxs)(Fe.Z,{alignItems:"center",children:[W,(0,P.jsx)(M.Z,{ml:2}),(0,P.jsx)(w.ZP,{muted:!0,children:T})]})})]})})};!function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(ai||(ai={})),function(e){e.IMAGE_PNG="image/png",e.TABLE="table",e.TEXT="text",e.TEXT_HTML="text/html",e.TEXT_PLAIN="text/plain"}(si||(si={}));var pi,fi=[si.TEXT,si.TEXT_PLAIN];!function(e){e.DISPLAY_DATA="display_data",e.STATUS="status",e.STREAM="stream",e.STREAM_PIPELINE="stream_pipeline"}(pi||(pi={}));var hi=["columnFlex","rows"];function vi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vi(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var gi=C.default.div.withConfig({displayName:"FlexTable__TableStyle",componentId:"sc-459sza-0"})(["display:flex;flex-direction:column;"]),bi=C.default.div.withConfig({displayName:"FlexTable__CellStyle",componentId:"sc-459sza-1"})([""," display:flex;align-items:center;padding:0 ","px;"," "," "," "," "," "," "," "," ",""],(function(e){return e.flex&&"\n    flex: ".concat(e.flex,";\n  ")}),2*R.iI,(function(e){return void 0!==typeof e.paddingHorizontal&&"\n    padding-left: ".concat(e.paddingHorizontal,"px;\n    padding-right: ").concat(e.paddingHorizontal,"px;\n  ")}),(function(e){return void 0!==typeof e.paddingVertical&&"\n    padding-top: ".concat(e.paddingVertical,"px;\n    padding-bottom: ").concat(e.paddingVertical,"px;\n  ")}),(function(e){return!e.noBorder&&"\n    border-left: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n    border-top: 1px solid ").concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}),(function(e){return!e.noBorder&&e.lastCol&&"\n    border-right: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}),(function(e){return!e.noBorder&&e.lastRow&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}),(function(e){return!e.noBorder&&e.borderRadius&&e.firstCol&&e.firstRow&&"\n    border-top-left-radius: ".concat(_.n_,"px;\n  ")}),(function(e){return!e.noBorder&&e.borderRadius&&e.lastCol&&e.firstRow&&"\n    border-top-right-radius: ".concat(_.n_,"px;\n  ")}),(function(e){return!e.noBorder&&e.borderRadius&&e.firstCol&&e.lastRow&&"\n    border-bottom-left-radius: ".concat(_.n_,"px;\n  ")}),(function(e){return!e.noBorder&&e.borderRadius&&e.lastCol&&e.lastRow&&"\n    border-bottom-right-radius: ".concat(_.n_,"px;\n  ")}));var xi,yi,ji,ki=function(e){var n=e.columnFlex,t=e.rows,r=(0,Me.Z)(e,hi);return(0,P.jsx)(gi,{children:t.map((function(e,i){return(0,P.jsx)(O.Z,{children:e.map((function(o,l){return(0,P.jsx)(bi,mi(mi({firstCol:0===l,firstRow:0===i,flex:n[l],lastCol:l===e.length-1,lastRow:i===t.length-1},r),{},{children:o}))}))})}))})},Oi=t(87372);!function(e){e.TIME="time"}(xi||(xi={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(yi||(yi={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly"}(ji||(ji={}));var Ci=t(55378),wi=t(43313),Zi=t(84779),_i=t(32151);function Pi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Si(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pi(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ei(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return Si(Si({},e),{},{value:"string"===typeof n?n:JSON.stringify(n)})}))}var Ii=t(59e3);function Ti(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ri(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ti(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ti(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ai=C.default.div.withConfig({displayName:"CreateSchedule__ContainerStyle",componentId:"sc-1426ay-0"})(["padding:","px;"],3*R.iI);var Di=function(e){var n=e.editSchedule,t=e.pipeline,r=e.pipelineSchedule,i=e.variables,o=e.setErrors,l=(0,h.useState)(r),c=l[0],u=l[1],s=(0,h.useState)([]),d=s[0],p=s[1],f=(0,v.Db)(Vt.ZP.pipeline_schedules.pipelines.useCreate(null===t||void 0===t?void 0:t.uuid),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){var n;return window.location.href="/pipelines/".concat(null===t||void 0===t?void 0:t.uuid,"/jobs/").concat(null===e||void 0===e||null===(n=e.pipeline_schedule)||void 0===n?void 0:n.id,"?").concat((0,Ii.uM)((0,Ii.iV)()))},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),m=(0,a.Z)(f,1)[0],g=(0,v.Db)(Vt.ZP.pipeline_schedules.useUpdate(null===r||void 0===r?void 0:r.id),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){var n;return window.location.href="/pipelines/".concat(null===t||void 0===t?void 0:t.uuid,"/jobs/").concat(null===e||void 0===e||null===(n=e.pipeline_schedule)||void 0===n?void 0:n.id,"?").concat((0,Ii.uM)((0,Ii.iV)()))},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),b=(0,a.Z)(g,1)[0];(0,h.useEffect)((function(){i&&p(Ei(i,(function(e){return"global"===e.uuid}))),r&&u(r)}),[n,r,i]);var x=c||{},y=x.name,j=(x.schedule_type,x.start_time),k=x.schedule_interval,C=(0,h.useCallback)((function(){(n?b:m)({pipeline_schedule:{name:y,start_time:j,schedule_interval:k}})}),[m,n,b,y,j,k]),_=(0,h.useMemo)((function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Oi.Z,{level:5,monospace:!0,children:"Details"}),(0,P.jsx)(M.Z,{mb:2}),(0,P.jsx)(ki,{borderRadius:!0,columnFlex:[1,2],paddingHorizontal:0,rows:[[(0,P.jsx)(M.Z,{pl:2,children:(0,P.jsx)(w.ZP,{color:Mt.S0,monospace:!0,children:"job name"})}),(0,P.jsx)(ur.Z,{borderless:!0,monospace:!0,onChange:function(e){e.preventDefault(),u((function(n){return Ri(Ri({},n),{},{name:e.target.value})}))},paddingHorizontal:16,paddingVertical:12,placeholder:"enter schedule name",value:y})],[(0,P.jsx)(M.Z,{pl:2,children:(0,P.jsx)(w.ZP,{color:Mt.S0,monospace:!0,children:"frequency"})}),(0,P.jsx)(Ci.Z,{monospace:!0,noBorder:!0,onChange:function(e){e.preventDefault(),u((function(n){return Ri(Ri({},n),{},{schedule_interval:e.target.value})}))},paddingHorizontal:16,paddingVertical:12,placeholder:"select interval",value:k,children:Object.values(ji).map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))})],[(0,P.jsx)(M.Z,{pl:2,children:(0,P.jsx)(w.ZP,{color:Mt.S0,monospace:!0,children:"start date"})}),(0,P.jsx)(ur.Z,{borderless:!0,monospace:!0,onChange:function(e){e.preventDefault(),u((function(n){return Ri(Ri({},n),{},{start_time:e.target.value})}))},paddingHorizontal:16,paddingVertical:12,placeholder:"YYYY-MM-DD HH:MM:SS",value:j})]]})]})}),[c]),S=(0,h.useMemo)((function(){return(0,P.jsx)(P.Fragment,{children:d&&d.length>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Oi.Z,{level:5,monospace:!0,children:"Runtime variables"}),(0,P.jsx)(M.Z,{mb:2}),(0,P.jsx)(ki,{borderRadius:!0,columnFlex:[1,2],paddingHorizontal:0,paddingVertical:12,rows:d.map((function(e){var n=e.uuid,t=e.value;return[(0,P.jsx)(M.Z,{px:2,children:(0,P.jsx)(w.ZP,{color:Mt.Or,monospace:!0,children:n})}),(0,P.jsx)(M.Z,{px:2,children:(0,P.jsx)(w.ZP,{monospace:!0,children:t})})]}))})]})})}),[d]);return(0,P.jsx)(Ai,{children:(0,P.jsxs)(O.Z,{flexDirection:"column",fullWidth:!0,children:[(0,P.jsxs)(O.Z,{justifyContent:"space-between",children:[(0,P.jsx)(Oi.Z,{level:2,monospace:!0,children:n?"Configure":"Create new job"}),(0,P.jsx)(Fe.Z,{children:(0,P.jsx)(Ae.Z,{borderColor:Z.Z.borders.dark,onClick:C,children:(0,P.jsx)(w.ZP,{monospace:!0,children:"Save"})})})]}),(0,P.jsx)(M.Z,{my:3,children:_}),S]})})},Mi=C.default.div.withConfig({displayName:"Orchestration__ContainerStyle",componentId:"sc-rx66db-0"})([""]);var Fi=function(e){var n=e.newPipelineSchedule,t=e.pipeline,r=e.pipelineScheduleAction,i=e.pipelineScheduleId,o=e.setErrors,l=e.variables,c=Vt.ZP.pipeline_schedules.detail(i).data,u=null===c||void 0===c?void 0:c.pipeline_schedule,a=(0,h.useMemo)((function(){return(0,P.jsxs)(P.Fragment,{children:[n&&(0,P.jsx)(Di,{pipeline:t,setErrors:o,variables:l}),!n&&(0,P.jsx)(Di,{editSchedule:!0,pipeline:t,pipelineSchedule:u,setErrors:o,variables:l})]})}),[n,t,u,o,l]);return(0,P.jsx)(Mi,{children:!r&&a})},Bi=t(16910),Ni=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid"];function Hi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Li(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Hi(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var zi,Ui,Wi,Vi,Qi,Gi,Ki=function(e){var n=e.children,t=e.items,r=e.open,i=e.onClickCallback,o=e.onClickOutside,l=e.parentRef,c=e.uuid,u=(0,Me.Z)(e,Ni),a=(0,P.jsxs)("div",{style:{position:"relative",zIndex:o?3:2},children:[(0,P.jsx)("div",{ref:l,children:n}),(0,P.jsx)(G,Li(Li({},u),{},{items:t,onClickCallback:i,open:r,parentRef:l,uuid:c}))]});return o?(0,P.jsx)(De.Z,{onClickOutside:o,open:!0,children:a}):a},Yi=C.default.svg.withConfig({displayName:"Mage8Bit__SVGStyle",componentId:"sc-cj6ltf-0"})([""]),qi=function(e){var n=e.size,t=void 0===n?20:n,r=e.viewBox,i=void 0===r?"0 0 20 20":r;return(0,P.jsxs)(Yi,{height:t,viewBox:i,width:t,children:[(0,P.jsxs)("g",{clipPath:"url(#clip0_297_42814)",children:[(0,P.jsx)("path",{d:"M13.334 0h1.66667v1.66667H13.334zM11.666 1.6665h1.66667v1.66667H11.666z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M10 1.6665h1.66667v1.66667H10z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M8.33398 1.6665h1.66667v1.66667H8.33398z",fill:"#AF93FF"}),(0,P.jsx)("path",{d:"M8.33398 3.3335h1.66667v1.66667H8.33398z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M6.66602 3.3335h1.66667v1.66667H6.66602z",fill:"#AF93FF"}),(0,P.jsx)("path",{d:"M3.33398 5h1.66667v1.66667H3.33398z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M5 5h1.66667v1.66667H5z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M6.66602 5h1.66667v1.66667H6.66602z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M6.66602 5h1.66667v1.66667H6.66602z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M6.66602 8.3335h1.66667v1.66667H6.66602z",fill:"#000"}),(0,P.jsx)("path",{d:"M6.66602 6.6665h1.66667v1.66667H6.66602z",fill:"#AD8FFF"}),(0,P.jsx)("path",{d:"M6.66602 10h1.66667v1.66667H6.66602z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M8.33398 6.6665h1.66667v1.66667H8.33398z",fill:"#AD8FFF"}),(0,P.jsx)("path",{d:"M1.66602 13.3335h1.66667v1.66667H1.66602z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M1.66602 11.6665h1.66667v1.66667H1.66602z",fill:"#FFCC19"}),(0,P.jsx)("path",{d:"M1.66602 10h1.66667v1.66667H1.66602z",fill:"#FFCC19"}),(0,P.jsx)("path",{d:"M1.66602 8.3335h1.66667v1.66667H1.66602zM1.66602 6.6665h1.66667v1.66667H1.66602z",fill:"#FFCC19"}),(0,P.jsx)("path",{d:"M1.66602 6.6665h1.66667v1.66667H1.66602zM0 0h1.66667v1.66667H0zM3.33398 1.6665h1.66667v1.66667H3.33398zM0 3.3335h1.66667v1.66667H0z",fill:"#2ECDF7"}),(0,P.jsx)("path",{d:"M1.66602 16.6665h1.66667v1.66667H1.66602z",fill:"#FFCC19"}),(0,P.jsx)("path",{d:"M1.66602 16.6665h1.66667v1.66667H1.66602zM1.66602 18.3335h1.66667v1.66667H1.66602z",fill:"#FFCC19"}),(0,P.jsx)("path",{d:"M1.66602 15h1.66667v1.66667H1.66602zM3.33398 15h1.66667v1.66667H3.33398z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M3.33398 16.6665h1.66667v1.66667H3.33398z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M3.33398 13.3335h1.66667v1.66667H3.33398z",fill:"#AD8FFF"}),(0,P.jsx)("path",{d:"M8.33398 8.3335h1.66667v1.66667H8.33398z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M10 6.6665h1.66667v1.66667H10z",fill:"#AD8FFF"}),(0,P.jsx)("path",{d:"M10 10h1.66667v1.66667H10z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M11.666 6.6665h1.66667v1.66667H11.666z",fill:"#AD8FFF"}),(0,P.jsx)("path",{d:"M11.666 8.3335h1.66667v1.66667H11.666z",fill:"#C9B6FF"}),(0,P.jsx)("path",{d:"M8.33398 10h1.66667v1.66667H8.33398z",fill:"#FF8DA9"}),(0,P.jsx)("path",{d:"M8.33398 11.6665h1.66667v1.66667H8.33398z",fill:"#FF8DA9"}),(0,P.jsx)("path",{d:"M6.66602 11.6665h1.66667v1.66667H6.66602z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M6.66602 11.6665h1.66667v1.66667H6.66602z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M5 10h1.66667v1.66667H5z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M5 8.3335h1.66667v1.66667H5z",fill:"#232429"}),(0,P.jsx)("path",{d:"M8.33398 11.6665h1.66667v1.66667H8.33398zM8.33398 13.3335h1.66667v1.66667H8.33398z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M10 11.6665h1.66667v1.66667H10z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M11.666 10h1.66667v1.66667H11.666zM13.334 6.6665h1.66667v1.66667H13.334zM13.334 8.3335h1.66667v1.66667H13.334z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M15 8.3335h1.66667v1.66667H15z",fill:"#757575"}),(0,P.jsx)("path",{d:"M15 10h1.66667v1.66667H15z",fill:"#D9D9D9"}),(0,P.jsx)("path",{d:"M10 8.3335h1.66667v1.66667H10z",fill:"#000"}),(0,P.jsx)("path",{d:"M8.33398 5h1.66667v1.66667H8.33398zM11.666 5h1.66667v1.66667H11.666z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M13.334 10h1.66667v1.66667H13.334zM11.666 11.6665h1.66667v1.66667H11.666zM10 13.3335h1.66667v1.66667H10z",fill:"#501FD8"}),(0,P.jsx)("path",{d:"M8.33398 15h1.66667v1.66667H8.33398zM6.66602 13.3335h1.66667v1.66667H6.66602zM15 11.6665h1.66667v1.66667H15z",fill:"#501FD8"}),(0,P.jsx)("path",{d:"M16.666 11.6665h1.66667v1.66667H16.666zM16.666 13.3335h1.66667v1.66667H16.666z",fill:"#501FD8"}),(0,P.jsx)("path",{d:"M15 13.3335h1.66667v1.66667H15z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M13.334 13.3335h1.66667v1.66667H13.334zM13.334 11.6665h1.66667v1.66667H13.334zM11.666 13.3335h1.66667v1.66667H11.666z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M11.666 15h1.66667v1.66667H11.666z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M10 15h1.66667v1.66667H10z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M8.33398 16.6665h1.66667v1.66667H8.33398z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M6.66602 15h1.66667v1.66667H6.66602z",fill:"#AF93FF"}),(0,P.jsx)("path",{d:"M6.66602 16.6665h1.66667v1.66667H6.66602z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M5 16.6665h1.66667v1.66667H5z",fill:"#AF93FF"}),(0,P.jsx)("path",{d:"M5 18.3335h1.66667v1.66667H5z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M6.66602 18.3335h1.66667v1.66667H6.66602zM8.33398 18.3335h1.66667v1.66667H8.33398z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M10 18.3335h1.66667v1.66667H10z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M11.666 18.3335h1.66667v1.66667H11.666zM13.334 18.3335h1.66667v1.66667H13.334z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M15 18.3335h1.66667v1.66667H15z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M16.666 18.3335h1.66667v1.66667H16.666z",fill:"#652EFF"}),(0,P.jsx)("path",{d:"M3.33398 18.3335h1.66667v1.66667H3.33398zM10 16.6665h1.66667v1.66667H10z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M11.666 16.6665h1.66667v1.66667H11.666zM13.334 15h1.66667v1.66667H13.334z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M13.334 16.6665h1.66667v1.66667H13.334z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M15 16.6665h1.66667v1.66667H15z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M15 15h1.66667v1.66667H15z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M16.666 15h1.66667v1.66667H16.666zM18.334 16.6665h1.66667v1.66667H18.334zM18.334 18.3335h1.66667v1.66667H18.334z",fill:"#501FD8"}),(0,P.jsx)("path",{d:"M16.666 16.6665h1.66667v1.66667H16.666z",fill:"#652EFF"}),(0,P.jsx)("path",{d:"M13.334 5h1.66667v1.66667H13.334z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M15 5h1.66667v1.66667H15zM10 5h1.66667v1.66667H10z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M10 3.3335h1.66667v1.66667H10z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M11.666 3.3335h1.66667v1.66667H11.666z",fill:"#7949FF"}),(0,P.jsx)("path",{d:"M11.666 0h1.66667v1.66667H11.666z",fill:"#AF93FF"})]}),(0,P.jsx)("defs",{children:(0,P.jsx)("clipPath",{id:"clip0_297_42814",children:(0,P.jsx)("path",{d:"M0 0h20v20H0z",fill:"#fff"})})})]})},Xi=t(80906),Ji=(Xi.Q0.AVERAGE,Xi.Q0.CLEAN_COLUMN_NAME,Xi.Q0.COUNT,Xi.Q0.COUNT_DISTINCT,Xi.Q0.CUSTOM,Xi.Q0.DIFF,Xi.Q0.FIRST,Xi.Q0.FIX_SYNTAX_ERRORS,Xi.Q0.IMPUTE,Xi.Q0.LAST,Xi.Q0.MAX,Xi.Q0.MEDIAN,Xi.Q0.MIN,Xi.Q0.REFORMAT,Xi.Q0.REMOVE,Xi.Q0.REMOVE_OUTLIERS,Xi.Q0.SELECT,Xi.Q0.SHIFT_DOWN,Xi.Q0.SHIFT_UP,Xi.Q0.SUM,[Xi.Q0.DROP_DUPLICATE,Xi.Q0.FILTER,Xi.Q0.SORT,Xi.Q0.REMOVE]);!function(e){e.AGGREGATE="Aggregate",e.FORMATTING="Formatting",e.COLUMN_REMOVAL="Column removal",e.SHIFT_ROWS="Shift rows in a column",e.MISC="Miscellaneous"}(Gi||(Gi={}));var $i,eo,no,to=(Ui={},(0,s.Z)(Ui,Xi.qs.COLUMN,(zi={},(0,s.Z)(zi,Gi.AGGREGATE,[Xi.Q0.AVERAGE,Xi.Q0.COUNT,Xi.Q0.COUNT_DISTINCT,Xi.Q0.FIRST,Xi.Q0.LAST,Xi.Q0.MAX,Xi.Q0.MEDIAN,Xi.Q0.MIN,Xi.Q0.SUM]),(0,s.Z)(zi,Gi.FORMATTING,[Xi.Q0.CLEAN_COLUMN_NAME,Xi.Q0.FIX_SYNTAX_ERRORS,Xi.Q0.REFORMAT]),(0,s.Z)(zi,Gi.COLUMN_REMOVAL,[Xi.Q0.REMOVE,Xi.Q0.SELECT]),(0,s.Z)(zi,Gi.SHIFT_ROWS,[Xi.Q0.SHIFT_DOWN,Xi.Q0.SHIFT_UP]),(0,s.Z)(zi,Gi.MISC,[Xi.Q0.DIFF,Xi.Q0.IMPUTE,Xi.Q0.REMOVE_OUTLIERS]),zi)),(0,s.Z)(Ui,Xi.qs.ROW,(0,s.Z)({},Gi.MISC,[].concat(Ji))),Ui),ro=Object.keys(to[Xi.qs.COLUMN]),io=[Gi.MISC],oo=(Qi={},(0,s.Z)(Qi,Xi.qs.COLUMN,(Wi={},(0,s.Z)(Wi,Xi.Q0.ADD,"Add column"),(0,s.Z)(Wi,Xi.Q0.AVERAGE,"Aggregate by average value"),(0,s.Z)(Wi,Xi.Q0.CLEAN_COLUMN_NAME,"Clean column name"),(0,s.Z)(Wi,Xi.Q0.COUNT_DISTINCT,"Aggregate by distinct count"),(0,s.Z)(Wi,Xi.Q0.COUNT,"Aggregate by total count"),(0,s.Z)(Wi,Xi.Q0.DIFF,"Difference"),(0,s.Z)(Wi,Xi.Q0.FIRST,"Aggregate by first value"),(0,s.Z)(Wi,Xi.Q0.FIX_SYNTAX_ERRORS,"Fix syntax errors"),(0,s.Z)(Wi,Xi.Q0.IMPUTE,"Fill in missing values"),(0,s.Z)(Wi,Xi.Q0.LAST,"Aggregate by last value"),(0,s.Z)(Wi,Xi.Q0.MAX,"Aggregate by maximum value"),(0,s.Z)(Wi,Xi.Q0.MEDIAN,"Aggregate by median value"),(0,s.Z)(Wi,Xi.Q0.MIN,"Aggregate by mininum value"),(0,s.Z)(Wi,Xi.Q0.REFORMAT,"Reformat"),(0,s.Z)(Wi,Xi.Q0.REMOVE_OUTLIERS,"Remove outliers"),(0,s.Z)(Wi,Xi.Q0.REMOVE,"Remove column(s)"),(0,s.Z)(Wi,Xi.Q0.SELECT,"Keep columns"),(0,s.Z)(Wi,Xi.Q0.SHIFT_DOWN,"Shift rows down in a column"),(0,s.Z)(Wi,Xi.Q0.SHIFT_UP,"Shift rows up in a column"),(0,s.Z)(Wi,Xi.Q0.SUM,"Aggregate by sum of values"),Wi)),(0,s.Z)(Qi,Xi.qs.ROW,(Vi={},(0,s.Z)(Vi,Xi.Q0.DROP_DUPLICATE,"Drop duplicates"),(0,s.Z)(Vi,Xi.Q0.FILTER,"Filter"),(0,s.Z)(Vi,Xi.Q0.SORT,"Sort"),(0,s.Z)(Vi,Xi.Q0.REMOVE,"Remove rows"),Vi)),Qi),lo=R.cd*R.iI,co=C.default.div.withConfig({displayName:"indexstyle__IconContainerStyle",componentId:"sc-oyfjzc-0"})(["align-items:center;border-radius:","px;border:1px solid transparent;display:flex;justify-content:center;"," "," "," "," "," ",""],_.BG,(function(e){return e.border&&"\n    border: 1px dotted ".concat((e.theme.content||Z.Z.content).active,";\n  ")}),(function(e){return e.blue&&"\n    background-color: ".concat(dn(l.DATA_LOADER,e).accent,";\n  ")}),(function(e){return e.purple&&"\n    background-color: ".concat(dn(l.TRANSFORMER,e).accent,";\n  ")}),(function(e){return e.yellow&&"\n    background-color: ".concat(dn(l.DATA_EXPORTER,e).accent,";\n  ")}),(function(e){return!e.compact&&"\n    height: ".concat(lo+R.iI/2,"px;\n    width: ").concat(lo+R.iI/2,"px;\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(lo/2+R.iI,"px;\n    width: ").concat(lo/2+R.iI,"px;\n  ")}));!function(e){e.API="api",e.BIGQUERY="bigquery",e.FILE="file",e.GENERIC="generic",e.POSTGRES="postgres",e.REDSHIFT="redshift",e.S3="s3",e.SNOWFLAKE="snowflake"}(no||(no={}));var uo=($i={},(0,s.Z)($i,no.API,"API"),(0,s.Z)($i,no.BIGQUERY,"Google BigQuery"),(0,s.Z)($i,no.FILE,"Local file"),(0,s.Z)($i,no.GENERIC,"Generic (no template)"),(0,s.Z)($i,no.POSTGRES,"PostgreSQL"),(0,s.Z)($i,no.REDSHIFT,"Amazon Redshift"),(0,s.Z)($i,no.S3,"Amazon S3"),(0,s.Z)($i,no.SNOWFLAKE,"Snowflake"),$i),ao=(eo={},(0,s.Z)(eo,l.DATA_LOADER,[no.GENERIC,no.FILE,no.API,no.BIGQUERY,no.POSTGRES,no.REDSHIFT,no.S3,no.SNOWFLAKE]),(0,s.Z)(eo,l.DATA_EXPORTER,[no.GENERIC,no.FILE,no.BIGQUERY,no.POSTGRES,no.REDSHIFT,no.S3,no.SNOWFLAKE]),(0,s.Z)(eo,l.TRANSFORMER,[no.BIGQUERY,no.POSTGRES,no.REDSHIFT,no.SNOWFLAKE]),eo),so=no,po=function(e,n){return ao[e].map((function(t){return{indent:e===l.TRANSFORMER,label:function(){return uo[t]},onClick:function(){n({config:{data_source:t===so.GENERIC?null:t},language:o.PYTHON,type:e})},uuid:"".concat(e,"/").concat(t)}}))};function fo(e,n,t){return e.map((function(e){return{indent:!0,label:function(){return oo[n][e]},onClick:function(){t({config:{action_type:e,axis:n},language:o.PYTHON,type:l.TRANSFORMER})},uuid:"".concat(n,"_").concat(e)}})).sort((function(e,n){return e.label().localeCompare(n.label())}))}function ho(e,n,t){var r=[];return e.forEach((function(e){if(e!==Gi.MISC)r.push({indent:!0,items:fo(to[n][e],n,t),label:function(){return e},uuid:"".concat(n,"_grouping_").concat((0,Ee.RA)(e))});else{var i=fo(to[n][e],n,t);r.push.apply(r,(0,u.Z)(i))}})),r}function vo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?vo(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var go=function(e){var n=e.addNewBlock,t=e.compact,r=e.blockIdx,i=e.pipeline,c=e.setAddNewBlockMenuOpenIdx,a=e.setRecsWindowOpenBlockIdx,s=(0,h.useState)(null),d=s[0],p=s[1],f=(0,h.useRef)(null),v=(0,h.useRef)(null),m=(0,h.useRef)(null),g={compact:t,inline:!0},b=(0,h.useMemo)((function(){return Object.fromEntries(k.map((function(e){return[e,po(e,n)]})))}),[n]),x=ho(ro,Xi.qs.COLUMN,n),y=ho(io,Xi.qs.ROW,n),j=[{label:function(){return"Generic (no template)"},onClick:function(){n({language:o.PYTHON,type:l.TRANSFORMER})},uuid:"generic_transformer_action"},{bold:!0,items:b[l.TRANSFORMER],label:function(){return"Data sources"},uuid:"data_sources_grouping"},{bold:!0,items:y,label:function(){return"Row actions"},uuid:"row_actions_grouping"},{isGroupingTitle:!0,label:function(){return"Column actions"},uuid:"column_actions_grouping"}].concat((0,u.Z)(x)),C=(0,h.useCallback)((function(){return p(null)}),[]),w=(0,h.useCallback)((function(){return null===c||void 0===c?void 0:c((function(e){return null===e?r:null}))}),[r,c]),Z=Er.PYSPARK===(null===i||void 0===i?void 0:i.type);return(0,P.jsxs)(O.Z,{inline:!0,children:[(0,P.jsx)(De.Z,{onClickOutside:C,open:!0,children:(0,P.jsxs)(O.Z,{children:[(0,P.jsx)(Ki,{disableKeyboardShortcuts:!0,items:Z?b[l.DATA_LOADER]:[{label:function(){return"SQL"},onClick:function(){return n({language:o.SQL,type:l.DATA_LOADER})},uuid:"data_loaders/sql"},{items:b[l.DATA_LOADER],label:function(){return"Python"},uuid:"data_loaders/python"}],onClickCallback:C,open:0===d,parentRef:f,uuid:"data_loader_button",children:(0,P.jsx)(Wt,mo(mo({},g),{},{beforeElement:(0,P.jsx)(co,{blue:!0,compact:t,children:(0,P.jsx)(F.mm,{size:t?lo/2:lo})}),onClick:function(e){e.preventDefault(),p((function(e){return 0===e?null:0})),w()},uuid:"AddNewBlocks/Data_loader",children:"Data loader"}))}),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Ki,{disableKeyboardShortcuts:!0,items:Z?j:[{label:function(){return"SQL"},onClick:function(){return n({language:o.SQL,type:l.TRANSFORMER})},uuid:"transformers/sql"},{items:j,label:function(){return"Python"},uuid:"transformers/python"}],onClickCallback:C,open:1===d,parentRef:v,uuid:"transformer_button",children:(0,P.jsx)(Wt,mo(mo({},g),{},{beforeElement:(0,P.jsx)(co,{compact:t,purple:!0,children:(0,P.jsx)(F.mm,{size:t?lo/2:lo})}),onClick:function(e){e.preventDefault(),p((function(e){return 1===e?null:1})),w()},uuid:"AddNewBlocks/Transformer",children:"Transformer"}))}),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Ki,{disableKeyboardShortcuts:!0,items:Z?b[l.DATA_EXPORTER]:[{label:function(){return"SQL"},onClick:function(){return n({language:o.SQL,type:l.DATA_EXPORTER})},uuid:"data_exporters/sql"},{label:function(){return"Python"},items:b[l.DATA_EXPORTER],uuid:"data_exporters/python"}],onClickCallback:C,open:2===d,parentRef:m,uuid:"data_exporter_button",children:(0,P.jsx)(Wt,mo(mo({},g),{},{beforeElement:(0,P.jsx)(co,{compact:t,yellow:!0,children:(0,P.jsx)(F.mm,{inverted:!0,size:t?lo/2:lo})}),onClick:function(e){e.preventDefault(),p((function(e){return 2===e?null:2})),w()},uuid:"AddNewBlocks/Data_exporter",children:"Data exporter"}))})]})}),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Wt,mo(mo({},g),{},{beforeElement:(0,P.jsx)(co,{border:!0,compact:t,children:(0,P.jsx)(F.mm,{size:t?lo/2:lo})}),onClick:function(e){e.preventDefault(),n({type:l.SCRATCHPAD})},uuid:"AddNewBlocks/Scratchpad",children:"Scratchpad"})),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Wt,mo(mo({},g),{},{beforeElement:(0,P.jsx)(co,{compact:t,children:(0,P.jsx)(qi,{size:lo*(t?.75:1.25)})}),onClick:function(e){e.preventDefault(),a(r)},uuid:"AddNewBlocks/Recommendations",children:"Recs"}))]})},bo=t(89565),xo=t.n(bo),yo=t(62976),jo=C.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-n38rkq-0"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;overflow:hidden;"," ",""],pn,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).table,";\n  ")}),(function(e){return!e.executedAndIdle&&"\n    border-bottom-left-radius: ".concat(_.n_,"px;\n    border-bottom-right-radius: ").concat(_.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),ko=C.default.div.withConfig({displayName:"indexstyle__OutputRowStyle",componentId:"sc-n38rkq-1"})([""," "," ",""],(function(e){return e.first&&"\n    padding-top: ".concat(R.iI*R.cd,"px;\n  ")}),(function(e){return e.last&&"\n    padding-bottom: ".concat(R.iI*R.cd,"px;\n  ")}),(function(e){return e.contained&&"\n    padding-left: ".concat(68,"px;\n    padding-right: ").concat(R.iI*R.cd,"px;\n  ")})),Oo=C.default.div.withConfig({displayName:"indexstyle__HTMLOutputStyle",componentId:"sc-n38rkq-2"})(["table{border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;","}td,th{padding:0 8px;}a{","}"],pn,(function(e){return"\n      color: ".concat((e.theme.interactive||Z.Z.interactive).linkPrimary,";\n    ")})),Co=C.default.div.withConfig({displayName:"indexstyle__ExtraInfoStyle",componentId:"sc-n38rkq-3"})([""," border-bottom-style:solid;border-bottom-width:2px;border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;",""],pn,(function(e){return"\n    background-color: ".concat((e.theme.borders||Z.Z.borders).light,";\n    border-bottom-left-radius: ").concat(_.n_,"px;\n    border-bottom-right-radius: ").concat(_.n_,"px;\n  ")})),wo=C.default.div.withConfig({displayName:"indexstyle__ExtraInfoContentStyle",componentId:"sc-n38rkq-4"})(["padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;"],R.iI,68,R.iI*R.cd,R.iI),Zo=C.default.div.withConfig({displayName:"indexstyle__ExtraInfoBorderStyle",componentId:"sc-n38rkq-5"})(["height:1px;width:100%;",""],(function(e){return"\n    border-top: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}));function _o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Po(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_o(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function So(e){var n={},t={};return null===e||void 0===e||e.forEach((function(e){var r=e.content,i=e.outputs,o=e.uuid;(null===i||void 0===i?void 0:i.length)>=1&&(n[o]=i.map((function(e){var n=e||{},t=n.sample_data,r=n.shape,i=n.text_data,o=n.type;return t?{data:Po({shape:r},t),type:o}:i&&(0,Ee.Pb)(i)?JSON.parse(i):i}))),t[o]=r})),{content:t,messages:n}}function Eo(e,n,t){e.forEach((function(e){(0,an.t8)("".concat(t,"/").concat(e.uuid,"/codeCollapsed"),(0,an.Od)("".concat(n,"/").concat(e.uuid,"/codeCollapsed"))),(0,an.t8)("".concat(t,"/").concat(e.uuid,"/outputCollapsed"),(0,an.Od)("".concat(n,"/").concat(e.uuid,"/outputCollapsed")))}))}function Io(e){return"".concat(e,"/").concat(an.kP)}function To(e){return(0,an.U2)(Io(e),[])}function Ro(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ao(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ro(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ro(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Do=function(e){var n=e.block,t=e.collapsed,r=e.contained,i=void 0===r||r,o=e.hasError,l=e.hideExtraInfo,c=e.isInProgress,a=e.mainContainerWidth,s=e.messages,d=e.openSidekickView,p=e.pipeline,f=e.runCount,v=e.runEndTime,m=e.runStartTime,g=e.selected,x=e.setCollapsed,j=e.setOutputBlocks,k=e.setSelectedOutputBlock,C=n.status,Z=n.type,_=(0,h.useMemo)((function(){return(null===s||void 0===s?void 0:s.length)||0}),[s]),S=b.EXECUTED===C||!c&&0===f&&_>=1||!c&&f>=1&&v>=m,E=(0,h.useState)(),I=E[0],T=E[1],A=/\[__internal_output__\]/,D=function(e){return Array.isArray(e)?e.join("\n"):e},B=(0,h.useMemo)((function(){return s.reduce((function(e,n){var t=e.at(-1);return fi.includes(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.type)===n.type&&!D(null===n||void 0===n?void 0:n.data).match(A)?t.data+=D(n.data):fi.includes(null===n||void 0===n?void 0:n.type)&&!D(null===n||void 0===n?void 0:n.data).match(A)?e.push(Ao(Ao({},n),{},{data:D(n.data)})):e.push(Ao({},n)),e}),[])}),[s]),N=(0,h.useMemo)((function(){var e=function(e,n){var t=e.columns,r=e.index,i=e.rows,o=e.shape,l=n.borderTop,c=n.selected;return o&&T(o),i.length>=1&&(0,P.jsx)(yo.Z,{columns:t,disableScrolling:!c,index:r,maxHeight:60*R.iI,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!l,rows:i,width:a-(2+R.cd*R.iI*2+2+Rr.nn)})};return null===B||void 0===B?void 0:B.map((function(n,t){var r=n.data,o=n.type;if(r&&0!==(null===r||void 0===r?void 0:r.length)){var l=[],c=(l=(l=Array.isArray(r)?r:[r]).filter((function(e){return e}))).length,u=[];return l.forEach((function(n,r){var l,a={contained:i,first:0===t&&0===r,last:t===B.length-1&&r===c-1},s=t>=1;if("string"===typeof n&&n.match(A)){var d=n.split("[__internal_output__]"),p=d[d.length-1];if((0,Ee.Pb)(p)){var f=JSON.parse(p),h=f.data,v=f.type;si.TABLE===v&&(l=e(h,{borderTop:s,selected:g}),!0)}}else o===si.TABLE?(l=e((0,Ee.Pb)(n)?JSON.parse(n):n,{borderTop:s,selected:g}),!0):fi.includes(o)?l=(0,P.jsx)(ko,Ao(Ao({},a),{},{children:(0,P.jsx)(w.ZP,{monospace:!0,preWrap:!0,children:(0,P.jsx)(xo(),{children:n})})})):o===si.TEXT_HTML?l=(0,P.jsx)(ko,Ao(Ao({},a),{},{children:(0,P.jsx)(Oo,{children:(0,P.jsx)(w.ZP,{dangerouslySetInnerHTML:{__html:n},monospace:!0})})})):o===si.IMAGE_PNG&&(l=(0,P.jsx)("div",{style:{backgroundColor:"white"},children:(0,P.jsx)("img",{alt:"Image ".concat(t," from code output"),src:"data:image/png;base64, ".concat(n)})}));u.push((0,P.jsx)("div",{children:l},"code-output-".concat(t,"-").concat(r)))})),u}}))}),[B,i,a,g]);return(0,P.jsxs)(P.Fragment,{children:[i&&(0,P.jsx)(jo,{blockType:Z,executedAndIdle:S,hasError:o,selected:g,children:!t&&N}),!i&&N,S&&!l&&(0,P.jsxs)(Co,{blockType:Z,hasError:o,selected:g,children:[(0,P.jsx)(Zo,{}),(0,P.jsxs)(O.Z,{justifyContent:"space-between",children:[x&&(0,P.jsx)(Fe.Z,{alignItems:"center",px:1,children:(0,P.jsx)(Ae.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return x(!t)},transparent:!0,children:t?(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(F._M,{muted:!0,size:2*R.iI}),"\xa0",(0,P.jsx)(w.ZP,{default:!0,children:"Expand output"})]}):(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(F.Kh,{muted:!0,size:2*R.iI}),I&&(0,P.jsx)(M.Z,{ml:2,children:(0,P.jsx)(w.ZP,{children:"".concat(I[0]," rows x ").concat(I[1]," columns")})})]})})}),(0,P.jsx)(wo,{children:(0,P.jsxs)(O.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,P.jsx)(Or,{appearAbove:!0,appearBefore:!0,block:!0,label:f>=1&&m?"Last run at ".concat(new Date(m.valueOf()).toLocaleString()):o?"Block executed with errors":"Block executed successfully",size:null,widthFitContent:!0,children:(0,P.jsxs)(O.Z,{alignItems:"center",children:[f>=1&&Number(v)>Number(m)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(w.ZP,{small:!0,children:[(Number(v)-Number(m))/1e3,"s"]}),(0,P.jsx)(M.Z,{mr:1})]}),!o&&(0,P.jsx)(F.Jr,{size:2*R.iI,success:!0}),o&&(0,P.jsx)(Ve,{danger:!0,size:2*R.iI,children:(0,P.jsx)(w.ZP,{bold:!0,monospace:!0,small:!0,children:"!"})})]})}),!o&&!y.includes(Z)&&(0,P.jsx)(M.Z,{pl:1,children:(0,P.jsx)(Ae.Z,{afterIcon:(0,P.jsx)(F.M0,{muted:!0,size:1.75*R.iI}),basic:!0,noPadding:!0,onClick:function(){!function(e,n){var t=To(e);t.includes(n)||(0,an.t8)(Io(e),[].concat((0,u.Z)(t),[n]))}(null===p||void 0===p?void 0:p.uuid,n.uuid),d(Ge.DATA),j((function(e){return e.find((function(e){return e.uuid===n.uuid}))?e:(k(n),e.concat(n))}))},transparent:!0,children:(0,P.jsx)(w.ZP,{default:!0,children:"Expand table"})})})]})})]})]})]})},Mo=C.default.svg.withConfig({displayName:"Convert__SVGStyle",componentId:"sc-fmw0vr-0"})([""]),Fo=function(e){var n=e.fill,t=e.opacity,r=e.size,i=void 0===r?rr.C:r,o=e.style,l=e.viewBox,c=void 0===l?"0 0 12 12":l;return(0,P.jsxs)(Mo,{fill:n,height:i,opacity:t,style:o,viewBox:c,width:i,children:[(0,P.jsx)("path",{clipRule:"evenodd",d:"M2.5 1C1.67157 1 1 1.67157 1 2.5v.0625c0 .27614-.223858.5-.5.5s-.5-.22386-.5-.5V2.5C0 1.11929 1.11929 0 2.5 0h7C10.8807 0 12 1.11929 12 2.5v7c0 1.3807-1.1193 2.5-2.5 2.5h-7C1.11929 12 0 10.8807 0 9.5v-.0625c0-.27614.223858-.5.5-.5s.5.22386.5.5V9.5c0 .8284.67157 1.5 1.5 1.5h7c.8284 0 1.5-.6716 1.5-1.5v-7c0-.82843-.6716-1.5-1.5-1.5h-7z",fill:"url(#paint0_linear_1332_60037)",fillRule:"evenodd"}),(0,P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.05806 3.55806c.24408-.24408.6398-.24408.88388 0l2 2c.24408.24408.24408.6398 0 .88388l-2 2c-.24408.24408-.6398.24408-.88388 0-.24408-.24408-.24408-.6398 0-.88388l.93306-.93306H1C.654822 6.625.375 6.34518.375 6s.279822-.625.625-.625h5.99112l-.93306-.93306c-.24408-.24408-.24408-.6398 0-.88388z",fill:"#fff"}),(0,P.jsx)("defs",{children:(0,P.jsxs)("linearGradient",{id:"paint0_linear_1332_60037",x1:"-.618557",y1:"-.000001",x2:"10.5709",y2:".83113",gradientUnits:"userSpaceOnUse",children:[(0,P.jsx)("stop",{stopColor:"#FFCC19"}),(0,P.jsx)("stop",{offset:".585938",stopColor:"#2ECDF7"}),(0,P.jsx)("stop",{offset:"1",stopColor:"#9E7BFF"})]})})]})},Bo=C.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-knskck-0"})(["border-radius:","px;margin-top:","px;padding:","px;position:absolute;right:-","px;z-index:11;",""],_.BG,1.5*R.iI,R.iI,R.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.interactive||Z.Z.interactive).defaultBackground,";\n  ")})),No=function(e,n){var t=(null===n||void 0===n?void 0:n.upstream_blocks)||[];return l.CHART!==e.type&&l.SCRATCHPAD!==e.type&&l.DATA_LOADER!==(null===n||void 0===n?void 0:n.type)&&l.CHART!==(null===n||void 0===n?void 0:n.type)&&l.SCRATCHPAD!==(null===n||void 0===n?void 0:n.type)&&t.push(e.uuid),t},Ho=function(e,n,t,r){for(var i,o=[],c=n.findIndex((function(n){return n.uuid===e.uuid}));!i&&c>=0;){var u;i=n[c-1],l.SCRATCHPAD===(null===(u=i)||void 0===u?void 0:u.type)&&(i=null),c-=1}return i&&o.push(i.uuid),k.map((function(n){return{label:function(){return"Convert to ".concat((0,Ee.wX)(j[n]))},onClick:function(){return r({converted_from:e.uuid,type:n,upstream_blocks:o})},uuid:"".concat(t,"/convert_to/").concat(n)}}))};function Lo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lo(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Uo,Wo=function(e){var n=e.addNewBlock,t=e.addWidget,r=e.block,i=e.blocks,o=e.deleteBlock,c=e.executionState,u=e.interruptKernel,a=e.runBlock,s=e.savePipelineContent,d=e.setOutputCollapsed,p=(e.updateBlock,r.all_upstream_blocks_executed),f=void 0===p||p,v=r.type,m=r.uuid,g=(0,h.useRef)(null),b=(0,h.useRef)(null),x=(0,h.useRef)(null),y=(0,h.useRef)(null),j=(0,h.useState)(!1),k=j[0],_=j[1],S=(0,h.useState)(!1),E=S[0],I=S[1],T=(0,h.useState)(!1),A=T[0],B=T[1],N=(0,h.useState)(!1),H=N[0],z=N[1],U=(0,h.useContext)(C.ThemeContext),W=ai.IDLE!==c,V=dn(v,{theme:U}).accent,Q=(0,h.useMemo)((function(){return Ho(r,i,"CommandButtons",n).map((function(e){return zo(zo({},e),{},{onClick:function(){return s().then((function(){return e.onClick()}))}})}))}),[n,r,i,s]);return(0,P.jsx)(Bo,{children:(0,P.jsxs)(O.Z,{alignItems:"center",flexDirection:"column",children:[ai.QUEUED===c&&(0,P.jsx)(Dt.Z,{color:(U||Z.Z).content.active,type:"cylon"}),ai.BUSY===c&&(0,P.jsx)(Dt.Z,{color:(U||Z.Z).content.active}),!W&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Or,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,P.jsxs)(w.ZP,{children:["Run block \xa0 \xa0",(0,P.jsx)(D,{inline:!0,keyTextGroups:[[L.RJ,L.Lz]],monospace:!0,uuidForKey:m})]}),size:3*R.iI,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){f?a({block:r}):B(!0)},children:(0,P.jsx)(Ve,{color:V,size:3*R.iI,children:(0,P.jsx)(F.Py,{black:!0,size:1.5*R.iI})})})}),(0,P.jsx)(De.Z,{disableEscape:!0,onClickOutside:function(){return B(!1)},open:A,children:(0,P.jsx)(G,{items:[{label:function(){return"Execute block"},onClick:function(){return a({block:r})},uuid:"execute_block"},{label:function(){return"Execute with upstream blocks"},onClick:function(){return a({block:r,runUpstream:!0})},uuid:"execute_upstream"}],left:25*-R.iI,onClickCallback:function(){return B(!1)},open:A,parentRef:x,topOffset:2*-R.iI,uuid:"execute_actions",width:25*R.iI})})]}),l.SCRATCHPAD===r.type&&(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(Ki,{items:Q,left:22*-R.iI,onClickCallback:function(){return I(!1)},onClickOutside:function(){return I(!1)},open:E,parentRef:b,topOffset:3*-R.iI,uuid:"CommandButtons/convert_block",children:(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:(0,P.jsx)(w.ZP,{children:"Convert block"}),size:2.5*R.iI,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I(!E)},ref:b,children:(0,P.jsx)(Fo,{size:2.5*R.iI})})})})}),[l.DATA_LOADER,l.TRANSFORMER].includes(r.type)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{mt:R.cd,ref:g,children:(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:"Add chart",size:2.25*R.iI,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return _(!0)},children:(0,P.jsx)(F.er,{size:2.25*R.iI})})})}),(0,P.jsx)(De.Z,{disableEscape:!0,onClickOutside:function(){return _(!1)},open:k,children:(0,P.jsx)(Re,{addWidget:t,block:r,left:25*-R.iI,onClickCallback:function(){return _(!1)},open:k,parentRef:g,runBlock:a,topOffset:6*R.iI})})]}),(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:(0,P.jsxs)(w.ZP,{children:["Delete block and file \xa0 \xa0",(0,P.jsx)(D,{inline:!0,keyTextGroups:[[L.jW],[L.jW]],monospace:!0,uuidForKey:m})]}),size:2.5*R.iI,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){o(r),d(!1)},children:(0,P.jsx)(F.rF,{size:2.5*R.iI})})})}),W&&(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(Or,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,P.jsxs)(w.ZP,{children:["Interrupt kernel \xa0 \xa0",(0,P.jsx)(D,{inline:!0,monospace:!0,keyTextGroups:[[L.kA],[L.kA]],uuidForKey:m})]}),size:2.5*R.iI,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return u()},children:(0,P.jsx)(Ve,{borderSize:1.5,size:2.5*R.iI,children:(0,P.jsx)(F.x8,{size:1*R.iI})})})})}),(0,P.jsx)("div",{ref:y,children:(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:(0,P.jsx)(w.ZP,{children:"More actions"}),size:2.5*R.iI,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return z(!H)},children:(0,P.jsx)(Ve,{borderSize:1.5,size:2.5*R.iI,children:(0,P.jsx)(F.mH,{size:R.iI})})})})})}),(0,P.jsx)(De.Z,{disableEscape:!0,onClickOutside:function(){return z(!1)},open:H,children:(0,P.jsx)(G,{items:[{label:function(){return"Execute with upstream blocks"},onClick:function(){return a({block:r,runUpstream:!0})},uuid:"execute_upstream"},{label:function(){return"Execute block and run tests"},onClick:function(){return a({block:r,runTests:!0})},uuid:"run_tests"}],left:25*-R.iI,onClickCallback:function(){return z(!1)},open:H,parentRef:y,topOffset:6*R.iI,uuid:"FileHeaderMenu/file_items",width:25*R.iI})})]})})};function Vo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Qo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vo(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Go(e,n){var t=e;t.includes("__init__")||t.push("__init__");var r,i=t.length;return(0,xn.w6)(i).forEach((function(e,o){if(r)return r;var l=t.slice(0,i-o).join("/");r=n["".concat(l,".py")]})),r}function Ko(e,n,t){var r=function(e){var n=new RegExp("([\\w_]+)[ ]*=[ ]*([\\w_]+)","g");return(0,u.Z)(e.matchAll(n)).map((function(e){return{assignmentValue:e[2],variableName:e[1]}}))}(e),i=qn(e,n),o=r.find((function(e){var n=e.variableName;return i.match(new RegExp(n))}));if(o){var l=o.assignmentValue,c=Yn(e)[l];if(c){var s,d=Go(c.split(" as ")[0].replace("from ","").replace("import ","").split(" ").reduce((function(e,n){return n.trim()?e.concat(n):e}),[]).join(".").split("."),t),p=function(e,n){var t=e;n&&(t=t.split(" as ".concat(n))[0]);var r="[\\w.]+",i=["from ".concat(r," import (").concat(r,")"),"import (".concat(r,")")],o=new RegExp("(".concat(i.join("|"),")"),"g"),l=(0,u.Z)(t.matchAll(o))[0];if(l){var c=(0,a.Z)(l,4),s=c[2],d=c[3];return s||d}}(c,l);return null===d||void 0===d||null===(s=d.methods_for_class)||void 0===s?void 0:s[p]}}return[]}function Yo(e,n,t){var r,i,o;return((null===(r=t.outputs)||void 0===r||null===(i=r[0])||void 0===i||null===(o=i.sample_data)||void 0===o?void 0:o.columns)||[]).map((function(t){return{label:"".concat(t," column"),kind:e.languages.CompletionItemKind.Variable,insertText:"'".concat(t,"'"),range:n}}))}function qo(e,n){var t=e.word.split(""),r=new RegExp(t.reduce((function(e,n,r){var i=t[r+1],o=i?"^".concat(i):"";return e+"".concat(n,"[w ").concat(o,"]*")}),""));return n.reduce((function(e,n){return n.label.match(r)?e.concat(n):e}),[])}function Xo(e){var n=e.autocompleteItems,t=e.block,r=e.blocks,i=e.pipeline,o=t.type,c=t.upstream_blocks,s=(0,xn.HK)(n,(function(e){return e.id}));return function(t){return function(d,p){var f=[],h=d.getValueInRange({endColumn:p.column,endLineNumber:p.lineNumber,startColumn:1,startLineNumber:1}),v=d.getWordUntilPosition(p),m=v.endColumn,g=v.startColumn,b={endColumn:m,endLineNumber:p.lineNumber,startColumn:g,startLineNumber:p.lineNumber},x=Ko(h,b,s);if((null===x||void 0===x?void 0:x.length)>=1){var y=qo(v,x.map((function(e){return{filterText:e,insertText:e,kind:t.languages.CompletionItemKind.Method,label:e,range:b}})));if(y.length>=1)return{suggestions:y}}var j=function(e,n,t){var r=qn(e,n);if(r=r.match(/([\w_]+)./)){var i=Yn(e)[r[1]];if(i){var o=Go(i.split(" as ")[0].replace("from ","").replace("import ","").split(" ").reduce((function(e,n){return n.trim()?e.concat(n):e}),[]).join(".").split("."),t);if(null!==o&&void 0!==o&&o.functions)return null===o||void 0===o?void 0:o.functions}}return[]}(h,b,s);if((null===j||void 0===j?void 0:j.length)>=1){var k=qo(v,j.map((function(e){return{filterText:e,insertText:e,kind:t.languages.CompletionItemKind.Function,label:e,range:b}})));if(k.length>=1)return{suggestions:k}}if((null===c||void 0===c?void 0:c.length)>=1){var O=new RegExp("\n@".concat(o));h.match(O)&&f.push.apply(f,(0,u.Z)(qo(v,function(e,n,t){var r=t.block,i=t.blocks,o=r.upstream_blocks,l=(0,xn.HK)(i,(function(e){return e.uuid}));return o.map((function(t,r){var i=l[t].type,o=0===r?"df":"args[".concat(r-1,"]");return{label:"df ".concat(t," ").concat(i," block"),kind:e.languages.CompletionItemKind.Variable,documentation:"Variable for ".concat(i," ").concat(t," data."),insertText:o,range:n}}))}(t,b,e))))}if(v.word.match(/i|f/)){var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=(arguments.length>2?arguments[2]:void 0).word,o=new Set,l={};e.forEach((function(e){var n=e.group,t=e.id,r=e.imports;if([Uo.MAGE_LIBRARY,Uo.USER_LIBRARY].includes(n)){var i=t;i.match(/__init__.py/)&&(i=i.replace(/\/__init__.py/,"")),i=i.split(".py")[0].replaceAll("/","."),l[i]=e}var c=t.replace(".py","").replace("/__init__","").split("/");if(1===c.length)o.add("import ".concat(c[0]));else if(c.length>=2){var u=c.slice(0,c.length-1).join(".");o.add("from ".concat(u," import ").concat(c[c.length-1]))}r.forEach((function(e){return o.add(e)}))}));var c,s="i"===i,d="f"===i,p=s?"import":d?"from":"",f=qn(n,r);if(s&&f.match(/from/)&&(c=f.match(/from ([A-Za-z0-9_.]+) /)[1]),c&&l[c]){var h=l[c],v=h.classes,m=h.constants,g=h.files,b=h.functions,x=[];return[[m,t.languages.CompletionItemKind.Constant],[v,t.languages.CompletionItemKind.Class],[b,t.languages.CompletionItemKind.Function]].forEach((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];t.forEach((function(e){x.push({filterText:"import ".concat(e),insertText:"import ".concat(e),kind:i,label:e,range:r})}))})),g.forEach((function(e){var n=e.split("/"),i=n[n.length-1].split(".py")[0];x.push({filterText:"import ".concat(i),insertText:"import ".concat(i),kind:t.languages.CompletionItemKind.Variable,label:i,range:r})})),x}return(0,u.Z)(o).map((function(e){return{filterText:e,insertText:e,kind:t.languages.CompletionItemKind.File,label:e,range:r}})).concat(Object.entries(l).map((function(e){var n=(0,a.Z)(e,2),i=n[0];return n[1],{filterText:"".concat(p," ").concat(i),insertText:"".concat(p," ").concat(i," "),kind:t.languages.CompletionItemKind.File,label:"".concat(i),range:Qo({},r)}})))}(n,h,v,t,b,e);f.push.apply(f,(0,u.Z)(C))}if(l.CHART===o||l.SCRATCHPAD===o){var w=[];if(l.CHART===o?c.forEach((function(e,n){w.push({block:r.find((function(n){var t=n.uuid;return e===t})),matchIndex:0,variableName:"df_".concat(n+1)})})):l.SCRATCHPAD===o&&function(e,n){return e.map((function(e){return{block:e,regex:new RegExp("([\\w_]+)[ ]*=[ ]*get_variable\\('".concat(n.uuid,"', '").concat(e.uuid,"', 'df'\\)"),"g")}}))}(r,i).forEach((function(e){var n=e.block,t=e.regex,r=h.matchAll(t);(0,u.Z)(r).forEach((function(e){var t=null===e||void 0===e?void 0:e.index,r=null===e||void 0===e?void 0:e[1];r&&w.push({block:n,matchIndex:t,variableName:r})}))})),w.length>=1){var Z,_=null===(Z=h.split("\n")[p.lineNumber-1])||void 0===Z?void 0:Z.slice(0,v.startColumn-1);if(_){var P=[];if(w.forEach((function(e){var n=e.block,r=e.matchIndex,i=e.variableName,o=new RegExp("".concat(i,"\\["));_.match(o)&&P.push({items:Yo(t,b,n),matchIndex:r})})),P.length>=1)return{suggestions:qo(v,(0,xn.YC)(P,"matchIndex",{ascending:!1})[0].items)}}}1===g&&(l.CHART===o?f.push.apply(f,(0,u.Z)(qo(v,c.map((function(e,n){var r="df_".concat(n+1);return{label:"".concat(r," ").concat(e," block"),kind:t.languages.CompletionItemKind.Snippet,insertText:r,range:b}}))))):l.SCRATCHPAD===o&&f.push.apply(f,(0,u.Z)(qo(v,function(e,n,t){var r=t.block,i=t.blocks,o=t.pipeline;return i.reduce((function(t,i){var c=i.type,u=i.uuid;return r.uuid!==u&&[l.DATA_LOADER,l.TRANSFORMER].includes(c)?t.concat({label:"df ".concat(u," ").concat(c," block"),kind:e.languages.CompletionItemKind.Snippet,documentation:"Get the data from ".concat(c," block ").concat(u,"."),insertText:"from mage_ai.data_preparation.variable_manager import get_variable\n\n\ndf = get_variable('".concat(o.uuid,"', '").concat(u,"', 'df')\n"),range:n}):t}),[])}(t,b,e)))))}var S=new Set;r.concat({content:h}).forEach((function(e){var n=e.content;(0,u.Z)(n.matchAll("([A-Za-z_0-9]+)","g")).forEach((function(e){return S.add(e[1])}))}));var E=(0,u.Z)(S);if(E.length){var I=E.map((function(e){return{filterText:e,insertText:e,kind:t.languages.CompletionItemKind.Variable,label:e,range:b}}));f.push.apply(f,(0,u.Z)(qo(v,I)))}return{suggestions:f}}}}function Jo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jo(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function el(e,n){var t,r,i,c,d,p,f=e.addNewBlock,m=e.addNewBlockMenuOpenIdx,g=e.addWidget,b=e.autocompleteItems,x=e.block,y=e.blockIdx,j=e.blockRefs,k=e.blocks,Z=e.dataProviders,_=e.defaultValue,S=void 0===_?"":_,E=e.deleteBlock,I=e.executionState,T=e.fetchFileTree,A=e.fetchPipeline,D=e.height,B=e.interruptKernel,N=e.mainContainerRef,H=e.mainContainerWidth,z=e.messages,W=void 0===z?[]:z,V=e.noDivider,Q=e.onChange,G=e.openSidekickView,K=e.pipeline,Y=e.runBlock,q=e.runningBlocks,X=e.savePipelineContent,J=e.selected,$=e.setAddNewBlockMenuOpenIdx,ee=e.setAnyInputFocused,ne=e.setEditingBlock,te=e.setOutputBlocks,re=e.setRecsWindowOpenBlockIdx,ie=e.setSelected,oe=e.setSelectedOutputBlock,le=e.setTextareaFocused,de=e.textareaFocused,pe=e.widgets,fe=(0,h.useContext)(C.ThemeContext),he=(0,h.useState)(!1),ve=he[0],me=he[1],ge=(0,h.useState)(null),be=ge[0],xe=ge[1],ye=(0,h.useState)(!1),je=ye[0],ke=ye[1],Oe=(0,h.useState)(!1),Ce=Oe[0],we=Oe[1],Ze=(0,h.useState)(S),_e=Ze[0],Pe=Ze[1],Se=(0,h.useState)(null),Ie=Se[0],Te=Se[1],Re=(0,h.useState)((d={},(0,s.Z)(d,ce,null===x||void 0===x||null===(t=x.configuration)||void 0===t?void 0:t.data_provider),(0,s.Z)(d,ue,null===x||void 0===x||null===(r=x.configuration)||void 0===r?void 0:r.data_provider_database),(0,s.Z)(d,ae,null===x||void 0===x||null===(i=x.configuration)||void 0===i?void 0:i.data_provider_profile),(0,s.Z)(d,se,null===x||void 0===x||null===(c=x.configuration)||void 0===c?void 0:c.data_provider_schema),d)),De=Re[0],Me=Re[1],Be=(0,h.useState)(null),Ne=Be[0],He=Be[1],Le=(0,h.useState)(!1),ze=Le[0],Ue=Le[1],We=(0,h.useState)(x.uuid),Qe=We[0],Ge=We[1],Ke=(0,h.useState)(!1),Ye=Ke[0],qe=Ke[1],Xe=(0,h.useState)(0),Je=Xe[0],$e=Xe[1],en=(0,h.useState)(null),nn=en[0],tn=en[1],rn=(0,h.useState)(null),on=rn[0],ln=rn[1],cn=(0,h.useState)(W),un=cn[0],sn=cn[1],pn=(0,Ln.Z)(x);(0,h.useEffect)((function(){if(JSON.stringify(x)!=JSON.stringify(pn)){var e=So([x]).messages,n=null===e||void 0===e?void 0:e[null===x||void 0===x?void 0:x.uuid];(null===n||void 0===n?void 0:n.length)>=1&&sn(n)}}),[x,pn,sn]);var yn=(0,Ln.Z)(W);(0,h.useEffect)((function(){"undefined"!==typeof W&&W.length!==(null===yn||void 0===yn?void 0:yn.length)&&sn(W)}),[W,yn,sn]);var jn=(0,h.useMemo)((function(){var e=new Set;return null===Z||void 0===Z||Z.forEach((function(n){var t=n.profiles;e=new Set([].concat((0,u.Z)(e),(0,u.Z)(t)))})),(0,u.Z)(e)}),[Z]),kn=(0,h.useMemo)((function(){return"".concat(null===K||void 0===K?void 0:K.uuid,"/").concat(null===x||void 0===x?void 0:x.uuid,"/codeCollapsed")}),[null===K||void 0===K?void 0:K.uuid,null===x||void 0===x?void 0:x.uuid]),On=(0,h.useMemo)((function(){return"".concat(null===K||void 0===K?void 0:K.uuid,"/").concat(null===x||void 0===x?void 0:x.uuid,"/outputCollapsed")}),[null===K||void 0===K?void 0:K.uuid,null===x||void 0===x?void 0:x.uuid]);(0,h.useEffect)((function(){we((0,an.U2)(kn,!1)),qe((0,an.U2)(On,!1))}),[]);var Cn=(0,h.useRef)(null),wn=(0,h.useMemo)((function(){return(0,xn.HK)(k,(function(e){return e.uuid}))}),[k]),Zn=(0,h.useMemo)((function(){return!!pe.find((function(e){return e.upstream_blocks.includes(x.uuid)}))}),[x,pe]),_n=(0,h.useCallback)((function(e){var n=e||{},t=n.block,r=n.code,i=n.disableReset,o=n.runDownstream,l=n.runUpstream,c=n.runTests;Y({block:t,code:r||_e,runDownstream:o||Zn,runUpstream:l||!1,runTests:c||!1}),i||($e(1+Number(Je)),tn(null),qe(!1))}),[_e,Zn,Je,Y,$e,tn]),Pn=!!q.find((function(e){return e.uuid===x.uuid}))||(null===un||void 0===un?void 0:un.length)>=1&&I!==ai.IDLE;(0,h.useEffect)((function(){Pn&&ln(Number(new Date))}),[Pn,ln]);var Sn=(0,Ln.Z)(I);(0,h.useEffect)((function(){I===ai.IDLE&&I!==Sn&&tn(Number(new Date))}),[I,Sn,tn]);var En=(0,h.useCallback)((function(e){var n=e.editorRect,t=(n.height,n.top),r=e.position.lineNumber;if(null!==N&&void 0!==N&&N.current){var i=N.current.getBoundingClientRect().height,o=21*r;if(t+o>i){var l=N.current.scrollTop+(o-i+t);N.current.scrollTo(0,l)}else if(o+t<21){var c=N.current.scrollTop+(o+t-21);N.current.scrollTo(0,c)}}}),[N]),In=(0,h.useMemo)((function(){return(null===Ne||void 0===Ne?void 0:Ne.length)>=0?Ne.map((function(e){return{data:e,execution_state:ai.IDLE,type:si.TEXT_PLAIN}})):un.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[Ne,un]),Tn=!!In.find((function(e){return e.error})),Rn=dn(x.type,{theme:fe}).accent,An=(null===x||void 0===x||null===(p=x.upstream_blocks)||void 0===p?void 0:p.length)||0,Dn=(0,h.useMemo)((function(){return{blockType:x.type,hasError:Tn,selected:J}}),[x.type,Tn,J]),Fn=In.length>=1,Bn=(0,h.useCallback)((function(){J||(ee(!1),ie(!0))}),[ee,ie]),Nn=(0,v.Db)(Vt.ZP.blocks.pipelines.useUpdate(null===K||void 0===K?void 0:K.uuid,x.uuid),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){Ue(!1),A(),T(),Pe(_e)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){var n=(0,Gt.qQ)(e).messages;He(n)}}),Hn=(0,a.Z)(Nn,1)[0],zn="CodeBlock/".concat(x.uuid),Un=(0,U.y)(),Wn=Un.registerOnKeyDown,Vn=Un.unregisterOnKeyDown;(0,h.useEffect)((function(){return function(){Vn(zn)}}),[Vn,zn]),Wn(zn,(function(e,n,t){ze&&String(t[0])===String(L.Uq)&&String(t[1])!==String(L.zX)?x.uuid===Qe?e.target.blur():Hn({block:$o($o({},x),{},{name:Qe})}):J&&(Kt([L.zX,L.Uq],n)||Kt([L.PQ,L.Uq],n)?_n({block:x}):Kt([L.XR,L.Uq],n)&&(e.preventDefault(),f({language:x.language,type:x.type,upstream_blocks:[x.uuid]}),_n({block:x})))}),[f,x,ze,Qe,_n,J,Hn]),(0,h.useEffect)((function(){var e;return on&&(e=setInterval((function(){return Te(Number(new Date))}),1e3)),function(){return clearInterval(e)}}),[on]);var Qn=(0,h.useCallback)((function(e){return(0,s.Z)({},l.SCRATCHPAD,(0,u.Z)(Ho(e,k,"block_menu/scratchpad",f)).map((function(e){return $o($o({},e),{},{onClick:function(){return X().then((function(){return e.onClick()}))}})})))[e.type]}),[f,k,Ho,X]),Gn=(0,h.useMemo)((function(){return(0,P.jsx)(Jn,{autoHeight:!0,autocompleteProviders:be,height:D,language:x.language,onChange:function(e){Pe(e),null===Q||void 0===Q||Q(e)},onDidChangeCursorPosition:En,placeholder:"Start typing here...",selected:J,setSelected:ie,setTextareaFocused:le,shortcuts:[function(e,n){return function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"executeCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.Enter],label:"Run selected block",precondition:null,run:function(){return n()}}}(e,(function(){_n({block:x,code:n.getValue()})}))}],textareaFocused:de,value:_e,width:"100%"})}),[be,x,k,_e,D,K,J,de]);(0,h.useEffect)((function(){xe({python:Xo({autocompleteItems:b,block:x,blocks:k,pipeline:K})})}),[b,x,k,K]);var Kn=(0,h.useMemo)((function(){return(0,P.jsx)(Do,$o($o({},Dn),{},{block:x,collapsed:Ye,isInProgress:Pn,mainContainerWidth:H,messages:In,openSidekickView:G,pipeline:K,runCount:Je,runEndTime:nn,runStartTime:on,selected:J,setCollapsed:function(e){qe((function(){return(0,an.t8)(On,e),e}))},setOutputBlocks:te,setSelectedOutputBlock:oe}))}),[x,Dn,Pn,H,In,Ye,Je,nn,on,J]),Yn=(0,h.useCallback)((function(){return ke(!1)}),[]),qn=(0,h.useCallback)((function(e){Me((function(n){var t=$o($o({},n),e);return t.data_provider&&t.data_provider_profile&&X({block:{configuration:t,uuid:x.uuid}}),t}))}),[x,X]);return(0,P.jsxs)("div",{ref:n,style:{position:"relative",zIndex:y===m?11:null},children:[(0,P.jsxs)(O.Z,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:R.iI/2},children:[(0,P.jsxs)(Fe.Z,{alignItems:"center",flex:1,children:[(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(Ve,{color:Rn,size:1.5*R.iI,square:!0}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(Ki,{items:Qn(x),onClickCallback:Yn,onClickOutside:Yn,open:je,parentRef:Cn,uuid:"CodeBlock/block_menu",children:(0,P.jsxs)(w.ZP,{color:Rn,monospace:!0,children:[l.DATA_EXPORTER===x.type&&(0,P.jsx)(P.Fragment,{children:"DATA EXPORTER"}),l.DATA_LOADER===x.type&&(0,P.jsx)(P.Fragment,{children:"DATA LOADER\xa0"}),l.SCRATCHPAD===x.type&&(0,P.jsx)(P.Fragment,{children:"SCRATCHPAD\xa0"}),l.TRANSFORMER===x.type&&(0,P.jsx)(P.Fragment,{children:"TRANSFORMER\xa0"})]})}),l.SCRATCHPAD===x.type&&(0,P.jsx)(Ae.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return ke(!0)},transparent:!0,children:(0,P.jsx)(F.K5,{muted:!0})}),(0,P.jsx)(M.Z,{mr:1})]}),(0,P.jsx)(M.Z,{mr:R.cd}),(0,P.jsx)(F.iU,{size:1.5*R.iI}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(Ir,{bold:!1,inputValue:Qe,monospace:!0,muted:!0,notRequired:!0,onBlur:function(){return setTimeout((function(){ee(!1),Ue(!1)}),300)},onChange:function(e){Ge(e.target.value),e.preventDefault()},onClick:function(){ee(!0),Ue(!0)},onFocus:function(){ee(!0),Ue(!0)},stacked:!0,value:!ze&&x.uuid}),ze&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Mn.Z,{onClick:function(){return X({block:{name:Qe,uuid:x.uuid}}).then((function(){Ue(!1),A(),T()}))},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),l.DATA_LOADER!==x.type&&l.SCRATCHPAD!==x.type&&(0,P.jsx)(O.Z,{alignItems:"center",children:(0,P.jsx)(Or,{appearBefore:!0,block:!0,label:"\n                ".concat((0,Ee._6)("parent block",An),". ").concat(0===An?"Click to select 1 or more blocks to depend on.":"Edit parent blocks.","\n              "),size:null,widthFitContent:!0,children:(0,P.jsx)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e;ie(!0),ne({upstreamBlocks:{block:x,values:null===(e=x.upstream_blocks)||void 0===e?void 0:e.map((function(e){return{uuid:e}}))}})},children:(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsxs)(w.ZP,{monospace:An>=1,underline:0===An,children:[0===An&&"Click to set parent blocks",An>=1&&(0,Ee._6)("parent block",An)]}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(F.Kq,{size:2*R.iI})]})})})}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(M.Z,{px:1,children:(0,P.jsx)(Ae.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){we((function(e){return(0,an.t8)(kn,!e),!e})),Ce||qe((function(){return(0,an.t8)(On,!0),!0}))},transparent:!0,children:Ce?(0,P.jsx)(F._M,{muted:!0,size:2*R.iI}):(0,P.jsx)(F.Kh,{muted:!0,size:2*R.iI})})})]}),(J||Pn)&&(0,P.jsx)(Wo,{addNewBlock:f,addWidget:g,block:x,blocks:k,deleteBlock:E,executionState:I,interruptKernel:B,runBlock:_n,savePipelineContent:X,setOutputCollapsed:qe,updateBlock:Hn}),(0,P.jsxs)(fn,{onClick:function(){return Bn()},children:[(0,P.jsxs)(hn,$o($o({},Dn),{},{className:J&&de?"selected":null,hasOutput:Fn,children:[o.SQL===x.language&&!Ce&&(0,P.jsx)(gn,{children:(0,P.jsxs)(O.Z,{children:[(0,P.jsxs)(Ci.Z,{compact:!0,label:"Data provider",onChange:function(e){return qn((0,s.Z)({},ce,e.target.value))},small:!0,value:De.data_provider,children:[(0,P.jsx)("option",{value:""}),null===Z||void 0===Z?void 0:Z.map((function(e){var n=e.id,t=e.value;return(0,P.jsx)("option",{value:t,children:n},n)}))]}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsxs)(Ci.Z,{compact:!0,label:"Profile",onChange:function(e){return qn((0,s.Z)({},ae,e.target.value))},small:!0,value:De.data_provider_profile,children:[(0,P.jsx)("option",{value:""}),null===jn||void 0===jn?void 0:jn.map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))]}),(no.BIGQUERY===De.data_provider||no.SNOWFLAKE===De.data_provider)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{mr:1}),(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(w.ZP,{monospace:!0,muted:!0,small:!0,children:"Database:"}),(0,P.jsx)("span",{children:"\xa0"}),(0,P.jsx)(ur.Z,{compact:!0,monospace:!0,onBlur:function(){return setTimeout((function(){ee(!1)}),300)},onChange:function(e){qn((0,s.Z)({},ue,e.target.value)),e.preventDefault()},onFocus:function(){ee(!0)},small:!0,value:De.data_provider_database})]})]}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(w.ZP,{monospace:!0,muted:!0,small:!0,children:"Schema to save data:"}),(0,P.jsx)("span",{children:"\xa0"}),(0,P.jsx)(ur.Z,{compact:!0,monospace:!0,onBlur:function(){return setTimeout((function(){ee(!1)}),300)},onChange:function(e){qn((0,s.Z)({},se,e.target.value)),e.preventDefault()},onFocus:function(){ee(!0)},small:!0,value:De.data_provider_schema})]})]})}),x.upstream_blocks.length>=1&&!Ce&&(0,P.jsxs)(gn,{children:[(0,P.jsxs)(w.ZP,{small:!0,children:[o.SQL!==x.language&&"Positional arguments for decorated function:",o.SQL===x.language&&"Tables available in query from upstream blocks:"]}),(0,P.jsxs)(M.Z,{mt:1,children:[o.SQL!==x.language&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(w.ZP,{monospace:!0,muted:!0,small:!0,children:[l.DATA_EXPORTER===x.type&&"@data_exporter",l.DATA_LOADER===x.type&&"@data_loader",l.TRANSFORMER===x.type&&"@transformer"]}),(0,P.jsxs)(w.ZP,{monospace:!0,muted:!0,small:!0,children:["def ",(l.DATA_EXPORTER===x.type?"export_data":l.DATA_LOADER===x.type&&"load_data")||l.TRANSFORMER===x.type&&"transform_df","(",x.upstream_blocks.map((function(e,n){return n>=1?"df_".concat(n+1):"df"})).join(", "),"):"]})]}),x.upstream_blocks.map((function(e,n){var t=wn[e],r=dn(null===t||void 0===t?void 0:t.type,{theme:fe}).accent;return(0,P.jsxs)("div",{children:[o.SQL!==x.language&&(0,P.jsxs)(w.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:["\xa0\xa0\xa0\xa0df",n>=1?"_".concat(n+1):null]}),o.SQL===x.language&&(0,P.jsx)(w.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"{{ df_".concat(n+1," }}")})," ",(0,P.jsx)(w.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"\u2192"})," ",(0,P.jsx)(Mn.Z,{color:r,onClick:function(){var e,n,r=null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e["".concat(null===t||void 0===t?void 0:t.type,"s/").concat(null===t||void 0===t?void 0:t.uuid,".py")];null===r||void 0===r||null===(n=r.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,P.jsx)(w.ZP,{color:r,inline:!0,monospace:!0,small:!0,children:e})})]},e)}))]})]}),Ce?(0,P.jsx)(M.Z,{px:1,children:(0,P.jsxs)(w.ZP,{monospace:!0,muted:!0,children:["(",(0,Ee._6)("line",null===_e||void 0===_e?void 0:_e.split(/\r\n|\r|\n/).length)," collapsed)"]})}):Gn,Pn&&Ie&&Ie>on&&(0,P.jsx)(bn,{children:(0,P.jsxs)(w.ZP,{muted:!0,children:["".concat(Math.round((Ie-on)/1e3)),"s"]})})]})),Fn&&Kn]}),!V&&(0,P.jsxs)(vn,{onMouseEnter:function(){return me(!0)},onMouseLeave:function(){me(!1),$(null)},children:[ve&&(0,P.jsx)(go,{addNewBlock:function(e){var n=e.content,t=e.configuration,r=No(x,e);return[l.DATA_LOADER,l.TRANSFORMER].includes(x.type)&&l.SCRATCHPAD===e.type&&(n="from mage_ai.data_preparation.variable_manager import get_variable\n\n\ndf = get_variable('".concat(K.uuid,"', '").concat(x.uuid,"', 'df')\n")),o.SQL===x.language&&(t=$o($o({},x.configuration),t)),f($o($o({},e),{},{configuration:t,content:n,upstream_blocks:r}))},blockIdx:y,compact:!0,pipeline:K,setAddNewBlockMenuOpenIdx:$,setRecsWindowOpenBlockIdx:re}),(0,P.jsx)(mn,{className:"block-divider-inner"})]})]})}!function(e){e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.MAGE_LIBRARY="mage_library",e.TRANSFORMER="transformer",e.USER_LIBRARY="user_library"}(Uo||(Uo={}));var nl=h.forwardRef(el);function tl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function rl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?tl(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var il=function(e){var n=e.addNewBlockAtIndex,t=e.addWidget,r=e.anyInputFocused,i=e.autocompleteItems,c=e.blockRefs,u=e.blocks,a=void 0===u?[]:u,d=e.dataProviders,p=e.deleteBlock,f=e.fetchFileTree,v=e.fetchPipeline,m=e.interruptKernel,g=(e.isPipelineUpdating,e.kernel,e.mainContainerRef),b=e.mainContainerWidth,x=e.messages,y=e.onChangeCodeBlock,j=e.openSidekickView,k=e.pipeline,O=e.pipelineContentTouched,C=(e.pipelineLastSaved,e.restartKernel),w=e.runBlock,Z=e.runningBlocks,_=void 0===Z?[]:Z,S=e.savePipelineContent,E=e.selectedBlock,I=e.setAnyInputFocused,T=e.setEditingBlock,A=(e.setMessages,e.setOutputBlocks),D=e.setPipelineContentTouched,F=e.setRecsWindowOpenBlockIdx,B=(e.setRunningBlocks,e.setSelectedBlock),N=e.setSelectedOutputBlock,H=e.setTextareaFocused,z=e.textareaFocused,W=e.widgets,V=(0,h.useState)(!1),Q=V[0],G=V[1],K=(0,h.useState)(!0),Y=K[0],q=K[1],X=(0,h.useState)(null),J=X[0],$=X[1],ee=(0,h.useMemo)((function(){return _.reduce((function(e,n,t){return rl(rl({},e),{},(0,s.Z)({},n.uuid,rl(rl({},n),{},{priority:t})))}),{})}),[_]),ne=(0,Ln.Z)(E),te=(0,h.useMemo)((function(){return a.length}),[a]),re="PipelineDetail/index",ie=(0,U.y)(),oe=ie.registerOnKeyDown,le=ie.unregisterOnKeyDown;(0,h.useEffect)((function(){return function(){le(re)}}),[le,re]),oe(re,(function(e,t,i){if(O&&Kt([L.zX,L.hS],t)){e.preventDefault();"undefined"!==typeof location&&window.confirm("You have changes that are unsaved. Click cancel and save your changes before reloading page.")&&location.reload()}else if(Kt([L.zX,L.Um],t))e.preventDefault(),S();else if(z)t[L.vP]?H(!1):O||L.Z1.find((function(e){return t[e]}))||D(!0);else{if(E){var o=a.findIndex((function(e){var n=e.uuid;return E.uuid===n}));if(t[L.vP])B(null),F(null);else if(i[0]===L.xD&&i[1]===L.xD)m();else if(i[0]===L.l1&&i[1]===L.l1&&-1!==o)p(E).then((function(e){null!==e&&void 0!==e&&e.error||setTimeout((function(){o===a.length-1?B(a[o-1]):a.length>=0?B(a[o+1]):B(null)}),100)}));else if(t[L.Bu]&&o>=1){var u=a[o-1];if(u){var s,d;B(u);var f="".concat(u.type,"s/").concat(u.uuid,".py");null===(s=c.current[f])||void 0===s||null===(d=s.current)||void 0===d||d.scrollIntoView()}}else if(t[L.kD]&&o<=te-2){var h=a[o+1];if(h){var v,g;B(h);var b="".concat(h.type,"s/").concat(h.uuid,".py");null===(v=c.current[b])||void 0===v||null===(g=v.current)||void 0===g||g.scrollIntoView()}}else Kt([L.Uq],t)?H(!0):!r&&Kt([L.zH],t)?n({type:l.SCRATCHPAD},o,B):!r&&Kt([L.Fv],t)&&n({type:l.SCRATCHPAD},o+1,B)}else ne&&t[L.Uq]&&B(ne);i[0]===L.OC&&i[1]===L.OC&&C()}}),[n,r,c.current,a,m,te,O,C,S,E,ne,D,B,H,z]),(0,h.useEffect)((function(){var e=setInterval((function(){O&&S()}),5e3);return function(){clearInterval(e)}}),[O,S]),(0,h.useEffect)((function(){setTimeout((function(){return G(!0)}),600)}),[k]);var ce=(0,h.useMemo)((function(){return a.map((function(e,r){var o=e.type,l=e.uuid,u=(null===E||void 0===E?void 0:E.uuid)===l,s=ee[l],O=s?0===s.priority?ai.BUSY:ai.QUEUED:ai.IDLE,C="".concat(o,"s/").concat(l,".py");return c.current[C]=(0,h.createRef)(),(0,P.jsx)(nl,{addNewBlock:function(e){return H(!0),n(e,r+1,B)},addNewBlockMenuOpenIdx:J,addWidget:t,autocompleteItems:i,block:e,blockIdx:r,blockRefs:c,blocks:a,dataProviders:d,defaultValue:e.content,deleteBlock:function(e){p(e),I(!1)},executionState:O,fetchFileTree:f,fetchPipeline:v,interruptKernel:m,mainContainerRef:g,mainContainerWidth:b,messages:x[l],noDivider:r===te-1,onChange:function(e){return y(l,e)},openSidekickView:j,pipeline:k,ref:c.current[C],runBlock:w,runningBlocks:_,savePipelineContent:S,selected:u,setAddNewBlockMenuOpenIdx:$,setAnyInputFocused:I,setEditingBlock:T,setOutputBlocks:A,setRecsWindowOpenBlockIdx:F,setSelected:function(n){return B(!0===n?e:null)},setSelectedOutputBlock:N,setTextareaFocused:H,textareaFocused:u&&z,widgets:W},l)}))}),[n,J,t,i,c,a,p,f,v,m,g,b,x,te,y,j,k,w,_,ee,S,E,$,I,T,A,F,B,N,H,z,W]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ii,{children:Y&&(0,P.jsx)(Bi.Z,{classNames:"pipeline-detail",in:Q,onEntered:function(){return setTimeout((function(){return q(!1)}),ri)},timeout:1,children:(0,P.jsx)(oi,{})})}),(0,P.jsxs)(M.Z,{mt:1,px:R.cd,children:[ce,(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(go,{addNewBlock:function(e){var t=a[a.length-1],r=null,i={},c=[];t&&(i=t.configuration,l.CHART!==t.type&&l.SCRATCHPAD!==t.type&&l.DATA_LOADER!==e.type&&l.CHART!==e.type&&l.SCRATCHPAD!==e.type&&c.push(t.uuid),[l.DATA_LOADER,l.TRANSFORMER].includes(t.type)&&l.SCRATCHPAD===e.type&&(r="from mage_ai.data_preparation.variable_manager import get_variable\n\n\ndf = get_variable('".concat(k.uuid,"', '").concat(t.uuid,"', 'df')\n")),o.SQL===t.language&&(i=rl(rl({},t.configuration),i))),n(rl(rl({},e),{},{configuration:i,content:r,upstream_blocks:c}),te,B),H(!0)},pipeline:k,setRecsWindowOpenBlockIdx:F})})]})]})},ol=6.25*R.iI,ll=100*R.iI,cl=C.default.div.withConfig({displayName:"indexstyle__WindowContainerStyle",componentId:"sc-16gmugf-0"})(["border-radius:","px;width:100%;max-width:","px;z-index:101;position:absolute;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%);",""],_.n_,ll,(function(e){return"\n    box-shadow: ".concat((e.theme||Z.Z).shadow.window,";\n    background-color: ").concat((e.theme||Z.Z).background.panel,";\n  ")})),ul=(0,C.css)(["display:flex;align-items:center;justify-content:space-between;height:","px;padding:","px ","px;",""],ol,R.iI,R.cd*R.iI,(function(e){return"\n    background-color: ".concat((e.theme||Z.Z).background.output,";\n  ")})),al=C.default.div.withConfig({displayName:"indexstyle__WindowHeaderStyle",componentId:"sc-16gmugf-1"})([""," border-top-left-radius:","px;border-top-right-radius:","px;",""],ul,_.n_,_.n_,(function(e){return"\n    border-bottom: ".concat(_.YF,"px ").concat(_.M8," ").concat((e.theme||Z.Z).borders.medium,";\n  ")})),sl=C.default.div.withConfig({displayName:"indexstyle__WindowContentStyle",componentId:"sc-16gmugf-2"})(["overflow:auto;padding:","px 0;"," "," "," ",""],R.iI,Rr.w5,(0,sn.eR)(),(function(e){return e.minMaxHeight&&"\n    max-height: ".concat(7*R.iI,"px;\n  ")}),(function(e){return!e.minMaxHeight&&"\n    max-height: 75vh;\n  "})),dl=C.default.div.withConfig({displayName:"indexstyle__WindowFooterStyle",componentId:"sc-16gmugf-3"})([""," border-bottom-left-radius:","px;border-bottom-right-radius:","px;",""],ul,_.n_,_.n_,(function(e){return"\n    border-top: ".concat(_.YF,"px ").concat(_.M8," ").concat((e.theme||Z.Z).borders.medium,";\n  ")})),pl=C.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-16gmugf-4"})(["padding:","px ","px;",""],R.iI,R.iI*R.cd,(function(e){return!e.disableHover&&"\n    &:hover {\n      cursor: pointer;\n      background-color: ".concat((e.theme||Z.Z).background.output,";\n    }\n  ")}));var fl=function(e){var n=e.suggestion,t=e.onClick,r=n||{},i=r.action_payload,o=r.message,l=r.title,c=(null===i||void 0===i?void 0:i.action_arguments)||[];return(0,P.jsx)(pl,{onClick:function(){return t(n)},children:(0,P.jsxs)(O.Z,{alignItems:"flex-start",children:[(0,P.jsx)(M.Z,{pr:2,pt:"4px",children:(0,P.jsx)(F.Lp,{size:lo})}),(0,P.jsxs)(Fe.Z,{flexDirection:"column",children:[(0,P.jsx)(w.ZP,{monospace:!0,children:l}),(0,P.jsx)(w.ZP,{monospace:!0,secondary:!0,small:!0,children:o}),(0,P.jsxs)(w.ZP,{muted:!0,small:!0,children:["Columns affected: ",c.join(", ")]})]})]})})};function hl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hl(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ml=function(e){var n=e.addNewBlockAtIndex,t=e.blockInsertionIndex,r=e.blocks,i=void 0===r?[]:r,c=e.children,u=e.loading,a=e.selectedBlock,s=e.setRecsWindowOpenBlockIdx,d=e.setSelectedBlock,p=(e.suggestions,h.Children.count(c)),f="undefined"===typeof t?i.length:t+1,v=null===a?"Select a block to view data cleaning recommendations.":"No recommendations available.";return(0,P.jsxs)(cl,{children:[(0,P.jsxs)(al,{children:[(0,P.jsxs)(Fe.Z,{alignItems:"center",children:[(0,P.jsx)("div",{children:(0,P.jsx)(qi,{})}),(0,P.jsx)(M.Z,{pr:1}),(0,P.jsx)(w.ZP,{disableWordBreak:!0,monospace:!0,children:"Recommendations:\xa0"}),(0,P.jsx)(Ci.Z,{compact:!0,label:"Select block",monospace:!0,onChange:function(e){var n=e.target.value,t=i.find((function(e){return e.uuid===n}));d(t)},value:null===a||void 0===a?void 0:a.uuid,children:i.map((function(e){var n=e.uuid;return(0,P.jsxs)("option",{value:n,children:[n,"\xa0"]},n)}))})]}),(0,P.jsx)(Ae.Z,{iconOnly:!0,onClick:function(){return s(null)},children:(0,P.jsx)(F.x8,{muted:!0})})]}),(0,P.jsxs)(sl,{minMaxHeight:0===p,children:[u&&(0,P.jsx)(M.Z,{p:1,children:(0,P.jsx)(O.Z,{justifyContent:"center",children:(0,P.jsx)(Dt.Z,{inverted:!0})})}),u||0!==p?h.Children.map(c,(function(e,t){return h.cloneElement(e,{key:t,onClick:function(e){var t=No(a),r=(0,Ee.RA)((null===e||void 0===e?void 0:e.title)||"").toLowerCase(),i="".concat(r,"_").concat((0,Ee.Lo)());n({config:{suggested_action:vl({},e)},language:o.PYTHON,name:i,type:l.TRANSFORMER,upstream_blocks:t},f,d)}})})):(0,P.jsx)(pl,{disableHover:!0,children:(0,P.jsx)(w.ZP,{children:v})})]}),(0,P.jsxs)(dl,{children:[(0,P.jsxs)(w.ZP,{default:!0,monospace:!0,children:[p," results"]}),p>0&&(0,P.jsx)(w.ZP,{default:!0,children:"Click on a row to add a new code block, which you can edit after."})]})]})},gl=C.default.div.withConfig({displayName:"indexstyle__EntryStyle",componentId:"sc-1wir6ti-0"})(["border-bottom:1px solid #1C1C1C;background:#232429;padding:","px;",""],2*R.iI,(function(e){return e.selected&&"\n    background: #2E3036;\n  "}));function bl(e){var n=e.pipelineUuid,t=e.schedules,r=e.selectedPipelineUuid,i=e.selectedScheduleId,o=(0,h.useMemo)((function(){return r===n}),[n,r]),l=(0,h.useState)(!1),c=l[0],u=l[1];return(0,h.useEffect)((function(){o&&u(!0)}),[o]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(gl,{children:(0,P.jsxs)(O.Z,{justifyContent:"space-between",children:[(0,P.jsx)(Mn.Z,{noHoverUnderline:!0,noOutline:!0,onClick:function(){return u((function(e){return!e}))},children:(0,P.jsxs)(Fe.Z,{alignItems:"end",children:[c&&(0,P.jsx)(F.pO,{muted:!0,size:3*R.iI}),!c&&(0,P.jsx)(F.TZ,{muted:!0,size:3*R.iI}),(0,P.jsx)(w.ZP,{bold:o,monospace:!0,muted:!o,textOverflow:!0,children:n})]})}),(0,P.jsx)(Mn.Z,{noHoverUnderline:!0,noOutline:!0,onClick:function(){return g().push({pathname:"/pipelines/".concat(n,"/new_schedule"),query:(0,Ii.iV)()})},children:(0,P.jsx)(F.mm,{size:2.5*R.iI})})]})}),c&&(null===t||void 0===t?void 0:t.map((function(e){var t=e.id,r=e.name,l=o&&i===String(t);return(0,P.jsx)(Mn.Z,{noHoverUnderline:!0,noOutline:!0,onClick:function(){return g().push({pathname:"/pipelines/".concat(n,"/jobs/").concat(t),query:(0,Ii.iV)()})},children:(0,P.jsx)(gl,{selected:l,children:(0,P.jsx)(M.Z,{pl:4,children:(0,P.jsx)(w.ZP,{bold:l,monospace:!0,muted:!l,children:r})})})})})))]})}var xl=function(e){var n=e.pipelineSchedules,t=e.pipelineScheduleId,r=e.pipelineUuid,i=e.width;return(0,P.jsx)(O.Z,{flexDirection:"column",width:i,children:Object.entries(n||{}).map((function(e){var n=(0,a.Z)(e,2),i=n[0],o=n[1];return(0,P.jsx)(bl,{pipelineUuid:i,schedules:o,selectedPipelineUuid:r,selectedScheduleId:t})}))})},yl=t(70001),jl=t(47256),kl=t(11754);var Ol=function(e){var n=e.afterWidth,t=e.features,r=e.insightsOverview,i=e.statistics,o=r.correlations,l=void 0===o?[]:o,c=n-(2*R.cd*R.iI+Rr.nn),u=function(e){var n=[];return{heatmapData:null===e||void 0===e?void 0:e.map((function(e,t){var r=e.correlations,i=e.feature.uuid;n.push({label:i});var o=r[0].y.map((function(e){var n=e.value;return(0,Ee.QV)(n)}));return o.splice(t,0,1),o})),xyLabels:n}}(l),s=u.heatmapData,d=u.xyLabels,p=function(e,n){return(0,xn.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:1-n["".concat(e.uuid,"/null_value_rate")]}})),"value")}(t,i),f=function(e,n){return(0,xn.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:n["".concat(e.uuid,"/count_distinct")]}})),"value")}(t,i),h=function(e,n){return(0,xn.YC)(null===e||void 0===e?void 0:e.map((function(e){var t=Object.entries(n["".concat(e.uuid,"/value_counts")]||{})[0]||[],r=(0,a.Z)(t,2),i=r[0],o=r[1];return{feature:e,percentage:Number(o)/n.count,value:i}})),"percentage")}(t,i);return(0,P.jsxs)(O.Z,{flexDirection:"column",children:[(null===p||void 0===p?void 0:p.length)>=1&&(0,P.jsx)(kl.Z,{headerTitle:"Data completion",width:c,children:(0,P.jsx)(yl.Z,{data:p.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*R.iI,50*R.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,Ee.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),(null===f||void 0===f?void 0:f.length)>=1&&(0,P.jsx)(kl.Z,{headerTitle:"Number of unique values",width:c,children:(0,P.jsx)(yl.Z,{data:f.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*R.iI,50*R.iI),renderTooltipContent:function(e){var n=e.x;return"".concat(n," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),h.length>=1&&(0,P.jsx)(kl.Z,{headerTitle:"Distribution of values",width:c,children:(0,P.jsx)(yl.Z,{data:h.map((function(e){var n=e.feature,t=e.percentage;return{feature:n,value:e.value,x:t,y:n.uuid}})),height:Math.max(3*h.length*R.iI,50*R.iI),renderTooltipContent:function(e){var n=e.value,t=e.x;return"".concat(n," is ").concat((0,Ee.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),l&&(null===s||void 0===s?void 0:s.length)>=1&&(0,P.jsx)(kl.Z,{headerTitle:"Correlations",children:(0,P.jsx)(M.Z,{p:1,children:(0,P.jsx)(jl.Z,{countMidpoint:0,data:s,height:8*R.iI*d.length,minCount:-1,xLabels:d,yLabels:d})})})]})},Cl=t(92083),wl=t.n(Cl),Zl=t(26226),_l=t(84969),Pl=t(90948),Sl=t(65743),El=t(39048),Il=t(79487),Tl=t(29989),Rl=t(59381),Al=t(9846),Dl=t(65376),Ml=t(52359),Fl=t(48072),Bl=t(24903),Nl=t(98677),Hl=t(84181);function Ll(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ll(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ll(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ul={bottom:R.iI*(3+R.cd),left:R.iI*R.cd,right:R.iI*R.cd,top:R.iI*R.cd};function Wl(e,n){return Math.max.apply(Math,(0,u.Z)(e.map(n)))}function Vl(e){var n=e.data,t=e.height,r=e.keyForYData,i=e.large,o=e.margin,l=void 0===o?{}:o,c=e.orientationVertical,a=void 0!==c&&c,s=e.showTooltip,d=e.width,p=e.yLabelFormat,f=(0,h.useContext)(C.ThemeContext),v=(0,h.useCallback)((function(e){return e[r]}),[r]),m=p;m||(m=function(e){return e.length>20?"".concat(e.substring(0,20),"..."):e});var g=i?Wn.iD:Wn.J5,b=zl(zl({},Ul),l),x=n.slice(Math.max(0,n.length-50)),y=(0,h.useMemo)((function(){return Object.keys((null===x||void 0===x?void 0:x[0])||{}).filter((function(e){return e!==r}))}),[x,r]),j=(0,Bl.Z)({domain:y,range:[Mt.a$,Mt.Ej,Mt.hM,Mt.ZA,Mt.$R,Mt.X_,Mt.er,Mt.hl,Mt.nQ]}),k=(0,h.useMemo)((function(){return x.map(v)}),[x,v]),O=(0,Nl.Z)({domain:k,padding:.1}),w=(0,Nl.Z)({domain:y,padding:.1}),_=(0,Hl.Z)({domain:[0,Wl(x,(function(e){return Wl(y,(function(n){return Number(e[n])}))}))]}),P={active:(null===f||void 0===f?void 0:f.content.default)||Z.Z.content.default,backgroundPrimary:(null===f||void 0===f?void 0:f.chart.backgroundPrimary)||Z.Z.chart.backgroundPrimary,backgroundSecondary:(null===f||void 0===f?void 0:f.chart.backgroundSecondary)||Z.Z.chart.backgroundSecondary,muted:(null===f||void 0===f?void 0:f.content.muted)||Z.Z.content.muted,primary:(null===f||void 0===f?void 0:f.chart.primary)||Z.Z.chart.primary,tooltipBackground:(null===f||void 0===f?void 0:f.background.navigation)||Z.Z.background.navigation},S=k;a&&(S=x.reduce((function(e,n){return e.concat(y.map((function(e){var t=n[e];return(0,Ee.kE)(t)?parseInt(String(t)):t})))}),[]));var E=Math.min(Math.max.apply(Math,(0,u.Z)(S.map((function(e){return String(e).length})))),20);b.left+=7*E;var I=d-(b.left+b.right),T=t-(b.top+b.bottom);a?(O.rangeRound([0,I]),_.rangeRound([T,0])):(O.rangeRound([T,0]),_.rangeRound([0,I])),w.rangeRound([0,O.bandwidth()]);var R=x.map(v).length,A=0;a||(A=O(S[R-1]));var D=(0,h.useCallback)((function(e){var n=(0,Fl.Z)(e)||{x:0,y:0},t=n.x,r=n.y,i=t-b.left,o=r-b.top,l=0;l=a?(i-A/2)/(I-A):1-(o-A/2)/(T-A);var c=Math.floor(l*R),u=x[c];"undefined"===typeof u&&(u=x[c-1]),a?i>A&&i<I+b.left-A&&s({tooltipData:u,tooltipLeft:t,tooltipTop:r}):o>A&&o<T-A&&s({tooltipData:u,tooltipLeft:t,tooltipTop:r})}),[x,R,b.left,b.top,a,s,A,I,T]);return{colorScale:j,colors:P,data:x,fontSize:g,handleTooltip:D,margin:b,tempScale:_,tickValues:S,xKeys:y,xMax:I,y1Scale:w,yLabelFormat:m,yMax:T,yScale:O,ySerialize:v}}var Ql=["height","width","xAxisLabel","yAxisLabel"];function Gl(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Kl(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Gl(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gl(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}R.iI,R.iI,R.iI;var Yl=(0,Rl.Z)((function(e){var n=e.data,t=e.height,r=e.hideTooltip,i=e.keyForYData,o=void 0===i?"__y":i,l=e.large,c=e.margin,u=void 0===c?{}:c,s=e.renderNoDataText,d=e.renderTooltipContent,p=e.showTooltip,f=e.tooltipData,h=e.tooltipLeft,v=e.tooltipOpen,m=e.tooltipTop,g=e.width,b=e.xAxisLabel,x=e.xNumTicks,y=e.yLabelFormat,j=Vl({data:n,height:t,keyForYData:o,large:l,margin:u,showTooltip:p,width:g,yLabelFormat:y}),k=j.colorScale,O=j.colors,C=j.data,Z=j.fontSize,_=j.handleTooltip,S=j.margin,E=j.tempScale,I=j.tickValues,T=j.xKeys,R=j.xMax,A=j.y1Scale,D=j.yLabelFormat,M=j.yMax,F=j.yScale,B=j.ySerialize;return g<10?null:(0,P.jsxs)("div",{children:[(0,P.jsxs)("svg",{height:t,width:g,children:[s&&!(null!==C&&void 0!==C&&C.length)&&(0,P.jsx)("text",{fill:O.active,dominantBaseline:"middle",textAnchor:"middle",fontFamily:Un.ry,fontSize:Z,x:"50%",y:"50%",children:s()}),(0,P.jsx)(Sl.Z,{fill:"transparent",height:t-(S.top+S.bottom),onMouseLeave:function(){return r()},onMouseMove:_,onTouchMove:_,onTouchStart:_,rx:14,width:g-(S.left+S.right),x:S.left,y:S.top}),(null===C||void 0===C?void 0:C.length)&&(0,P.jsxs)(Tl.Z,{left:S.left,top:S.top,children:[(0,P.jsx)(El.Z,{color:k,data:C,keys:T,width:R,xScale:E,y0:B,y0Scale:F,y1Scale:A,children:function(e){return e.map((function(e){return(0,P.jsx)(Tl.Z,{top:e.y0,children:e.bars.map((function(n){return(0,P.jsx)("g",{children:(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("rect",{fill:n.color,height:n.height,pointerEvents:"none",rx:4,width:n.width,x:n.x,y:n.y})})},"".concat(e.index,"-").concat(n.index,"-").concat(n.key))}))},"bar-group-horizontal-".concat(e.index,"-").concat(e.y0))}))}}),(0,P.jsx)(_l.Z,{hideTicks:!0,scale:F,stroke:O.muted,tickFormat:function(e){return D(e)},tickLabelProps:function(){return{fill:O.active,fontFamily:Un.ry,fontSize:Z,style:{width:"10px"},textAnchor:"end"}},tickStroke:O.muted,tickValues:I,top:2}),(0,P.jsx)(Pl.Z,{label:b,labelProps:{fill:O.muted,fontFamily:Un.ry,fontSize:Z,textAnchor:"middle"},numTicks:x,scale:E,stroke:O.muted,tickLabelProps:function(){return{fill:O.active,fontFamily:Un.ry,fontSize:Z,textAnchor:"middle"}},tickStroke:O.muted,top:M})]}),f&&(0,P.jsx)("g",{children:(0,P.jsx)(Il.Z,{from:{x:S.left,y:m},pointerEvents:"none",stroke:O.active,strokeDasharray:"5,2",strokeWidth:1,to:{x:R+S.left,y:m}})})]}),v&&f&&(0,P.jsxs)(Al.Z,{left:h,style:Kl(Kl({},Dl.j),{},{backgroundColor:O.tooltipBackground}),top:m,children:[d&&d(f),!d&&Object.entries(f).map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];if(o!==t){var i=r;return(0,Ee.kE)(i)&&String(i).split(".").length>=2&&(i=i.toFixed(4)),(0,P.jsxs)(w.ZP,{inverted:!0,small:!0,children:[t,": ",i]},t)}}))]})]})}));var ql=function(e){var n,t=e.height,r=e.width,i=e.xAxisLabel,o=e.yAxisLabel,l=(0,Me.Z)(e,Ql);return n="undefined"===typeof r?"100%":o?0===r?r:r-28:r,(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{style:{display:"flex",height:t,marginBottom:i?R.iI:null,width:"100%"},children:[o&&(0,P.jsx)(O.Z,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,P.jsx)(Ml.Z,{children:(0,P.jsx)(w.ZP,{center:!0,muted:!0,small:!0,children:o})})}),(0,P.jsx)("div",{style:{height:t,width:n},children:(0,P.jsx)(Zl.Z,{children:function(e){var n=e.width,t=e.height;return(0,P.jsx)(Yl,Kl(Kl({},l),{},{height:t,width:n}))}})})]}),i&&(0,P.jsx)("div",{style:{paddingLeft:o?36:0,paddingTop:4},children:(0,P.jsx)(w.ZP,{center:!0,muted:!0,small:!0,children:i})})]})},Xl=t(95422),Jl=["keyForYData"],$l=["height","width","xAxisLabel","yAxisLabel"];function ec(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ec(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ec(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var tc=(0,Rl.Z)((function(e){var n=e.keyForYData,t=void 0===n?"__y":n,r=(0,Me.Z)(e,Jl),i=r.height,o=r.hideTooltip,l=r.renderNoDataText,c=r.renderTooltipContent,u=r.tooltipData,s=r.tooltipLeft,d=r.tooltipOpen,p=r.tooltipTop,f=r.width,h=r.xLabelFormat,v=r.xNumTicks,m=r.yNumTicks,g=Vl(nc(nc({},r),{},{keyForYData:t,orientationVertical:!0})),b=g.colorScale,x=g.colors,y=g.data,j=g.fontSize,k=g.handleTooltip,O=g.margin,C=g.tempScale,Z=(g.tickValues,g.xKeys),_=(g.xMax,g.y1Scale),S=g.yLabelFormat,E=g.yMax,I=g.yScale,T=g.ySerialize;return f<10?null:(0,P.jsxs)("div",{children:[(0,P.jsxs)("svg",{height:i,width:f,children:[l&&!(null!==y&&void 0!==y&&y.length)&&(0,P.jsx)("text",{fill:x.active,dominantBaseline:"middle",textAnchor:"middle",fontFamily:Un.ry,fontSize:j,x:"50%",y:"50%",children:l()}),(null===y||void 0===y?void 0:y.length)&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Sl.Z,{fill:"transparent",height:i-(O.top+O.bottom),onMouseLeave:function(){return o()},onMouseMove:k,onTouchMove:k,onTouchStart:k,rx:14,width:f-(O.left+O.right),x:O.left,y:2*O.top}),(0,P.jsxs)(Tl.Z,{top:O.top,children:[(0,P.jsx)(Xl.Z,{color:b,data:y,height:E,keys:Z,x0:T,x0Scale:I,x1Scale:_,yScale:C,children:function(e){return e.map((function(e){return(0,P.jsx)(Tl.Z,{left:e.x0+O.left,top:O.top,children:e.bars.map((function(n){return(0,P.jsx)("g",{children:(0,P.jsx)("rect",{fill:n.color,height:n.height,pointerEvents:"none",rx:4,width:n.width,x:n.x,y:n.y})},"".concat(e.index,"-").concat(n.index,"-").concat(n.key))}))},"bar-group-horizontal-".concat(e.index,"-").concat(e.x0))}))}}),(0,P.jsx)(_l.Z,{left:O.left,numTicks:m,scale:C,stroke:x.muted,tickFormat:function(e){return S(e)},tickLabelProps:function(){return{fill:x.active,fontFamily:Un.ry,fontSize:j,textAnchor:"end",transform:"translate(-2,2.5)"}},tickStroke:x.muted,top:O.top}),(0,P.jsx)(Pl.Z,{hideTicks:!0,left:O.left,numTicks:v,scale:I,stroke:x.muted,tickFormat:h,tickLabelProps:function(){return{fill:x.active,fontFamily:Un.ry,fontSize:j,textAnchor:"middle"}},tickStroke:x.muted,top:E+O.top})]})]}),u&&(0,P.jsx)("g",{children:(0,P.jsx)(Il.Z,{from:{x:s,y:2*O.top},pointerEvents:"none",stroke:x.active,strokeDasharray:"5,2",strokeWidth:1,to:{x:s,y:E+2*O.top}})})]}),d&&u&&(0,P.jsxs)(Al.Z,{left:s,style:nc(nc({},Dl.j),{},{backgroundColor:x.tooltipBackground}),top:p,children:[c&&c(u),!c&&Object.entries(u).map((function(e){var n=(0,a.Z)(e,2),r=n[0],i=n[1];if(t!==r){var o=i;return(0,Ee.kE)(o)&&String(o).split(".").length>=2&&(o=o.toFixed(4)),(0,P.jsxs)(w.ZP,{inverted:!0,small:!0,children:[r,": ",o]},r)}})),(0,P.jsx)("br",{}),(0,P.jsxs)(w.ZP,{inverted:!0,small:!0,children:[h&&h(T(u)),!h&&T(u)]})]})]})}));var rc=function(e){var n=e.height,t=e.width,r=e.xAxisLabel,i=e.yAxisLabel,o=(0,Me.Z)(e,$l);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{style:{display:"flex",height:n,marginBottom:r?R.iI:null,width:"100%"},children:[i&&(0,P.jsx)(O.Z,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,P.jsx)(Ml.Z,{children:(0,P.jsx)(w.ZP,{center:!0,muted:!0,small:!0,children:i})})}),(0,P.jsx)("div",{style:{height:n,width:i?0===t?t:t-28:t},children:(0,P.jsx)(Zl.Z,{children:function(e){var n=e.height,t=e.width;return(0,P.jsx)(tc,nc(nc({},o),{},{height:n,width:t}))}})})]}),r&&(0,P.jsx)("div",{style:{paddingLeft:i?36:0,paddingTop:4},children:(0,P.jsx)(w.ZP,{center:!0,muted:!0,small:!0,children:r})})]})},ic=t(66872),oc=t(68735),lc=t(320),cc=40*R.iI,uc=C.default.div.withConfig({displayName:"indexstyle__ChartBlockStyle",componentId:"sc-1c3ufnj-0"})(["border-radius:","px;margin-left:","px;margin-right:","px;margin-top:","px;",""],_.n_,.5*R.iI,.5*R.iI,1*R.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).chartBlock,";\n  ")})),ac=C.default.div.withConfig({displayName:"indexstyle__ConfigurationOptionsStyle",componentId:"sc-1c3ufnj-1"})(["flex:4;padding-left:","px;padding-right:","px;"],1*R.iI,1*R.iI),sc=C.default.div.withConfig({displayName:"indexstyle__CodeStyle",componentId:"sc-1c3ufnj-2"})(["padding-top:","px;",""],R.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).codeTextarea,";\n  ")})),dc=C.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-1c3ufnj-3"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],R.cd*R.iI,R.iI,R.iI,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||Z.Z.borders).medium,";\n  ")}));function pc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pc(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var hc=function(e){var n,t=e.block,r=e.data,i=e.width,o=t.configuration,l=void 0===o?{}:o,c=l||{},u=c.chart_style,d=c.chart_type,p=c.y_sort_order,f=l.height||cc,h=(null===l||void 0===l||null===(n=l.metrics)||void 0===n?void 0:n.map((function(e){return"".concat((n=e).aggregation,"(").concat(n.column,")");var n})))||[],v=Ee.n1,m=l.time_interval;if([me.HOUR,me.MINUTE,me.SECOND].includes(m)&&(v=Ee.OC),Q.BAR_CHART===d||Q.TIME_SERIES_BAR_CHART===d){var g=r.x,b=r.y,x=Q.TIME_SERIES_BAR_CHART===d;if(g&&b&&Array.isArray(g)&&Array.isArray(b)){var y,j=null===(y=l.group_by)||void 0===y?void 0:y.join(", "),k=null===h||void 0===h?void 0:h.join(", ");h.length||h.push(oe);var O=h[0],C=g.map((function(e,n){return fc({__y:e},h.reduce((function(e,t,r){var i,o=null===b||void 0===b||null===(i=b[r])||void 0===i?void 0:i[n];return"undefined"===typeof o?e:fc(fc({},e),{},(0,s.Z)({},t,o))}),{}))}));ve.ASCENDING===p?C=(0,xn.YC)(C,(function(e){return e[O]}),{ascending:!1}):ve.DESCENDING===p&&(C=(0,xn.YC)(C,(function(e){return e[O]}),{ascending:!0}));var Z={data:C,height:f,renderNoDataText:function(){return"No data matching query"},width:i,xNumTicks:3};return pe.HORIZONTAL===u?(0,P.jsx)(ql,fc(fc({},Z),{},{xAxisLabel:k||l.y,yAxisLabel:j||l.x})):(0,P.jsx)(rc,fc(fc({},Z),{},{xAxisLabel:j,xLabelFormat:function(e){return x?wl()(1e3*e).format(Ee.n1):e},yAxisLabel:k,yNumTicks:3}))}}else if(Q.HISTOGRAM===d){var _,S=r.x,E=r.y,I=null===(_=l.group_by)||void 0===_?void 0:_.join(", ");if(S&&E&&Array.isArray(S))return(0,P.jsx)(ic.Z,{data:S.map((function(e,n){var t,r=e.max,i=e.min;return[r,null===E||void 0===E||null===(t=E[n])||void 0===t?void 0:t.value,i]})),height:f,width:i,large:!0,margin:{left:5*R.iI,right:1*R.iI,top:3*R.iI},noPadding:!0,renderTooltipContent:function(e){var n=(0,a.Z)(e,3),t=n[0],r=n[1],i=n[2];return(0,P.jsxs)(w.ZP,{inverted:!0,monospace:!0,small:!0,children:["Count : ",r,(0,P.jsx)("br",{}),"Bucket: ",i,"-",t]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,xn.YC)(e,"[0]")},xAxisLabel:I||l.x,yAxisLabel:I?"count(".concat(I,")"):l.y})}else if(Q.LINE_CHART===d||Q.TIME_SERIES_LINE_CHART===d){var T=r.x,A=r.y,D=Q.TIME_SERIES_LINE_CHART===d;if(T&&A&&Array.isArray(T)&&Array.isArray(A)&&Array.isArray(null===A||void 0===A?void 0:A[0])){var M,F=h;l.legend_labels&&(F=l.legend_labels.split(",").map((function(e){return e.trim()})));var B=T.map((function(e,n){return{x:e,y:(0,xn.w6)(A.length).map((function(e,t){var r=A[t][n];return"undefined"===typeof r||null===r?0:r}))}})),N=null===(M=l.group_by)||void 0===M?void 0:M.join(", "),H=h.join(", ");return(0,P.jsx)(oc.Z,{data:B,height:f,lineLegendNames:F,margin:{bottom:8*R.iI,left:5*R.iI},noCurve:!0,renderXTooltipContent:function(e){e.index;var n=e.x,t=l.x,r=n;return l.group_by&&(t=l.group_by.map(String).join(", ")),D&&(r=wl()(1e3*n).format(v)),(0,P.jsxs)(w.ZP,{inverted:!0,small:!0,children:[t,": ",r]})},renderYTooltipContent:function(e,n){var t=e.y;return(0,P.jsxs)(w.ZP,{inverted:!0,small:!0,children:[F&&F[n]&&"".concat(F[n],": "),t&&(0,Ee.x6)((0,Ee.QV)(t[n],4))]})},width:i?i-3*R.iI:i,xAxisLabel:N||String(l.x),xLabelFormat:function(e){return D?wl()(1e3*e).format(Ee.n1):e},yAxisLabel:H||String(l.y),yLabelFormat:function(e){return e}})}}else if(Q.PIE_CHART===d){var L,z=r[String(l.x)],U=null===(L=l.group_by)||void 0===L?void 0:L.join(", ");if(z)return(0,P.jsx)(lc.Z,{data:Object.entries(z),getX:function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return"".concat(t," (").concat((0,Ee.x6)(r),")")},getY:function(e){return(0,a.Z)(e,2)[1]},height:f,width:i,xAxisLabel:U||String(l.x)})}else if(Q.TABLE===d){var W=r.index,V=r.x,G=r.y;return Array.isArray(V)&&Array.isArray(G)&&Array.isArray(G[0])&&(0,P.jsx)(yo.Z,{columns:V,index:W,height:l.height?null:f,maxHeight:l.height?f:null,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:G,width:i})}return(0,P.jsx)("div",{})},vc=C.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||Z.Z.background).popup,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((R.iI+Wn.Al)/2,"px;\n    height: ").concat(1.5*R.iI+Wn.Al,"px;\n    padding: ").concat(R.iI/1.5,"px ").concat(1.25*R.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((R.iI/2+Wn.Al)/2,"px;\n    height: ").concat(Wn.Al+R.iI/2,"px;\n    padding: ").concat(R.iI/4,"px ").concat(R.iI,"px;\n  ")})),mc=function(e){var n=e.children,t=e.label,r=e.onClick,i=e.small;return(0,P.jsx)(vc,{small:i,children:(0,P.jsx)(Ae.Z,{basic:!0,noPadding:!0,noBackground:!0,onClick:r,transparent:!0,children:(0,P.jsxs)(O.Z,{alignItems:"center",children:[n,t&&(0,P.jsx)(w.ZP,{small:i,children:t}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(F.x8,{muted:!0,size:i?R.iI:1.25*R.iI})]})})})},gc=t(33591),bc=["children","fullHeight","gutter","style"];function xc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xc(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var jc=function(e){var n=e.children,t=e.fullHeight,r=e.gutter,i=e.style,o=void 0===i?{}:i,l=(0,Me.Z)(e,bc),c=yc({},o);return r&&(c.paddingLeft=r,c.paddingRight=c.paddingLeft),t&&(c.height="100%"),(0,P.jsx)(gc.Col,yc(yc({},l),{},{style:c,children:n}))};var kc=function(e){var n=e.children,t=e.onChange,r=(0,h.useState)(h.Children.map(n,(function(){return null}))),i=r[0],o=r[1],l=(0,h.useState)(0),c=l[0],u=l[1];return(0,P.jsx)(O.Z,{children:h.Children.map(n,(function(e,n){return(0,P.jsx)(M.Z,{ml:n>=1?1:0,style:{display:"flex",flex:1},children:h.cloneElement(e,{onChange:function(e){o((function(r){return r[n]=e.target.value,t(r,{resetValues:function(){return u((function(e){return e+1}))},setValues:o}),r}))},value:i[n]})},"multi-select-child-".concat(n,"-").concat(c))}))})},Oc=t(7715);function Cc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Cc(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Zc(e,n){var t,r,i,c=e.autocompleteItems,u=e.block,d=e.blockRefs,p=e.blocks,f=e.deleteWidget,m=e.executionState,g=e.fetchPipeline,x=e.fetchFileTree,y=e.messages,j=void 0===y?[]:y,k=e.onChangeContent,_=e.pipeline,S=e.runBlock,E=e.runningBlocks,I=e.savePipelineContent,T=e.selected,A=e.setAnyInputFocused,D=e.setSelectedBlock,B=e.setTextareaFocused,N=e.textareaFocused,H=e.updateWidget,z=e.width,W=(0,h.useRef)(null),V=(0,h.useContext)(C.ThemeContext),G=u.outputs,K=void 0===G?[]:G,Y=(0,h.useState)(null),q=Y[0],X=Y[1],J=(0,h.useState)(null===(t=u.configuration)||void 0===t?void 0:t.chart_type),$=J[0],ee=J[1],ne=(0,h.useState)(u.configuration),te=ne[0],ie=ne[1],oe=(0,h.useState)(u.content),le=oe[0],ce=oe[1],ue=(0,h.useState)(!$||0===K.length),ae=ue[0],se=ue[1],pe=(0,h.useState)(!1),fe=pe[0],ve=pe[1],me=(0,h.useState)(null),ge=me[0],be=me[1],xe=(0,h.useState)(null===u||void 0===u?void 0:u.upstream_blocks),ye=xe[0],je=xe[1],ke=(0,h.useState)((null===K||void 0===K?void 0:K.length)||0),we=ke[0],Se=ke[1],Ie=(0,h.useState)(u.uuid),Te=Ie[0],Re=Ie[1],Ae=Ze[$],De=_e[$],Me=(0,h.useMemo)((function(){return null===p||void 0===p?void 0:p.filter((function(e){var n=e.type;return[l.DATA_LOADER,l.TRANSFORMER].includes(n)}))}),[p]),Be=(0,h.useMemo)((function(){return(0,xn.HK)(Me,(function(e){return e.uuid}))}),[Me]),Ne=!!E.find((function(e){return e.uuid===u.uuid}))||(null===j||void 0===j?void 0:j.length)>=1&&m!==ai.IDLE,He=(0,h.useMemo)((function(){return null===j||void 0===j?void 0:j.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[j]),Le=!!He.find((function(e){return e.error})),ze=He.length>=1,Ue=(dn(u.type,{theme:V}).accent,(0,h.useMemo)((function(){return{blockType:u.type,hasError:Le,selected:T}}),[u.type,Le,T]));if(null!==He&&void 0!==He&&He.length){var We,Ve,Qe=He.length-1;i=null===He||void 0===He||null===(We=He[Qe])||void 0===We||null===(Ve=We.data)||void 0===Ve?void 0:Ve[0]}i?(i=(i=i.slice(1,i.length-1)).replaceAll('\\"','"').replaceAll("\\'","'"),(0,Ee.Pb)(i)&&(r=JSON.parse(i))):(null===K||void 0===K?void 0:K.length)>=1&&(r={},K.forEach((function(e){var n=e||{},t=n.text_data,i=n.type,o=n.variable_uuid;si.TEXT===i&&(0,Ee.Pb)(t)&&(r[o]=JSON.parse(t))})));var Ge=(0,h.useCallback)((function(e){var n=wc(wc(wc({},u),e),{},{configuration:wc(wc({},u.configuration),e.configuration)});I().then((function(){S({block:n,code:le,ignoreAlreadyRunning:!0,runUpstream:!!ye.find((function(e){var n;return![b.EXECUTED,b.UPDATED].includes(null===(n=Be[e])||void 0===n?void 0:n.status)}))})})),Se((function(e){return e+1}))}),[u,Be,le,Se,ye]),Ke=(0,h.useCallback)((function(e){ce(e),k(e)}),[k,ce]),Ye=(0,h.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.autoRun;ie((function(n){return wc(wc({},n),e)}));var r=wc(wc({},u),{},{configuration:wc(wc(wc({},te),e),{},{chart_type:$})});H(r);Object.keys(e);we&&t&&Ge(r)}),[u,$,te,we,Ge,ie,H]);(0,h.useEffect)((function(){X({python:Xo({autocompleteItems:c,block:u,blocks:p,pipeline:_})})}),[c,u,p,_]);var qe=(0,h.useMemo)((function(){return(0,P.jsx)(Jn,{autoHeight:!0,autocompleteProviders:q,onChange:Ke,selected:T,setSelected:function(e){return D(!0===e?u:null)},setTextareaFocused:B,showLineNumbers:!1,textareaFocused:N||Q.TABLE===$&&!ae,value:le,width:"100%"})}),[q,$,le,ae,T,D,B,N,Ke]),Xe=(0,h.useMemo)((function(){return Le&&ze&&(0,P.jsx)(Do,wc(wc({},Ue),{},{block:u,contained:!1,hideExtraInfo:!0,isInProgress:Ne,messages:He,selected:T}))}),[u,Ue,Le,ze,Ne,He,T]),Je=(0,Ln.Z)(ae),$e=(0,Ln.Z)(z);(0,h.useEffect)((function(){var e,n=null===W||void 0===W||null===(e=W.current)||void 0===e?void 0:e.getBoundingClientRect();Je!==ae||$e!==z?(be(0),setTimeout((function(){var e,n,t=null===W||void 0===W||null===(e=W.current)||void 0===e||null===(n=e.getBoundingClientRect())||void 0===n?void 0:n.width;t&&be(t)}),100)):n&&be(n.width)}),[ae,Je,W.current,be,z,$e]);var en=(0,h.useMemo)((function(){var e=[];return ye.forEach((function(n,t){var r=Be[n],i=dn(null===r||void 0===r?void 0:r.type,{theme:V}).accent;e.push((0,P.jsxs)(M.Z,{ml:2,children:[(0,P.jsxs)(w.ZP,{bold:!0,inline:!0,monospace:!0,small:!0,children:["df_",t+1]})," ",(0,P.jsx)(w.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"->"})," ",(0,P.jsx)(Mn.Z,{color:i,inline:!0,onClick:function(){var e,n,t=null===d||void 0===d||null===(e=d.current)||void 0===e?void 0:e["".concat(null===r||void 0===r?void 0:r.type,"s/").concat(null===r||void 0===r?void 0:r.uuid,".py")];null===t||void 0===t||null===(n=t.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,P.jsx)(w.ZP,{color:i,monospace:!0,small:!0,children:n})})]},n))})),e}),[Be,ye]),nn=(0,h.useMemo)((function(){var e,n=[],t=null===Ae||void 0===Ae||null===(e=Ae.code)||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid;return de.includes(t)?e.concat(t):e}),[]);null===t||void 0===t||t.length;return null===t||void 0===t||t.forEach((function(e,t){var r=te[e];if(r){var i,o,l=null===(i=Pe[$])||void 0===i||null===(o=i[e])||void 0===o?void 0:o.call(i);n.push((0,P.jsxs)(M.Z,{ml:2,children:[(0,P.jsx)(w.ZP,{bold:!0,inline:!0,monospace:!0,small:!0,children:r})," ",l&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"->"})," ",(0,P.jsx)(w.ZP,{default:!0,inline:!0,small:!0,children:l})]})]},r))}})),n}),[te,Ae]),tn=(0,Ln.Z)($),rn=(0,Ln.Z)(ye);(0,h.useEffect)((function(){if((!tn&&$&&null!==ye&&void 0!==ye&&ye.length||(null===rn||void 0===rn||!rn.length)&&(null===ye||void 0===ye?void 0:ye.length)>=1&&$)&&!le&&(0,Oc.Qr)(te)&&De){var e=wc(wc({},u),{},{upstream_blocks:ye});De.configuration&&Ye(De.configuration(e)),De.content&&Ke(De.content(e))}}),[u,$,tn,te,le,Ye,Ke,ye,rn]);var on=(0,h.useMemo)((function(){return te.width_percentage||1}),[te]),ln=(0,h.useMemo)((function(){return Object.entries(Ae||{}).reduce((function(e,n){var t=(0,a.Z)(n,2),r=t[0],i=t[1];return wc(wc({},e),{},(0,s.Z)({},r,i.map((function(e){var n,t=e.autoRun,r=e.label,i=e.monospace,o=e.options,l=e.settings,c=void 0===l?{}:l,a=e.type,d=e.uuid,p={fullWidth:!0,key:d,label:(0,Ee.kC)(r()),monospace:i,onBlur:function(){return D(u)},onChange:function(e){return Ye((0,s.Z)({},d,e.target.value),{autoRun:t})},onFocus:function(){return D(u)},value:(null===te||void 0===te?void 0:te[d])||""},f=ye.reduce((function(e,n){var t=Be[n];return t?e.concat(t):e}),[]),h=f.reduce((function(e,n){var t,r,i=n.outputs;return e.concat(null===i||void 0===i||null===(t=i[0])||void 0===t||null===(r=t.sample_data)||void 0===r?void 0:r.columns)}),[]);if(Oe.COLUMNS===a){var v=te[d]||[];n=(0,P.jsxs)(P.Fragment,{children:[(!c.maxValues||v.length<c.maxValues)&&(0,P.jsxs)(Ci.Z,wc(wc({},p),{},{onChange:function(e){var n=te[d]||[],r=e.target.value;n.includes(r)?n=(0,xn.Od)(n,(function(e){return e===r})):n.push(r),Ye((0,s.Z)({},d,n),{autoRun:t})},value:null,children:[(0,P.jsx)("option",{value:""}),(0,xn.YC)(h.filter((function(e){return!v.includes(e)})),(function(e){return e})).map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))]})),v.map((function(e){return(0,P.jsx)("div",{style:{display:"inline-block",marginRight:2,marginTop:2},children:(0,P.jsx)(mc,{label:e,onClick:function(){Ye((0,s.Z)({},d,(0,xn.Od)(v,(function(n){return n===e}))),{autoRun:t})}})},e)}))]})}else if(Oe.METRICS===a){var m=te[d]||[];n=(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(w.ZP,{bold:!0,children:"Metrics"}),(0,P.jsx)(w.ZP,{muted:!0,small:!0,children:"Select a column and an aggregation function."}),(0,P.jsxs)(kc,{onChange:function(e,n){var r=n.resetValues,i=n.setValues;2===e.filter((function(e){return!!e})).length&&(m.find((function(n){var t=n.aggregation;return n.column===e[1]&&t===e[0]}))||(Ye((0,s.Z)({},d,m.concat({aggregation:e[0],column:e[1]})),{autoRun:t}),i([null,null]),r()))},children:[(0,P.jsxs)(Ci.Z,wc(wc({},p),{},{label:"aggregation",children:[(0,P.jsx)("option",{value:""}),(0,xn.YC)(Ce,(function(e){return e})).map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))]})),(0,P.jsxs)(Ci.Z,wc(wc({},p),{},{label:"column",children:[(0,P.jsx)("option",{value:""}),(0,xn.YC)(h,(function(e){return e})).map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))]}))]}),m.map((function(e){var n=e.aggregation,r=e.column;return(0,P.jsx)("div",{style:{display:"inline-block",marginRight:2,marginTop:2},children:(0,P.jsx)(mc,{label:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(w.ZP,{inline:!0,monospace:!0,children:[n,"("]}),r,(0,P.jsx)(w.ZP,{inline:!0,monospace:!0,children:")"})]}),onClick:function(){Ye((0,s.Z)({},d,(0,xn.Od)(m,(function(e){var t=e.aggregation,i=e.column;return n===t&&r===i}))),{autoRun:t})}})},"".concat(n,"(").concat(r,")"))}))]})}else n=o?(0,P.jsx)(Ci.Z,wc(wc({},p),{},{children:o.map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))})):(0,P.jsx)(ur.Z,wc(wc({},p),{},{type:a}));return(0,P.jsx)(M.Z,{mb:1,children:n},d)}))))}),{noCode:[]})}),[Be,te,Ae,D,Ye,ye]),cn=ln.code,un=ln.noCode,an=(0,v.Db)(Vt.ZP.widgets.pipelines.useUpdate(null===_||void 0===_?void 0:_.uuid,u.uuid),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){ve(!1),g(),x()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){(0,Gt.qQ)(e).messages}}),sn=(0,a.Z)(an,1)[0],pn="ChartBlock/".concat(u.uuid),fn=(0,U.y)(),hn=fn.registerOnKeyDown,vn=fn.unregisterOnKeyDown;return(0,h.useEffect)((function(){return function(){vn(pn)}}),[vn,pn]),hn(pn,(function(e,n,t){fe&&String(t[0])===String(L.Uq)&&String(t[1])!==String(L.zX)&&sn({widget:wc(wc({},u),{},{name:Te})})}),[u,fe,Te,sn]),(0,P.jsx)(jc,{sm:12,md:12*on,children:(0,P.jsxs)(uc,{ref:n,children:[(0,P.jsx)(M.Z,{mt:1,pt:1,px:1,children:(0,P.jsxs)(O.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,P.jsxs)(Fe.Z,{flex:1,style:{position:"relative"},children:[(0,P.jsx)(Ir,{bold:!1,fullWidth:!0,inputValue:Te,notRequired:!0,onBlur:function(){return setTimeout((function(){return ve(!1)}),300)},onChange:function(e){Re(e.target.value),e.preventDefault()},onClick:function(){A(!0),ve(!0)},onFocus:function(){A(!0),ve(!0)},small:!0,stacked:!0,value:!fe&&u.uuid}),fe&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Mn.Z,{noWrapping:!0,onClick:function(){return sn({widget:wc(wc({},u),{},{name:Te})})},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update chart name"})]})]}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(Ci.Z,{compact:!0,onChange:function(e){var n=[e.target.value],t=wc(wc({},u),{},{upstream_blocks:n});H(t),Ge(t),je(n)},placeholder:"Source block",small:!0,value:(null===ye||void 0===ye?void 0:ye[0])||"",children:null===Me||void 0===Me?void 0:Me.map((function(e){var n=e.uuid;return(0,P.jsx)("option",{value:n,children:n},n)}))}),(0,P.jsx)(M.Z,{mr:1}),!Ne&&(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:"Run chart block",size:null,widthFitContent:!0,children:(0,P.jsx)(Wt,{blackBorder:!0,compact:!0,inline:!0,onClick:function(){return Ge(u)},uuid:"ChartBlock/run/".concat(u.uuid),children:(0,P.jsx)(F.Py,{size:2*R.iI})})}),ai.QUEUED===m&&(0,P.jsx)(Dt.Z,{color:(V||Z.Z).content.active,small:!0,type:"cylon"}),ai.BUSY===m&&(0,P.jsx)(Dt.Z,{color:(V||Z.Z).content.active,small:!0}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:"Edit chart",size:null,widthFitContent:!0,children:(0,P.jsx)(Wt,{blackBorder:!0,compact:!0,inline:!0,onClick:function(){return se((function(e){return!e}))},selected:ae,uuid:"ChartBlock/edit/".concat(u.uuid),children:(0,P.jsx)(F.I8,{size:2*R.iI})})}),(0,P.jsx)(M.Z,{mr:1}),(0,P.jsx)(Or,{appearBefore:!0,default:!0,label:"Delete chart",size:null,widthFitContent:!0,children:(0,P.jsx)(Wt,{blackBorder:!0,compact:!0,inline:!0,onClick:function(){return f(u)},uuid:"ChartBlock/delete/".concat(u.uuid),children:(0,P.jsx)(F.rF,{size:2*R.iI})})})]})]})}),(0,P.jsx)(M.Z,{mt:1}),(0,P.jsxs)(O.Z,{justifyContent:"space-between",fullWidth:!0,children:[(0,P.jsx)(Fe.Z,{flex:6,ref:W,children:r&&!(0,Oc.Qr)(r)&&(0,P.jsx)(M.Z,{pb:3,children:(0,P.jsx)(hc,{block:wc(wc({},u),{},{configuration:wc(wc({},u.configuration),te)}),data:r,width:ge})})}),ae&&(0,P.jsx)(ac,{children:(0,P.jsxs)(O.Z,{flexDirection:"column",fullWidth:!0,children:[(0,P.jsx)(M.Z,{mb:1,children:(0,P.jsx)(Ci.Z,{onChange:function(e){var n=e.target.value,t=wc(wc({},u),{},{configuration:wc(wc({},te),{},{chart_type:n})});H(t),Ge(t),ee(n)},placeholder:"Select chart type",value:$,children:he.map((function(e){return(0,P.jsx)("option",{value:e,children:(0,Ee.kC)(e)},e)}))})}),(0,P.jsx)(M.Z,{mb:1,children:(0,P.jsx)(Ci.Z,{onChange:function(e){return Ye((0,s.Z)({},re,e.target.value))},placeholder:"Chart width",value:(null===te||void 0===te?void 0:te.width_percentage)||1,children:[["1/2 width",.5],["full width",1]].map((function(e){var n=(0,a.Z)(e,2),t=n[0],r=n[1];return(0,P.jsx)("option",{value:r,children:t},t)}))})}),un]})})]}),ae&&!(null===cn||void 0===cn||!cn.length)&&o.SQL!==u.language&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(M.Z,{my:1,px:1,children:[(0,P.jsx)(w.ZP,{bold:!0,children:"Custom chart code"}),(0,P.jsxs)(w.ZP,{muted:!0,children:["Write custom logic mapping data to input values for your chart.",(0,P.jsx)("br",{}),"This code is only executed if you don\u2019t have any columns or metrics selected."]})]}),(0,P.jsxs)(sc,{children:[ye.length>=1&&(0,P.jsxs)(dc,{children:[(0,P.jsxs)(w.ZP,{muted:!0,small:!0,children:["Variables you can use in your code: ",en]}),(0,P.jsxs)(w.ZP,{muted:!0,small:!0,children:["Variables that you must define: ",nn]})]}),qe]})]}),Xe&&(0,P.jsx)(M.Z,{px:1,children:Xe})]})})}var _c=h.forwardRef(Zc),Pc=["children","fullHeight","gutter","style"];function Sc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ec(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sc(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ic=function(e){var n=e.children,t=e.fullHeight,r=e.gutter,i=e.style,o=void 0===i?{}:i,l=(0,Me.Z)(e,Pc),c=Ec({},o);return r&&(c.marginLeft=-1*r,c.marginRight=c.marginLeft),t&&(c.height="100%"),(0,P.jsx)(gc.Row,Ec(Ec({},l),{},{style:c,children:h.Children.map(n,(function(e,n){return e&&h.cloneElement(e,{gutter:r,key:n})}))}))},Tc=["blockRefs","blocks","chartRefs","deleteWidget","messages","onChangeChartBlock","runBlock","runningBlocks","savePipelineContent","selectedBlock","setAnyInputFocused","setSelectedBlock","setTextareaFocused","textareaFocused","updateWidget","widgets","width"];function Rc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ac(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rc(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dc=function(e){var n=e.blockRefs,t=e.blocks,r=e.chartRefs,i=e.deleteWidget,o=e.messages,l=e.onChangeChartBlock,c=e.runBlock,u=e.runningBlocks,a=e.savePipelineContent,d=e.selectedBlock,p=e.setAnyInputFocused,f=e.setSelectedBlock,v=e.setTextareaFocused,m=e.textareaFocused,g=e.updateWidget,b=e.widgets,x=e.width,y=(0,Me.Z)(e,Tc),j=(0,h.useMemo)((function(){return u.reduce((function(e,n,t){return Ac(Ac({},e),{},(0,s.Z)({},n.uuid,Ac(Ac({},n),{},{priority:t})))}),{})}),[u]);return(0,P.jsxs)(O.Z,{flexDirection:"column",fullWidth:!0,children:[(0,P.jsx)(Ic,{fullHeight:!0,style:{marginLeft:.5*R.iI,marginRight:.5*R.iI},children:null===b||void 0===b?void 0:b.map((function(e){var s=e.uuid,b=j[s],k=b?0===b.priority?ai.BUSY:ai.QUEUED:ai.IDLE;return r.current[s]=(0,h.createRef)(),(0,h.createElement)(_c,Ac(Ac({},y),{},{block:e,blockRefs:n,blocks:t,chartRefs:r,deleteWidget:i,executionState:k,key:s,messages:o[s],onChangeContent:function(e){return l(s,e)},ref:r.current[s],runBlock:c,runningBlocks:u,savePipelineContent:a,selected:(null===d||void 0===d?void 0:d.uuid)===s,setAnyInputFocused:p,setSelectedBlock:f,setTextareaFocused:v,textareaFocused:m,updateWidget:g,width:x}))}))}),(0,P.jsx)("div",{style:{height:"80vh"}})]})},Mc=t(51774),Fc=t.n(Mc),Bc=(R.iI,[l.DATA_EXPORTER]),Nc=C.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["div:only-child{","}",""],Rr.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),Hc=C.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border:2px solid transparent;border-radius:","px;min-width:fit-content;"," "," ",""],_.BG,(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.content||Z.Z.content).active,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.disabled&&"\n    opacity: 0.5;\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}));var Lc=function(e){var n=e.block,t=e.children,r=e.disabled,i=e.hasFailed,o=e.isInProgress,l=e.isQueued,c=e.isSuccessful,u=(e.onClick,e.selected),a=(0,h.useContext)(C.ThemeContext),s=n.type,d=n.uuid,p=!(o||l||i||c),f=c&&!(o||l),v=i&&!(o||l),m="";return p?m="No status":f?m="Successful execution":v?m="Failed execution":o&&(m="Currently executiing"),(0,P.jsx)(Hc,{backgroundColor:dn(s,{theme:a}).accent,disabled:r,selected:u,children:(0,P.jsx)(M.Z,{p:1,children:(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsxs)(O.Z,{alignItems:"center",justifyContent:"center",style:{height:2*R.iI,width:2*R.iI},title:m,children:[o&&(0,P.jsx)(Dt.Z,{color:(a||Z.Z).content.active,small:!0}),f&&(0,P.jsx)(F.Jr,{size:2*R.iI,success:!0}),v&&(0,P.jsx)(F.x8,{danger:!0,size:1.5*R.iI}),p&&(0,P.jsx)(Ve,{borderSize:1,size:1*R.iI})]}),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(O.Z,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,P.jsx)(w.ZP,{inverted:Bc.includes(s),monospace:!0,small:!0,children:t})})]})})},d)};function zc(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Uc(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zc(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zc(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Wc=Fc()((0,c.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Canvas);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Vc=Fc()((0,c.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Node);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Qc=Fc()((0,c.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Edge);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});Fc()((0,c.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.MarkerArrow);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Fc()((0,c.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Port);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});var Gc=function(e){var n=e.blockRefs,t=e.editingBlock,r=e.fetchPipeline,i=e.height,o=e.pipeline,c=e.runningBlocks,s=e.selectedBlock,d=e.setEditingBlock,p=e.setSelectedBlock,f=(0,h.useContext)(C.ThemeContext),m=(null===t||void 0===t?void 0:t.upstreamBlocks)||{},g=m.block,x=m.values,y=void 0===x?[]:x,j=(0,h.useMemo)((function(){return y.length}),[y]),k=(0,h.useMemo)((function(){var e;return(null===o||void 0===o||null===(e=o.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return l.SCRATCHPAD!==n})))||[]}),[null===o||void 0===o?void 0:o.blocks]),Z=(0,h.useMemo)((function(){return(0,xn.HK)(k,(function(e){return e.uuid}))}),[k]),_=((0,h.useMemo)((function(){return(0,xn.HK)(y,(function(e){return e.uuid}))}),[y]),(0,h.useMemo)((function(){return(0,xn.HK)(c,(function(e){return e.uuid}))}),[c])),S=(0,v.Db)(Vt.ZP.blocks.pipelines.useUpdate(null===o||void 0===o?void 0:o.uuid,null===g||void 0===g?void 0:g.uuid),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){d({upstreamBlocks:null}),r()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),E=(0,a.Z)(S,2),I=E[0],T=E[1].isLoading,A=(0,h.useCallback)((function(e){var t=e.type,r=e.uuid;if(p(e),null!==n&&void 0!==n&&n.current){var i,o=n.current["".concat(t,"s/").concat(r,".py")];null===o||void 0===o||null===(i=o.current)||void 0===i||i.scrollIntoView()}}),[n,p]),D=(0,h.useCallback)((function(e){d((function(n){var t=n.upstreamBlocks.values||[],r=t.findIndex((function(n){var t=n.uuid;return e.uuid===t}));return Uc(Uc({},n),{},{upstreamBlocks:Uc(Uc({},n.upstreamBlocks),{},{values:r>=0?(0,xn.oM)(t,r):t.concat(e)})})}))}),[d]),F=(0,h.useMemo)((function(){var e={};return k.forEach((function(n){n.upstream_blocks.forEach((function(t){e[t]||(e[t]=[]),e[t].push(n)}))})),e}),[k]),B=(0,h.useMemo)((function(){var e=[],n=[];return k.forEach((function(t){var r=t.upstream_blocks,i=void 0===r?[]:r,o=t.uuid,l=F[o],c=[];l&&c.push.apply(c,(0,u.Z)(l.map((function(e){return{height:10,id:"".concat(o,"-").concat(e.uuid,"-from"),side:"SOUTH",width:10}})))),null===i||void 0===i||i.forEach((function(e){c.push({height:10,id:"".concat(e,"-").concat(o,"-to"),side:"NORTH",width:10}),n.push({from:e,fromPort:"".concat(e,"-").concat(o,"-from"),id:"".concat(e,"-").concat(o),to:o,toPort:"".concat(e,"-").concat(o,"-to")})})),e.push({data:{block:t},height:37,id:o,ports:c,width:t.uuid.length*R.KF+5*R.iI+((null===g||void 0===g?void 0:g.uuid)===t.uuid?19*R.KF:0)})})),{edges:n,nodes:e}}),[g,k]),N=B.edges,H=B.nodes;return(0,P.jsxs)(P.Fragment,{children:[g&&(0,P.jsxs)(M.Z,{my:3,px:R.cd,children:[(0,P.jsxs)(M.Z,{mb:R.cd,children:[(0,P.jsxs)(w.ZP,{children:["Select parent block(s) for ",(0,P.jsx)(w.ZP,{color:dn(g.type,{theme:f}).accent,inline:!0,monospace:!0,children:g.uuid}),":"]}),(0,P.jsx)(M.Z,{mt:1,children:y.map((function(e,n){var t,r=e.uuid;return(0,P.jsxs)(w.ZP,{color:dn(null===(t=Z[r])||void 0===t?void 0:t.type,{theme:f}).accent,inline:!0,monospace:!0,children:[r,j>=2&&n<=j-2?(0,P.jsx)(w.ZP,{inline:!0,children:",\xa0"}):null]},r)}))})]}),(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(Wt,{compact:!0,inline:!0,loading:T,onClick:function(){return I({block:Uc(Uc({},g),{},{upstream_blocks:y.map((function(e){return e.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,P.jsx)(M.Z,{ml:1}),(0,P.jsx)(Wt,{compact:!0,inline:!0,noBackground:!0,onClick:function(){return d({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})]}),(0,P.jsx)(Nc,{height:i-10*R.iI,children:(0,P.jsx)(Wc,{arrow:null,disabled:!1,edge:function(e){var n,t=Z[e.source];return(0,P.jsx)(Qc,Uc(Uc({},e),{},{style:{stroke:null===(n=dn(null===t||void 0===t?void 0:t.type,{theme:f}))||void 0===n?void 0:n.accent}}))},edges:N,fit:!0,node:function(e){return(0,P.jsx)(Vc,Uc(Uc({},e),{},{linkable:!1,onClick:function(e,n){var t=n.data.block;(null===g||void 0===g?void 0:g.uuid)===t.uuid||(g?D(t):A(t))},port:null,style:{fill:"transparent",stroke:"transparent",strokeWidth:0},children:function(e){var n,t=e.node.data.block;return(0,P.jsx)("foreignObject",{height:e.height,style:{pointerEvents:"none"},width:e.width,x:0,y:0,children:(0,P.jsxs)(Lc,{block:t,disabled:(null===g||void 0===g?void 0:g.uuid)===t.uuid,hasFailed:b.FAILED===t.status,isInProgress:_[t.uuid],isQueued:_[t.uuid]&&(null===(n=c[0])||void 0===n?void 0:n.uuid)!==t.uuid,isSuccessful:b.EXECUTED===t.status,selected:g?(0,xn.sE)(y,(function(e){return e.uuid===t.uuid})):(null===s||void 0===s?void 0:s.uuid)===t.uuid,children:[t.uuid,(null===g||void 0===g?void 0:g.uuid)===t.uuid&&" (currently editing)"]},t.uuid)})}}))},nodes:H,zoomable:!0})})]})},Kc=C.default.svg.withConfig({displayName:"EmptyCharts__SVGStyle",componentId:"sc-ttsjrp-0"})([""]),Yc=function(e){var n=e.size,t=void 0===n?20:n,r=e.viewBox,i=void 0===r?"0 0 358 305":r;return(0,P.jsxs)(Kc,{height:t*(305/358),viewBox:i,width:t,children:[(0,P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M290 47H66c-3.866 0-7 3.134-7 7v200c0 3.866 3.134 7 7 7h224c3.866 0 7-3.134 7-7V54c0-3.866-3.134-7-7-7zM66 46c-4.4183 0-8 3.5817-8 8v200c0 4.418 3.5817 8 8 8h224c4.418 0 8-3.582 8-8V54c0-4.4183-3.582-8-8-8H66z",fill:"#000"}),(0,P.jsx)("path",{fill:"#000",d:"M118 46h1v216h-1zM178 46h1v216h-1zM238 46h1v216h-1z"}),(0,P.jsx)("path",{fill:"#000",d:"M59 208.25v-1h239v1zM59 154.5v-1h239v1zM59 100.75v-1h239v1z"}),(0,P.jsx)("rect",{x:"209.651",y:"17.1125",width:"1.0163",height:"14.2284",rx:".5082",transform:"rotate(24.933 209.651 17.1125)",fill:"#2AB2FE"}),(0,P.jsx)("path",{fill:"#2AB2FE",d:"M207.788 23.5313l35.4813 16.4949-.4285.9215-35.4812-16.4948zM247.033 31.9316c.946-2.0359 3.364-2.9191 5.4-1.9726l31.795 14.7811-11.383 24.4836-31.794-14.7811c-2.036-.9465-2.92-3.3642-1.973-5.4002l7.955-17.1108z"}),(0,P.jsx)("path",{d:"M284.228 44.7401l31.795 14.7811c2.036.9465 2.919 3.3642 1.972 5.4001l-7.954 17.1109c-.947 2.0359-3.365 2.9191-5.401 1.9726l-31.795-14.7811 11.383-24.4836z",fill:"#0093E4"}),(0,P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M352.959 83.7347a.5082.5082 0 00-.675.2466l-2.571 5.5296-35.481-16.4949-.428.9216 35.481 16.4949-2.571 5.5295a.5081.5081 0 00.247.675.5082.5082 0 00.675-.2466l5.57-11.9806a.5083.5083 0 00-.247-.6751z",fill:"#2AB2FE"}),(0,P.jsx)("circle",{cx:"55.2178",cy:"34.6274",r:"5.2954",fill:"#8ADE00"}),(0,P.jsx)("circle",{cx:"113.818",cy:"106.582",r:"5.2954",fill:"#8ADE00"}),(0,P.jsx)("circle",{cx:"84.2832",cy:"80.6953",r:"5.2954",fill:"#8ADE00"}),(0,P.jsx)("circle",{cx:"117.115",cy:"43.6274",r:"5.2954",fill:"#8ADE00"}),(0,P.jsx)("path",{d:"M337.354 256.065a38.3848 38.3848 0 01-10.816 21.271 38.3722 38.3722 0 01-21.293 10.768 38.3787 38.3787 0 01-23.542-3.895 38.3764 38.3764 0 01-16.691-17.054l17.208-8.494a19.1932 19.1932 0 0020.117 10.475 19.189 19.189 0 0010.647-5.385c2.886-2.88 4.78-6.605 5.407-10.635l18.963 2.949z",fill:"#FF3C3C"}),(0,P.jsx)("path",{d:"M294.876 288.277a38.3849 38.3849 0 01-21.64-10.056 38.3818 38.3818 0 01-11.516-20.899 38.3896 38.3896 0 013.06-23.666 38.386 38.386 0 0116.453-17.283l9.098 16.897a19.1904 19.1904 0 00-9.757 20.474 19.1937 19.1937 0 005.758 10.45 19.194 19.194 0 0010.82 5.028l-2.276 19.055z",fill:"#2ECDF7"}),(0,P.jsx)("path",{d:"M275.892 219.85a38.3804 38.3804 0 0145.342-1.268 38.3803 38.3803 0 0114.45 18.989 38.3873 38.3873 0 01.436 23.858l-18.346-5.631a19.1827 19.1827 0 00-.218-11.929 19.1907 19.1907 0 00-7.225-9.495 19.1875 19.1875 0 00-11.439-3.39 19.192 19.192 0 00-11.232 4.024l-11.768-15.158z",fill:"#885EFF"}),(0,P.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M259.206 102.57c.241.135.327.439.193.68l-39.314 70.576c-.613 1.1-1.962 1.565-3.124 1.093-3.766-1.53-13.762-5.285-26.356-7.597-12.6-2.314-27.762-3.177-41.881 1.037-16.112 4.81-27.78 14.07-35.424 22.135-3.822 4.032-6.635 7.763-8.491 10.483-.928 1.36-1.616 2.467-2.072 3.232-.228.383-.397.68-.509.881-.057.1-.098.177-.126.227l-.03.057-.008.014-.001.003a.5008.5008 0 01-.676.21.5005.5005 0 01-.209-.676l.442.233-.442-.233.001-.001.002-.005.009-.016.033-.062c.03-.055.073-.135.132-.239.116-.208.29-.513.523-.904.465-.782 1.165-1.906 2.105-3.285 1.881-2.756 4.727-6.53 8.591-10.607 7.727-8.153 19.539-17.532 35.864-22.405 14.331-4.278 29.668-3.391 42.347-1.063 12.685 2.329 22.748 6.109 26.552 7.654.699.284 1.51.002 1.875-.653l39.313-70.575a.5008.5008 0 01.681-.194z",fill:"#7D55EC"}),(0,P.jsx)("path",{d:"M221.651 176.111c0 2.139-1.734 3.873-3.873 3.873-2.139 0-3.873-1.734-3.873-3.873 0-2.139 1.734-3.873 3.873-3.873 2.139 0 3.873 1.734 3.873 3.873zM157.778 166.428c0 2.139-1.734 3.873-3.873 3.873-2.139 0-3.873-1.734-3.873-3.873 0-2.139 1.734-3.873 3.873-3.873 2.139 0 3.873 1.734 3.873 3.873zM106.428 204.191c0 2.139-1.734 3.873-3.873 3.873-2.139 0-3.8726-1.734-3.8726-3.873 0-2.139 1.7336-3.873 3.8726-3.873s3.873 1.734 3.873 3.873zM262.35 104.459c0 2.139-1.734 3.873-3.873 3.873-2.139 0-3.873-1.734-3.873-3.873 0-2.139 1.734-3.873 3.873-3.873 2.139 0 3.873 1.734 3.873 3.873z",fill:"#7D55EC"}),(0,P.jsx)("path",{d:"M8.5523 214.855c-.3562-1.045.2025-2.181 1.248-2.538l13.7251-4.677c1.0456-.356 2.1819.203 2.5382 1.248l29.6737 87.084-17.5112 5.967-29.6738-87.084z",fill:"#4776FF"}),(0,P.jsx)("path",{d:"M45.0935 264.735c-.3562-1.045.2025-2.182 1.2481-2.538l13.725-4.677c1.0455-.356 2.1819.203 2.5382 1.248l10.6438 31.237-17.5112 5.967-10.6439-31.237z",fill:"#FFCC19"}),(0,P.jsx)("path",{d:"M54.4607 234.868c-.3563-1.046.2025-2.182 1.248-2.538l13.7251-4.677c1.0455-.356 2.1819.202 2.5382 1.248l18.7879 55.137-17.5113 5.967-18.7879-55.137z",fill:"#4776FF"})]})},qc=t(19537),Xc=t(21764),Jc=t(73199),$c=t.n(Jc),eu=t(71735),nu=t(65292);var tu=function(e){var n=e.language,t=e.maxWidth,r=e.showLineNumbers,i=e.small,o=e.source,l=e.wrapLines,c=(0,h.useContext)(C.ThemeContext);return(0,P.jsx)($c(),{source:o,renderers:{code:function(e){var o=e.value;return(0,P.jsx)(eu.Z,{customStyle:{backgroundColor:(c.background||Z.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:Un.Vp,fontSize:i?12:14,marginBottom:0,marginTop:0,paddingBottom:2*R.iI,paddingTop:2*R.iI,maxWidth:t},lineNumberStyle:{color:(c.content||Z.Z.content).muted},language:n,showLineNumbers:r,style:nu._4,useInlineStyles:!0,wrapLines:l,children:o})}}})},ru=(R.iI,_i.O$,R.iI,Wn.dN,C.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-cr39lf-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],Hr,Rr.nn,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),C.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-cr39lf-1"})(["padding:","px;",""],2*R.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "})),C.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-cr39lf-2"})([""])),iu=C.default.td.withConfig({displayName:"indexstyle__CellStyle",componentId:"sc-cr39lf-3"})(["display:flex;align-items:center;justify-content:space-between;border:1px solid #1C1C1C;height:100%;",""],(function(e){return!e.noPadding&&"\n    padding: 0 ".concat(2*R.iI,"px;\n  ")}));var ou=function(e){var n=e.copyText,t=e.deleteVariable,r=e.variable,i=(0,h.useState)(!1),o=i[0],l=i[1],c=r.uuid,u=(r.type,r.value),a=n||c;return(0,P.jsx)("div",{onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},children:(0,P.jsxs)(Ic,{children:[(0,P.jsx)(jc,{md:1,hiddenSmDown:!0,children:(0,P.jsx)(iu,{noPadding:!0,children:(0,P.jsx)(Wt,{backgroundColor:lr.qJ,borderless:!0,centerText:!0,muted:!0,onClick:function(){navigator.clipboard.writeText(a),Xc.Am.success("Successfully copied to clipboard.",{position:Xc.Am.POSITION.BOTTOM_RIGHT,toastId:c})},uuid:"Sidekick/GlobalVariables/".concat(c),withIcon:!0,children:(0,P.jsx)(F.CK,{size:2.5*R.iI})})})}),(0,P.jsx)(jc,{md:5,children:(0,P.jsxs)(iu,{children:[(0,P.jsx)(w.ZP,{color:Mt.Or,monospace:!0,small:!0,textOverflow:!0,children:c}),t&&o&&(0,P.jsx)(Wt,{backgroundColor:lr.qJ,borderless:!0,inline:!0,muted:!0,onClick:t,uuid:"Sidekick/GlobalVariables/delete_".concat(c),withIcon:!0,children:(0,P.jsx)(F.rF,{size:2.5*R.iI})})]})}),(0,P.jsx)(jc,{md:6,children:(0,P.jsx)(iu,{children:(0,P.jsx)(w.ZP,{monospace:!0,small:!0,children:u})})})]})})};var lu=function(e){e.blocks;var n=e.fetchVariables,t=e.pipeline,r=e.selectedBlock,i=e.setErrorMessages,o=e.variables,c=e.width,u=(0,h.useState)(!1),s=u[0],d=u[1],p=(0,h.useState)(),f=p[0],m=p[1],g=(0,h.useState)(),b=g[0],x=g[1],y=null===t||void 0===t?void 0:t.uuid,j=(0,v.Db)(Vt.ZP.variables.pipelines.useCreate(y),{onSuccess:function(e){return(0,Gt.wD)(e,{onErrorCallback:function(e){var n=e.error.exception;i((function(e){return e.concat(n)}))}})}}),k=(0,a.Z)(j,1)[0],C=(0,v.Db)((function(e){return Vt.ZP.variables.pipelines.useDelete(y,e)()}),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){n()},onErrorCallback:function(e){var n=e.error,t=(n.errors,n.message);i((function(e){return e.concat(t)}))}})}}),Z=(0,a.Z)(C,1)[0],_=(0,h.useCallback)((function(e){if("Enter"===e.key){var t=b;try{t=JSON.parse(b)}catch(r){}k({variable:{name:f,value:t}}).then((function(){n(),m(null),x(null)})),d(!1)}}),[k,n,f,b]),S=(0,h.useMemo)((function(){return c-4*R.iI}),[c]),E=(0,h.useMemo)((function(){return Ei(o,(function(e){return"global"===e.uuid}))}),[o]),I=(0,h.useMemo)((function(){return Ei(o,(function(e){return e.uuid===(null===r||void 0===r?void 0:r.uuid)}))}),[r,o]),T=(0,h.useMemo)((function(){return(0,P.jsxs)(ru,{width:S,children:[s&&(0,P.jsxs)(Ic,{children:[(0,P.jsx)(jc,{md:1,children:(0,P.jsx)(iu,{noPadding:!0,children:(0,P.jsx)(Wt,{backgroundColor:lr.qJ,borderless:!0,centerText:!0,muted:!0,onClick:function(){navigator.clipboard.writeText(f),Xc.Am.success("Successfully copied to clipboard.",{position:Xc.Am.POSITION.BOTTOM_RIGHT,toastId:f})},uuid:"Sidekick/GlobalVariables/".concat(f),withIcon:!0,children:(0,P.jsx)(F.CK,{size:2.5*R.iI})})})}),(0,P.jsx)(jc,{md:5,children:(0,P.jsx)(iu,{children:(0,P.jsx)(ur.Z,{compact:!0,borderless:!0,monospace:!0,onChange:function(e){m(e.target.value),e.preventDefault()},onKeyDown:_,paddingHorizontal:0,placeholder:"variable",small:!0,value:f})})}),(0,P.jsx)(jc,{md:6,children:(0,P.jsx)(iu,{children:(0,P.jsx)(ur.Z,{compact:!0,borderless:!0,monospace:!0,onChange:function(e){x(e.target.value),e.preventDefault()},onKeyDown:_,paddingHorizontal:0,placeholder:"enter value",small:!0,value:b})})})]}),null===E||void 0===E?void 0:E.map((function(e){return(0,P.jsx)(ou,{deleteVariable:function(){return Z(e.uuid)},variable:e})}))]})}),[Z,E,f,b,m,x,d,s,S]),A=(0,h.useMemo)((function(){return(0,P.jsx)(ru,{width:S,children:null===I||void 0===I?void 0:I.map((function(e){return(0,P.jsx)(ou,{copyText:(n=e.uuid,"from mage_ai.data_preparation.variable_manager import (\n    get_variable,\n)\n        \n".concat(function(e,n,t){return"\n".concat(t," = get_variable('").concat(e,"', '").concat(n,"', '").concat(t,"')\n")}(y,null===r||void 0===r?void 0:r.uuid,n))),variable:e});var n}))})}),[I,r,S]);return(0,P.jsxs)(M.Z,{p:R.cd,children:[(0,P.jsx)(M.Z,{mb:R.cd,children:(0,P.jsxs)(O.Z,{alignItems:"center",children:[(0,P.jsx)(Oi.Z,{level:4,monospace:!0,children:"Global Variables"}),(0,P.jsx)(M.Z,{ml:2}),(0,P.jsx)(Wt,{Icon:F.mm,blackBorder:!0,inline:!0,onClick:function(){return d((function(e){return!e}))},uuid:"Sidekick/GlobalVariables/addNewVariable",children:"New"})]})}),(0,P.jsx)(M.Z,{mb:R.cd,children:T}),(0,P.jsx)(M.Z,{mb:R.cd,children:(0,P.jsx)(w.ZP,{children:"Global variables will be passed into all non-scratchpad blocks as keyword arguments. To load a global variable, use the following syntax:"})}),(0,P.jsx)(M.Z,{mb:R.cd,children:(0,P.jsx)(tu,{language:"python",small:!0,source:"\n    var = kwargs['variable_name']\n"})}),I&&I.length>0&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(M.Z,{my:2,children:(0,P.jsx)(Oi.Z,{level:4,monospace:!0,children:"Block Output Variables"})}),(0,P.jsx)(M.Z,{mb:2,children:A}),(0,P.jsx)(M.Z,{mb:R.cd,children:(0,P.jsxs)(w.ZP,{children:["Output variables can be used in any ",(0,P.jsx)(w.ZP,{bold:!0,inline:!0,monospace:!0,children:l.SCRATCHPAD})," block."]})}),(0,P.jsx)(M.Z,{mb:R.cd,children:(0,P.jsx)(w.ZP,{children:"To load the variable, use the following syntax:"})}),(0,P.jsx)(M.Z,{mb:R.cd,children:(0,P.jsx)(tu,{language:"python",small:!0,source:"\n    from mage_ai.data_preparation.variable_manager import (\n        get_variable,\n    )\n\n\n    df = get_variable(\n        'pipeline_uuid',\n        'block_uuid',\n        'variable_name',\n    )\n"})})]})]})},cu=C.default.div.withConfig({displayName:"indexstyle__OutputContainerStyle",componentId:"sc-wkjnrg-0"})([""," overflow-y:scroll;"," ",""],Rr.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return!e.height&&"\n    height: ".concat(300,"px;\n  ")}));function uu(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function au(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?uu(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uu(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var su=function(e){var n=e.cancelPipeline,t=e.executePipeline,r=e.isPipelineExecuting,i=e.pipelineMessages,o=(0,h.useMemo)((function(){return(null===i||void 0===i?void 0:i.length)||0}),[i]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(O.Z,{children:[(0,P.jsx)(Ae.Z,{beforeIcon:(0,P.jsx)(F.JM,{inverted:!0,size:2*R.iI}),loading:r,onClick:t,success:!0,children:(0,P.jsx)(w.ZP,{bold:!0,inverted:!0,primary:!1,children:"Execute pipeline"})}),(0,P.jsx)(M.Z,{ml:1}),r&&(0,P.jsx)(Ae.Z,{beforeIcon:(0,P.jsx)(F.x8,{inverted:!0,size:2*R.iI}),onClick:n,success:!0,children:(0,P.jsx)(w.ZP,{bold:!0,inverted:!0,primary:!1,children:"Cancel Pipeline"})})]}),(0,P.jsx)(cu,{noScrollbarTrackBackground:!0,children:(0,P.jsx)(jo,{executedAndIdle:!0,hasError:!1,selected:!0,children:i.map((function(e,n){var t=e.data,r=e.type,i=[],l=(i=(i=Array.isArray(t)?t:[t]).filter((function(e){return e}))).length;return i.map((function(e,t){var i,c={first:0===n&&0===t,last:n===o-1&&t===l-1};return fi.includes(r)?i=(0,P.jsx)(ko,au(au({},c),{},{children:(0,P.jsx)(w.ZP,{monospace:!0,preWrap:!0,children:(0,P.jsx)(xo(),{children:e})})})):r===si.IMAGE_PNG&&(i=(0,P.jsx)("div",{style:{backgroundColor:"white"},children:(0,P.jsx)("img",{alt:"Image ".concat(n," from code output"),src:"data:image/png;base64, ".concat(e)})})),(0,P.jsx)("div",{children:i},"code-output-".concat(n,"-").concat(t))}))}))})})]})},du=t(92506),pu=(R.iI,_i.O$+3*R.iI+Wn.dN),fu=C.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],zr,Rr.nn,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),hu=C.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*R.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "})),vu=t(24141);var mu=function(e){var n=e.activeView,t=e.afterWidth,r=e.autocompleteItems,i=e.blockRefs,o=e.blocks,l=e.cancelPipeline,c=e.chartRefs,u=e.deleteWidget,a=e.editingBlock,s=e.executePipeline,d=e.fetchFileTree,p=e.fetchPipeline,f=e.fetchVariables,v=e.globalVariables,m=e.insights,g=e.isPipelineExecuting,b=e.messages,x=e.metadata,y=e.onChangeChartBlock,j=e.pipeline,k=e.pipelineMessages,C=e.runBlock,Z=e.runningBlocks,_=e.sampleData,S=e.savePipelineContent,E=e.selectedBlock,I=e.setAnyInputFocused,T=e.setEditingBlock,A=e.setSelectedBlock,D=e.setTextareaFocused,B=e.statistics,N=e.textareaFocused,H=e.updateWidget,L=e.widgets,z=(0,vu.i)().height,U=zr,W=(0,h.useState)([]),V=W[0],Q=W[1],G=((null===a||void 0===a?void 0:a.upstreamBlocks)||{}).block,K=((null===_||void 0===_?void 0:_.columns)||[]).slice(0,40),Y=(null===_||void 0===_?void 0:_.rows)||[],q=(null===x||void 0===x?void 0:x.column_types)||{},X=null===K||void 0===K?void 0:K.map((function(e){return{columnType:q[e],uuid:e}})),J=(null===m||void 0===m?void 0:m[1])||{},$=(0,h.useMemo)((function(){return(0,xn.HK)((null===m||void 0===m?void 0:m[0])||[],(function(e){return e.feature.uuid}))}),[m]),ee=function(e){var n=e.statistics,t=Object.keys(n),r=Array(wi.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(wi.Dy.includes(e)){var t=wi.CC[e],i=n[e],o=i,l=!1,c=[2,3],u=wi.Ub[e],a=wi.oH[e],s=wi.OD[e];if(wi.y_.includes(e))l=!0,c=[2,1,2];else if(e in wi.Sq){i=(0,Zi.Jw)(i,0);var d=wi.Sq[e];o=n[d]}var p={columnFlexNumbers:c,name:t,progress:l,rate:o,successDirection:a,warning:s};wi.y_.includes(e)||(p.value=i),r[u]=p}})),r)}({statistics:B}),ne=function(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,i=Object.keys(r);if(0===i.length)return null;var o=Object.values(t),l=o.length,c=[];c.push({name:"Column count",successDirection:wi.oH.column_count,value:(0,Ee.x6)(l)}),i.forEach((function(e){if(wi.Zu.includes(e)){var n=wi.CC[e],t=r[e],i=wi.OD[e];c.push({name:n,successDirection:wi.oH[e],value:(0,Ee.x6)(t),warning:i})}}));var u=(0,_i.QO)(o),a=u.countCategory,s=u.countDatetime,d=u.countNumerical;return c.push({name:"Categorical Features",rate:a/l,value:(0,Ee.x6)(a)},{name:"Numerical Features",rate:d/l,value:(0,Ee.x6)(d)},{name:"Datetime Features",rate:s/l,value:(0,Ee.x6)(s)}),c}({columnTypes:q,statistics:B}),te=_&&m&&Object.keys(B).length>0,re=(0,h.useCallback)((0,_i.Fk)({columnTypes:q,columns:K,insightsByFeatureUUID:$,insightsOverview:J,noColumnLinks:!0,statistics:B}),[q,K,$,J,B]),ie=(0,h.useMemo)((function(){return(0,P.jsx)(lu,{blocks:o,fetchVariables:f,pipeline:j,selectedBlock:E,setErrorMessages:Q,variables:v,width:t})}),[null===i||void 0===i?void 0:i.current,o,f,v,j,E,A]);return(0,P.jsxs)(P.Fragment,{children:[(null===V||void 0===V?void 0:V.length)>=1&&(0,P.jsxs)(M.Z,{mb:3,mt:2,mx:2,children:[(0,P.jsxs)(O.Z,{justifyContent:"space-between",children:[(0,P.jsx)(w.ZP,{bold:!0,danger:!0,children:"Errors"}),(0,P.jsx)(Ae.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return Q([])},transparent:!0,children:(0,P.jsx)(F.x8,{muted:!0})})]}),null===V||void 0===V?void 0:V.map((function(e){return(0,P.jsx)(M.Z,{pb:1,children:(0,P.jsx)(w.ZP,{monospace:!0,xsmall:!0,children:e})},e)}))]}),(0,P.jsxs)(fu,{fullWidth:on.includes(n),children:[n===Ge.TREE&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Gc,{blockRefs:i,editingBlock:a,fetchPipeline:p,height:z-U-300,pipeline:j,runningBlocks:Z,selectedBlock:E,setEditingBlock:T,setSelectedBlock:A}),!G&&(0,P.jsx)(M.Z,{p:2,children:(0,P.jsx)(su,{cancelPipeline:l,executePipeline:s,isPipelineExecuting:g,pipelineMessages:k})})]}),n===Ge.DATA&&K.length>0&&(0,P.jsx)(yo.Z,{columnHeaderHeight:pu,columns:K,height:z-U-Lr,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,renderColumnHeader:re,rows:Y,width:t}),n===Ge.REPORTS&&(0,P.jsx)(hu,{noPadding:!E||!te,children:(0,P.jsxs)(O.Z,{flexDirection:"column",fullWidth:!0,children:[ee&&(0,P.jsx)(du.Z,{stats:ee,title:"Quality metrics"}),ne&&(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(du.Z,{stats:ne,title:"Statistics"})}),X.length>0&&(0,P.jsx)(M.Z,{mt:R.cd,children:(0,P.jsx)(qc.Z,{features:X,statistics:B})})]})}),n===Ge.GRAPHS&&(0,P.jsx)(hu,{noPadding:!E||!te,children:(0,P.jsx)(Ol,{afterWidth:t,features:X,insightsOverview:J,statistics:B})}),Ge.VARIABLES===n&&v&&ie,E&&te||!E&&te&&n===Ge.DATA?null:ln.includes(n)&&(0,P.jsx)(O.Z,{alignItems:"center",justifyContent:"center",verticalHeight:90,verticalHeightOffset:U,width:t,children:(0,P.jsx)(w.ZP,{center:!0,default:!0,disableWordBreak:!0,large:!0,monospace:!0,children:E?!te&&"No data or insights available":"Select a block for insights"})}),Ge.CHARTS===n&&(L.length>0?(0,P.jsx)(Dc,{autocompleteItems:r,blockRefs:i,blocks:o,chartRefs:c,deleteWidget:u,fetchFileTree:d,fetchPipeline:p,messages:b,onChangeChartBlock:y,pipeline:j,runBlock:C,runningBlocks:Z,savePipelineContent:S,selectedBlock:E,setAnyInputFocused:I,setSelectedBlock:A,setTextareaFocused:D,textareaFocused:N,updateWidget:H,widgets:L,width:t}):(0,P.jsxs)(O.Z,{alignItems:"center",justifyContent:"center",verticalHeight:90,verticalHeightOffset:U,width:t,children:[(0,P.jsx)(M.Z,{pl:1}),(0,P.jsx)(Yc,{size:358}),(0,P.jsx)(M.Z,{pr:1})]}))]})]})},gu=t(1887),bu=t.n(gu),xu=t(57639);var yu=function(e){var n=e.after,t=e.afterHeader,r=e.afterHidden,i=e.afterMousedownActive,o=e.afterSubheader,l=e.afterWidth,c=e.before,u=e.beforeHeader,a=e.beforeHidden,s=e.beforeMousedownActive,d=e.beforeWidth,p=e.children,f=e.header,v=e.mainContainerHeader,m=e.mainContainerRef,g=e.setAfterHidden,b=e.setAfterMousedownActive,x=e.setAfterWidth,y=e.setBeforeHidden,j=e.setBeforeMousedownActive,k=e.setBeforeWidth,C=(0,vu.i)().width,w=(0,h.useRef)(null),Z=(0,h.useRef)(null),_=(0,h.useRef)(null),S=(0,h.useRef)(null),E=(0,h.useCallback)((function(){var e=!r;g(e),(0,an.t8)(an.zg,e)}),[r,g]),I=(0,h.useCallback)((function(){var e=!a;y(e),(0,an.t8)(an.Uu,e)}),[a,y]);(0,h.useEffect)((function(){var e,n,t,r,i=function(e){var n,t;((null===_||void 0===_||null===(n=_.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(C){var r=e.x;r+Nr>C-l&&(r=C-l-Nr),k(Math.max(r,Mr))}},o=function(e){var n,t;e.offsetX>=e.target.offsetWidth-Br&&e.offsetX<=e.target.offsetWidth+Br&&(j(!0),e.preventDefault(),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",i,!1))},c=function(){var e,n;j(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",i,!1)};return null===S||void 0===S||null===(e=S.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",o,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",c,!1),function(){var e,n,t,r;null===S||void 0===S||null===(e=S.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",o,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",c,!1),c()}}),[l,_,S,j,k,C]),(0,h.useEffect)((function(){var e,n,t,r,i=function(e){var n,t;((null===w||void 0===w||null===(n=w.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(C){var r=C-e.x;r+Nr>C-d&&(r=C-d-Nr),x(Math.max(r,Dr))}},o=function(e){var n,t;e.offsetX>=-1*Br&&e.offsetX<=Br&&(b(!0),e.preventDefault(),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",i,!1))},l=function(){var e,n;b(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",i,!1)};return null===Z||void 0===Z||null===(e=Z.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",o,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",l,!1),function(){var e,n,t,r;null===Z||void 0===Z||null===(e=Z.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",o,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",l,!1),l()}}),[d,w,Z,b,x,C]);var T=r?4*R.iI:l,A=a?4*R.iI:d;return(0,P.jsxs)(xu.Z,{children:[(i&&!r||s&&!a)&&(0,P.jsx)(bu(),{children:(0,P.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                body {\n                  cursor: col-resize;\n                }\n              "}})}),f&&(0,P.jsx)(Ur,{children:f}),c&&(0,P.jsxs)(Yr,{style:{width:A},children:[(0,P.jsx)($r,{active:s,disabled:a,ref:S,right:0}),(0,P.jsx)(Gr,{style:{width:A},visible:a,children:(0,P.jsxs)(O.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"space-between",children:[(0,P.jsxs)(Fe.Z,{children:[(0,P.jsx)(M.Z,{pl:a?1:0}),!a&&u]}),(0,P.jsxs)(Fe.Z,{children:[(0,P.jsx)(Or,{block:!0,label:a?"Show sidebar":"Hide sidebar",size:null,widthFitContent:!0,children:(0,P.jsxs)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I()},children:[a&&(0,P.jsx)(F._Q,{neutral:!0,size:2*R.iI}),!a&&(0,P.jsx)(F.s$,{neutral:!0,size:2*R.iI})]})},a?"before-is-hidden":"before-is-visible"),(0,P.jsx)(M.Z,{pr:a?1:2})]})]})}),(0,P.jsx)(qr,{noScrollbarTrackBackground:!0,ref:_,children:!a&&c})]}),(0,P.jsxs)(ei,{style:{left:A,width:"calc(100% - ".concat(A+T,"px)")},children:[v,(0,P.jsx)(ni,{headerOffset:v?zr:Hr,style:{width:"calc(100% - ".concat(A+T,"px)")},children:(0,P.jsx)(ti,{noScrollbarTrackBackground:!0,ref:m,children:p})})]}),n&&(0,P.jsxs)(Xr,{style:{width:T},children:[(0,P.jsx)($r,{active:i,disabled:r,left:0,ref:Z}),(0,P.jsx)(Gr,{style:{width:T},visible:r,children:(0,P.jsxs)(O.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:[(0,P.jsxs)(Fe.Z,{children:[(0,P.jsx)(M.Z,{pl:r?1:2}),(0,P.jsxs)(Ae.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return E()},children:[r&&(0,P.jsx)(F.s$,{neutral:!0,size:2*R.iI}),!r&&(0,P.jsx)(F._Q,{neutral:!0,size:2*R.iI})]})]}),!r&&t]})}),!r&&o&&(0,P.jsx)(Kr,{style:{width:T},visible:r,children:o}),(0,P.jsx)(Jr,{noScrollbarTrackBackground:!0,ref:w,children:!r&&n})]})]})},ju=t(28799);function ku(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ou(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ku(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ku(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Cu(e){var n,t,r,i,o,c=e.newPipelineSchedule,d=e.page,p=e.pipeline,g=e.pipelineSchedule,b=e.pipelineScheduleAction,x=(0,m.useRouter)(),y=(0,vu.i)(),j=y.height,k=y.width,C=(0,h.useState)((0,an.U2)(an.L8,Ar)),w=C[0],Z=C[1],_=(0,h.useState)(null),S=_[0],E=_[1],I=(0,h.useState)((0,an.U2)(an.J3,Fr)),T=I[0],A=I[1],D=(0,h.useState)(!!(0,an.U2)(an.zg)),B=D[0],N=D[1],H=(0,h.useState)(!!(0,an.U2)(an.Uu)),L=H[0],z=H[1],U=(0,h.useState)(!1),W=U[0],V=U[1],Q=(0,h.useState)(!1),G=Q[0],K=Q[1],Y=(0,h.useState)(null),q=Y[0],X=Y[1],J=(0,h.useState)(null),$=J[0],ee=J[1],ne=(0,h.useState)(null),te=ne[0],re=ne[1],ie=(0,h.useState)([]),oe=ie[0],le=ie[1],ce=(0,h.useState)(!1),ue=ce[0],ae=ce[1],se=(0,h.useState)({}),de=se[0],pe=se[1],fe=(0,h.useState)(!1),he=fe[0],ve=fe[1],me=(0,h.useState)(!1),ge=me[0],be=me[1],xe=(0,h.useState)(null),ye=xe[0],je=xe[1],ke=(0,h.useState)(!1),Oe=ke[0],Ce=ke[1],we=Vt.ZP.pipelines.list(),Ze=we.data,_e=we.mutate,Pe=(0,h.useMemo)((function(){return null===Ze||void 0===Ze?void 0:Ze.pipelines}),[Ze]),Se=(0,h.useMemo)((function(){return(null===Pe||void 0===Pe?void 0:Pe.length)||0}),[Pe]),Ie=(0,Ii.iV)(),Te=Ie.sideview,Me=Ie.file_path,Be=(0,h.useMemo)((function(){var e=Ie["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[Ie]),Ne=(0,h.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,Ii.iV)().sideview!==e&&(0,ui.u)((0,s.Z)({},rn,e),{pushHistory:n})}),[]);(0,h.useEffect)((function(){Te||Ne(Ge.TREE,!1)}),[Te]);var He=(0,h.useCallback)((function(e,n){Ne(e,n),N(!1)}),[Ne]),Le=(0,h.useRef)(null),ze=(0,h.useRef)({}),Ue=(0,h.useRef)({}),We=(0,h.useRef)({}),Ve=(0,h.useRef)({}),Qe=(0,h.useRef)(null),Ke=p.uuid,Ye=(0,Ln.Z)(Ke),qe=(0,h.useCallback)((function(e){We.current=Ou(Ou({},We.current),e)}),[We]),Xe=(0,h.useCallback)((function(e,n){qe((0,s.Z)({},e,n)),Ce(!0)}),[qe,Ce]),Je=(0,h.useCallback)((function(e){Ve.current=Ou(Ou({},Ve.current),e)}),[Ve]),$e=(0,h.useCallback)((function(e,n){Je((0,s.Z)({},e,n)),Ce(!0)}),[Je,Ce]),en=(0,h.useState)(null),nn=en[0],tn=en[1];(0,h.useEffect)((function(){null===Qe||void 0===Qe||!Qe.current||W||G||tn(Qe.current.getBoundingClientRect().width)}),[W,G,B,w,L,T,null===Qe||void 0===Qe?void 0:Qe.current,tn,k]),(0,h.useEffect)((function(){W||(E(w),(0,an.t8)(an.L8,w))}),[W,w,E]),(0,h.useEffect)((function(){G||(0,an.t8)(an.J3,T)}),[G,T]);var on=Vt.ZP.data_providers.list().data,ln=null===on||void 0===on?void 0:on.data_providers,sn=Vt.ZP.variables.pipelines.list(Ke),dn=sn.data,pn=sn.mutate,fn=null===dn||void 0===dn?void 0:dn.variables,hn=(0,h.useState)([]),vn=hn[0],mn=hn[1],gn=(0,h.useState)([]),bn=gn[0],yn=gn[1],jn=(0,h.useRef)({}),kn=(0,h.useCallback)((function(e){var n;Ce(!0);var t=jn.current[e.uuid]||{},r=t.upstream_blocks;(null===e||void 0===e||null===(n=e.upstream_blocks)||void 0===n?void 0:n.length)>=1&&(r=e.upstream_blocks),jn.current[e.uuid]=Ou(Ou(Ou({},t),e),{},{configuration:Ou(Ou({},t.configuration),e.configuration),upstream_blocks:r})}),[Ce,jn.current]),On=(0,h.useState)(!1),Cn=On[0],wn=On[1],Zn=(0,h.useState)({upstreamBlocks:null}),_n=Zn[0],Pn=Zn[1],Sn=(0,h.useState)([]),En=Sn[0],Rn=Sn[1],An=(0,h.useState)(null),Mn=An[0],Fn=An[1],Nn=(0,h.useState)(null),Hn=Nn[0],zn=Nn[1],Un=null===g||void 0===g?void 0:g.id,Wn=Vt.ZP.pipeline_schedules.list(),Vn=Wn.data,Qn=(Wn.mutate,(0,h.useMemo)((function(){var e,n={};return null===Pe||void 0===Pe||Pe.forEach((function(e){return n[e.uuid]=[]})),null===Vn||void 0===Vn||null===(e=Vn.pipeline_schedules)||void 0===e||e.forEach((function(e){var t=null===e||void 0===e?void 0:e.pipeline_uuid,r=n[t];null===r||void 0===r||r.push(e),n[t]=r})),n}),[Pe,Vn])),Gn=function(e,n){var t=(0,xn.HK)(n,(function(e){return e.uuid}));return e.map((function(e){return t[e]})).filter((function(e){return!!e}))}(To(Ke),vn),Kn=(0,h.useState)(Gn),Yn=Kn[0],qn=Kn[1],Xn=(0,h.useState)(null),Jn=Xn[0],$n=Xn[1],et=(0,Ln.Z)(Yn),nt=(0,h.useCallback)((function(){Pn({upstreamBlocks:{block:null,values:[]}}),Ot({}),Ce(!1),je(null),Rn([]),Fn(null)}),[]);(0,h.useEffect)((function(){Ke!==Ye&&(We.current={})}),[Ke,Ye]);var tt=Vt.ZP.blocks.pipelines.outputs.detail(!B&&Ke,(null===Jn||void 0===Jn?void 0:Jn.type)!==l.SCRATCHPAD&&(null===Jn||void 0===Jn?void 0:Jn.type)!==l.CHART&&(null===Jn||void 0===Jn?void 0:Jn.uuid)),rt=tt.data,it=tt.mutate,ot=null===rt||void 0===rt||null===(n=rt.outputs)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.sample_data,lt=Vt.ZP.blocks.pipelines.analyses.detail(!B&&Ke,(null===Jn||void 0===Jn?void 0:Jn.type)!==l.SCRATCHPAD&&(null===Jn||void 0===Jn?void 0:Jn.type)!==l.CHART&&(null===Jn||void 0===Jn?void 0:Jn.uuid)),ct=lt.data,ut=lt.mutate,at=(null===ct||void 0===ct||null===(r=ct.analyses)||void 0===r?void 0:r[0])||{},st=at.insights,dt=at.metadata,pt=at.statistics,ft=void 0===pt?{}:pt,ht=Vt.ZP.blocks.pipelines.analyses.detail(Ke,(null===Mn||void 0===Mn?void 0:Mn.type)!==l.CHART&&null!==Hn&&(null===Mn||void 0===Mn?void 0:Mn.uuid)),vt=ht.data,mt=(ht.mutate,(null===vt||void 0===vt||null===(i=vt.analyses)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.suggestions)||[]);(0,h.useEffect)((function(){0===En.length&&(ut(),it(),pn())}),[ut,it,pn,En]),(0,h.useEffect)((function(){if(0===Yn.length)$n(null);else if((null===et||void 0===et?void 0:et.length)!==(null===Yn||void 0===Yn?void 0:Yn.length)&&(null===Yn||void 0===Yn?void 0:Yn.length)<(null===et||void 0===et?void 0:et.length)){var e=et.findIndex((function(e){return e.uuid===(null===Jn||void 0===Jn?void 0:Jn.uuid)})),n=et.length-1===e?e-1:e+1;$n(et[Math.max(0,n)])}}),[Yn,et,null===Jn||void 0===Jn?void 0:Jn.uuid]),(0,h.useEffect)((function(){var e;null!==(e=_n.upstreamBlocks)&&void 0!==e&&e.block&&(N(!1),Ne(Ge.TREE))}),[_n.upstreamBlocks]);var gt=Vt.ZP.autocomplete_items.list({},{refreshInterval:!1,revalidateOnFocus:!0}),bt=gt.data,xt=gt.mutate,yt=null===bt||void 0===bt?void 0:bt.autocomplete_items,jt=(0,h.useState)({}),kt=jt[0],Ot=jt[1],Ct=(0,h.useState)([]),wt=Ct[0],Zt=Ct[1],_t=Vt.ZP.pipelines.detail(Ke),Pt=_t.data,St=(_t.isLoading,_t.mutate),Et=Vt.ZP.files.list(),It=Et.data,Tt=Et.mutate,Rt=(0,h.useMemo)((function(){var e,n;return null===It||void 0===It||null===(e=It.files)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.name}),[It]),At=null===Pt||void 0===Pt?void 0:Pt.pipeline;(0,h.useEffect)((function(){null!==Pt&&void 0!==Pt&&Pt.error&&X({errors:(0,Gt.QZ)(Pt),response:Pt})}),[Pt]);var Dt=Vt.ZP.kernels.list({},{refreshInterval:5e3,revalidateOnFocus:!0}),Mt=Dt.data,Ft=Dt.mutate,Bt=null===Mt||void 0===Mt?void 0:Mt.kernels,Nt=(null===Bt||void 0===Bt?void 0:Bt.find((function(e){return e.name===Tr[null===At||void 0===At?void 0:At.type]})))||(null===Bt||void 0===Bt?void 0:Bt[0]);(0,h.useEffect)((function(){re(Me)}),[Me]),(0,h.useEffect)((function(){(0,xn.fS)(Be,oe)||le(Be)}),[Be]);var Ht=(0,v.Db)(Vt.ZP.pipelines.useCreate(),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){var n=e.pipeline.uuid;x.push("/pipelines/[...slug]","/pipelines/".concat(n)),Tt(),_e()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),Lt=(0,a.Z)(Ht,1)[0],zt=(0,v.Db)(Vt.ZP.pipelines.useUpdate(Ke,{update_content:!0}),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){return Ce(!1)},onErrorCallback:function(e,n){return X({errors:n,response:e})}})}}),Ut=(0,a.Z)(zt,2),Qt=Ut[0],Kt=Ut[1].isLoading,Yt=(0,h.useCallback)((function(e){var n=e||{},t=n.block,r=n.pipeline,i=void 0===r?{}:r;return je(new Date),Qt({pipeline:Ou(Ou(Ou({},At),i),{},{blocks:vn.map((function(e){var n=We.current[e.uuid];"undefined"===typeof n&&(n=e.content);var r=Ou(Ou({},e),{},{content:n,outputs:l.SCRATCHPAD===e.type&&kt[e.uuid]?kt[e.uuid].map((function(n,t){return{text_data:JSON.stringify(n),variable_uuid:"".concat(e.uuid,"_").concat(t)}})):e.outputs});return(null===t||void 0===t?void 0:t.uuid)===e.uuid&&Object.entries(t).forEach((function(e){var n=(0,a.Z)(e,2),t=n[0],i=n[1];"object"!==typeof i||Array.isArray(i)?r[t]=i:Object.entries(i).forEach((function(e){var n=(0,a.Z)(e,2),i=n[0],o=n[1];r[t]||(r[t]={}),r[t][i]=o}))})),r})),widgets:bn.map((function(e){var n=Ve.current[e.uuid],t=jn.current[e.uuid]||{};return"undefined"===typeof n&&(n=e.content),Ou(Ou(Ou({},e),t),{},{content:n,configuration:Ou(Ou({},e.configuration),t.configuration)})}))})})}),[vn,We.current,Ve.current,kt,At,je,Qt,jn.current,bn]),qt=(0,h.useCallback)((function(e){Yt();var n=encodeURIComponent(e),t=(0,Ii.iV)()["file_paths[]"]||[];Array.isArray(t)||(t=[t]),t.includes(n)||t.push(n),(0,ui.u)({"file_paths[]":t,file_path:n})}),[Yt]),Jt=(0,h.useCallback)((function(e,n){return Yt({pipeline:{name:e,type:n}}).then((function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.pipeline){var r=e.data.pipeline.uuid;Tt(),n!==(null===At||void 0===At?void 0:At.type)&&St(),Eo(vn,Ke,r),x.push("/pipelines/".concat(r))}}))}),[vn,Tt,Ke,Yt,Eo]),$t=(0,v.Db)((function(e){return Vt.ZP.pipelines.useDelete(e)()}),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){e.pipeline.uuid===Ke&&function(e,n){var t,r="/pipelines/".concat(null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.uuid),i=n.query;(null===e||void 0===e?void 0:e.length)>=1&&n.push({pathname:r,query:i})}(Pe,x),function(e,n){e.forEach((function(e){(0,an.Od)("".concat(n,"/").concat(e.uuid,"/codeCollapsed")),(0,an.Od)("".concat(n,"/").concat(e.uuid,"/outputCollapsed"))}))}(vn,Ke),Tt(),_e()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),er=(0,a.Z)($t,1)[0],rr=(0,v.Db)((function(e){var n=e.uuid;return Vt.ZP.blocks.pipelines.useDelete(Ke,n)()}),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){var n=e.block,t=n.type,r=n.uuid;mn((function(e){return(0,xn.oM)(e,e.findIndex((function(e){var n=e.uuid;return r===n})))})),St(),Fn(null),t===l.SCRATCHPAD&&Tt()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Ot((function(e){return Ou(Ou({},e),{},(0,s.Z)({},t.block_uuid,r.map((function(e){return{data:"".concat(e,"\n"),error:"".concat(e,"\n"),type:si.TEXT_PLAIN}}))))}))}})}}),ir=(0,a.Z)(rr,1)[0],or=(0,v.Db)((function(e){var n=e.uuid;return Vt.ZP.widgets.pipelines.useDelete(Ke,n)()}),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){var n=e.widget.uuid;yn((function(e){return(0,xn.oM)(e,e.findIndex((function(e){var t=e.uuid;return n===t})))})),St(),Tt()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Ot((function(e){return Ou(Ou({},e),{},(0,s.Z)({},t.block_uuid,r.map((function(e){return{data:"".concat(e,"\n"),error:"".concat(e,"\n"),type:si.TEXT_PLAIN}}))))}))}})}}),lr=(0,a.Z)(or,1)[0],ur=(0,v.Db)((function(e){var n=e.type,t=e.uuid;return Vt.ZP.blocks.useDelete(encodeURIComponent("".concat(n,"/").concat(t)))()}),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){xt(),St(),Tt()},onErrorCallback:function(e,n){return X({errors:n,displayMessage:"Error deleting block file. Check that there are no downstream blocks, then try again.",response:e})}})}}),ar=(0,a.Z)(ur,1)[0],sr=(0,v.Db)(Vt.ZP.restart.kernels.useCreate(null===Nt||void 0===Nt?void 0:Nt.id),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(){return Ft()},onErrorCallback:function(e,n){return X({errors:n,response:e})}})}}),dr=(0,a.Z)(sr,1)[0],pr=(0,v.Db)(Vt.ZP.interrupt.kernels.useCreate(null===Nt||void 0===Nt?void 0:Nt.id),{onSuccess:function(e){return(0,Gt.wD)(e,{callback:function(e){},onErrorCallback:function(e,n){return X({errors:n,response:e})}})}}),fr=(0,a.Z)(pr,1)[0],hr=((0,h.useCallback)((function(){window.confirm("Do you want to restart the kernel? All variables will be cleared.")&&dr()}),[dr]),(0,v.Db)(Vt.ZP.blocks.pipelines.useCreate(Ke))),vr=(0,a.Z)(hr,1)[0],mr=(0,h.useCallback)((function(e,n,t){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,Ee.Y6)();return e.converted_from&&(r=We.current[e.converted_from]),vr({block:Ou({content:r,name:i,priority:n},e)}).then((function(e){(0,Gt.wD)(e,{callback:function(){var r=e.data.block;mn((function(e){return(0,xn.Hk)(r,n,e)})),null===t||void 0===t||t(r),zn(null),Tt(),St()},onErrorCallback:function(e,n){return X({errors:n,response:e})}})}))}),[We.current,vr,mn]),gr=Vt.ZP.widgets.pipelines.list(!B&&Ke),br=(gr.data,gr.mutate,(0,v.Db)(Vt.ZP.widgets.pipelines.useCreate(Ke))),xr=(0,a.Z)(br,1)[0],yr=(0,h.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,Ee.Y6)();return xr({widget:Ou({name:r,priority:n,type:l.CHART},e)}).then((function(e){return(0,Gt.wD)(e,{callback:function(){var n=e.data.widget;null===t||void 0===t||t(n),Tt(),St(),Ne(Ge.CHARTS),ee(n)},onErrorCallback:function(e,n){return X({errors:n,response:e})}})}))}),[Te,Ue.current,xr,Ne]);(0,h.useEffect)((function(){if($){var e,n=null===(e=Ue.current[$.uuid])||void 0===e?void 0:e.current;n&&(n.scrollIntoView(),ee(null))}}),[Ue.current[null===$||void 0===$?void 0:$.uuid],ee]),(0,h.useEffect)((function(){Ye!==Ke&&(mn([]),yn([]),qn([]),Zt([]))}),[Ke,Ye]),(0,h.useEffect)((function(){"undefined"!==typeof(null===At||void 0===At?void 0:At.blocks)&&mn(At.blocks)}),[null===At||void 0===At?void 0:At.blocks]),(0,h.useEffect)((function(){"undefined"!==typeof(null===At||void 0===At?void 0:At.widgets)&&yn(At.widgets)}),[null===At||void 0===At?void 0:At.widgets]),(0,h.useEffect)((function(){(null===Gn||void 0===Gn?void 0:Gn.length)>0&&0===(null===Yn||void 0===Yn?void 0:Yn.length)&&(qn(Gn),$n(Gn[0]))}),[null===Yn||void 0===Yn?void 0:Yn.length,null===Gn||void 0===Gn?void 0:Gn.length]);var jr=(0,Ln.Z)(vn);(0,h.useEffect)((function(){if("undefined"!==typeof(null===At||void 0===At?void 0:At.blocks)&&(!vn.length||(null===jr||void 0===jr?void 0:jr.map((function(e){return e.uuid})).sort())!==(null===vn||void 0===vn?void 0:vn.map((function(e){return e.uuid})).sort()))){var e=So(At.blocks),n=e.content,t=e.messages;We.current=n,Ot((function(e){return Ou(Ou({},t),e)}))}}),[vn,jr,null===At||void 0===At?void 0:At.blocks,mn,Ot]),(0,h.useEffect)((function(){if(!bn.length&&"undefined"!==typeof(null===At||void 0===At?void 0:At.widgets)){var e=So(At.widgets),n=e.content,t=e.messages;Ve.current=n,Ot((function(e){return Ou(Ou({},t),e)}))}}),[null===At||void 0===At?void 0:At.widgets,mn,Ot,bn]);var kr=(0,h.useCallback)((function(e,n,t){var r=vn.find((function(t){var r=t.type,i=t.uuid;return r===n&&i===e}));if(r){if(Fn(r),null!==ze&&void 0!==ze&&ze.current){var i,o=ze.current["".concat(r.type,"s/").concat(r.uuid,".py")];null===o||void 0===o||null===(i=o.current)||void 0===i||i.scrollIntoView()}}else if(n===l.CHART){var c=bn.find((function(n){return n.uuid===e}));if(c&&(Fn(c),null!==Ue&&void 0!==Ue&&Ue.current)){var u,a=Ue.current[c.uuid];null===a||void 0===a||null===(u=a.current)||void 0===u||u.scrollIntoView()}}else qt(t)}),[vn]),Or=(0,f.ZP)((0,ju.Ib)(),{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),Cr=Or.lastMessage,wr=(Or.readyState,Or.sendMessage);(0,h.useEffect)((function(){if(Cr){var e=JSON.parse(Cr.data),n=e.execution_state,t=e.msg_type,r=e.uuid,i=vn.find((function(e){var n=e.uuid;return r===n}));"stream_pipeline"!==t?Ot((function(n){var t=n[r]||[];return Ou(Ou({},n),{},(0,s.Z)({},r,t.concat(e)))})):(Zt((function(n){return[].concat((0,u.Z)(n),[e])})),ai.IDLE===n&&(Rn([]),St(),r||wn(!1))),ai.BUSY===n?Rn((function(e){return e.find((function(e){var n=e.uuid;return r===n}))||!i?e:e.concat(i)})):ai.IDLE===n&&Rn((function(e){return e.filter((function(e){var n=e.uuid;return r!==n}))})),Ce(!0)}}),[Cr]);var Zr=(0,h.useCallback)((function(){Yt().then((function(){wn(!0),Zt([]),wr(JSON.stringify({execute_pipeline:!0,pipeline_uuid:Ke}))}))}),[Ke]),_r=(0,h.useCallback)((function(){wr(JSON.stringify({cancel_pipeline:!0,pipeline_uuid:Ke}))}),[Ke,wr]),Pr=(0,h.useCallback)((function(e){var n=e.block,t=e.code,r=e.ignoreAlreadyRunning,i=e.runDownstream,o=void 0!==i&&i,l=e.runUpstream,c=void 0!==l&&l,u=e.runTests,a=void 0!==u&&u,s=n.uuid;En.find((function(e){var n=e.uuid;return s===n}))&&!r||(wr(JSON.stringify({code:t,pipeline_uuid:null===At||void 0===At?void 0:At.uuid,type:n.type,uuid:s,run_downstream:o,run_upstream:c,run_tests:a})),Ot((function(e){return delete e[s],e})),ve(!1),Rn((function(e){return e.find((function(e){var n=e.uuid;return s===n}))?e:e.concat(n)}))),St()}),[St,At,En,wr,Ot,Rn,ve]),Sr=(0,h.useCallback)((function(e){var n=e.block;return Yt({block:{outputs:[],uuid:n.uuid}}).then((function(){return Pr(e)}))}),[Pr,Yt]),Er=(null===Yn||void 0===Yn?void 0:Yn.length)>0?cn:cn.filter((function(e){return e.key!==Ge.DATA})),Ir=(0,h.useMemo)((function(){return(0,P.jsx)(mu,{activeView:Te,afterWidth:S,autocompleteItems:yt,blockRefs:ze,blocks:vn,cancelPipeline:_r,chartRefs:Ue,deleteWidget:lr,editingBlock:_n,executePipeline:Zr,fetchFileTree:Tt,fetchPipeline:St,fetchVariables:pn,globalVariables:fn,insights:st,isPipelineExecuting:Cn,messages:kt,metadata:dt,onChangeChartBlock:$e,pipeline:At,pipelineMessages:wt,runBlock:Sr,runningBlocks:En,sampleData:ot,savePipelineContent:Yt,selectedBlock:Mn,setAnyInputFocused:be,setEditingBlock:Pn,setSelectedBlock:Fn,setTextareaFocused:ve,statistics:ft,textareaFocused:he,updateWidget:kn,widgets:bn})}),[Te,S,yt,ze,vn,lr,_n,Tt,St,pn,fn,st,kt,dt,$e,At,wt,Sr,En,ot,Yt,Mn,wr,be,Pn,Zt,ve,ft,he,kn,bn]),Rr=(0,h.useMemo)((function(){return(0,P.jsx)(il,{addNewBlockAtIndex:mr,addWidget:function(e,n){var t=n.onCreateCallback;return yr(e,bn.length,t)},anyInputFocused:ge,autocompleteItems:yt,blockRefs:ze,blocks:vn,dataProviders:ln,deleteBlock:ir,fetchFileTree:Tt,fetchPipeline:St,interruptKernel:fr,isPipelineUpdating:Kt,kernel:Nt,mainContainerRef:Qe,mainContainerWidth:nn,messages:kt,onChangeCodeBlock:Xe,openSidekickView:He,pipeline:At,pipelineContentTouched:Oe,pipelineLastSaved:ye,restartKernel:dr,runBlock:Sr,runningBlocks:En,savePipelineContent:Yt,selectedBlock:Mn,setAnyInputFocused:be,setEditingBlock:Pn,setMessages:Ot,setOutputBlocks:qn,setPipelineContentTouched:Ce,setRecsWindowOpenBlockIdx:zn,setRunningBlocks:Rn,setSelectedBlock:Fn,setSelectedOutputBlock:$n,setTextareaFocused:ve,textareaFocused:he,widgets:bn})}),[mr,yr,ge,yt,ze,vn,ln,ir,Tt,St,fr,Kt,Nt,Qe,nn,kt,Xe,At,Oe,ye,dr,Sr,En,Yt,Mn,be,Pn,Ot,Ce,Rn,Fn,ve,he,bn]),Dr=(0,h.useMemo)((function(){return(0,P.jsx)(Fi,{newPipelineSchedule:c,pipeline:At,pipelineScheduleAction:b,pipelineScheduleId:Un,setErrors:X,variables:fn})}),[fn,c,At,b,Un,X]),Mr=(0,h.useMemo)((function(){return(0,P.jsx)(cr,{page:d,pipeline:At,projectName:Rt})}),[d,At,Rt]),Br=(0,h.useMemo)((function(){if("develop"===d)return(0,P.jsx)(di,{filePaths:oe,filesTouched:de,isBusy:En.length>=1,isPipelineUpdating:Kt,kernel:Nt,pipeline:At,pipelineContentTouched:Oe,pipelineLastSaved:ye,restartKernel:dr,savePipelineContent:Yt,selectedFilePath:te,updatePipelineMetadata:Jt})}),[de,Kt,Nt,d,At,Oe,ye,dr,En,Yt,te,oe,Jt]),Nr=(0,h.useMemo)((function(){var e=null===vn||void 0===vn?void 0:vn.filter((function(e){var n=e.type;return l.SCRATCHPAD!==n}));return(0,P.jsxs)(O.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,P.jsx)(Fe.Z,{children:Er.map((function(e){var n=e.key,t=e.label,r=n===Te,i=un[n];return(0,P.jsx)(M.Z,{pl:1,children:(0,P.jsx)(Wt,{beforeElement:(0,P.jsx)(i,{}),blackBorder:!0,compact:!0,onClick:function(){return Ne(n)},selected:r,uuid:n,children:t})},n)}))}),(0,P.jsxs)(M.Z,{px:1,ref:Le,style:{position:"relative"},children:[(0,P.jsx)(Wt,{beforeElement:(0,P.jsx)(F.mm,{}),blackBorder:!0,compact:!0,disabled:0===(null===e||void 0===e?void 0:e.length),onClick:function(){return ae(!0)},primaryGradient:!0,uuid:"Pipeline/afterHeader/add_chart",children:"Add chart"}),(0,P.jsx)(De.Z,{disableEscape:!0,onClickOutside:function(){return ae(!1)},open:ue,children:(0,P.jsx)(Re,{addWidget:function(e,n){var t=n.onCreateCallback;return yr(e,bn.length,t)},block:e[e.length-1],onClickCallback:function(){return ae(!1)},open:ue,parentRef:Le,rightOffset:2*R.iI,runBlock:Sr})})]})]})}),[yr,vn,Er,Le,Sr,ae,ue,bn]),Hr=(0,h.useRef)(null),Lr=(0,h.useMemo)((function(){return"develop"===d?(0,P.jsx)(Dn,{areaRef:Hr,createPipeline:Lt,deleteBlockFile:ar,deletePipeline:er,deleteWidget:lr,enableContextItem:!0,numPipelines:Se,type:In.FILE_BROWSER,children:(0,P.jsx)(Tn,{blocks:vn,files:null===It||void 0===It?void 0:It.files,onlyShowChildren:!0,onSelectBlockFile:kr,openFile:qt,openPipeline:function(e){nt(),x.push("/pipelines/[...slug]","/pipelines/".concat(e))},openSidekickView:He,ref:Hr,widgets:bn})}):"jobs"===d?(0,P.jsx)(xl,{pipelineSchedules:Qn,pipelineUuid:Ke,pipelineScheduleId:Un}):void 0}),[vn,d,Un,Qn,Ke,null===It||void 0===It?void 0:It.files,kr]),zr=(0,h.useMemo)((function(){if("develop"===d)return(0,P.jsx)(nr,{cancelPipeline:_r,createPipeline:Lt,executePipeline:Zr,interruptKernel:fr,isPipelineExecuting:Cn,restartKernel:dr,savePipelineContent:Yt,setMessages:Ot})}),[_r,Lt,Zr,fr,Cn,d,dr,Yt,Ot]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(tr.Z,{title:null===At||void 0===At?void 0:At.name}),(0,P.jsxs)(yu,{after:Ir,afterHeader:Nr,afterHidden:B,afterMousedownActive:W,afterSubheader:(null===Yn||void 0===Yn?void 0:Yn.length)>0&&Te===Ge.DATA&&(0,P.jsx)(O.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:Yn.map((function(e){var n=e.uuid,t=(null===Jn||void 0===Jn?void 0:Jn.uuid)===n;return(0,P.jsx)(M.Z,{pl:1,children:(0,P.jsx)(Wt,{afterElement:t?(0,P.jsx)(Ae.Z,{basic:!0,highlightOnHover:!0,onClick:function(){!function(e,n){var t=To(e).filter((function(e){return e!==n}));(0,an.t8)(Io(e),t)}(Ke,e.uuid),qn((function(e){return e.filter((function(e){return e.uuid!==n}))}))},padding:"2px",transparent:!0,children:(0,P.jsx)(F.x8,{muted:!0,size:1.25*R.iI})}):null,blackBorder:!0,compact:!0,muted:!0,onClick:function(){return $n(e)},selected:t,uuid:n,children:n})},n)}))}),afterWidth:w,before:Lr,beforeHeader:zr,beforeHidden:L,beforeMousedownActive:G,beforeWidth:T,header:Mr,mainContainerHeader:Br,mainContainerRef:Qe,setAfterHidden:N,setAfterMousedownActive:V,setAfterWidth:Z,setBeforeHidden:z,setBeforeMousedownActive:K,setBeforeWidth:A,children:["develop"===d&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{height:te?0:null,visibility:te?"hidden":null,opacity:te?0:null},children:Rr}),null===Be||void 0===Be?void 0:Be.map((function(e){return(0,P.jsx)("div",{style:{display:te===e?null:"none"},children:(0,P.jsx)(Xt,{active:te===e,addNewBlock:function(e){mr(e,vn.length,Fn,e.name),x.push("/pipelines/".concat(Ke))},filePath:e,pipeline:At,setFilesTouched:pe})},e)})),(0,P.jsx)(M.Z,{pb:Me?0:Math.max(Math.floor(j*(2/3)/R.iI),0)})]}),"jobs"===d&&Dr]}),q&&(0,P.jsx)(Bn,Ou(Ou({},q),{},{onClose:function(){return X(null)}})),null!==Hn&&(0,P.jsx)(ml,{addNewBlockAtIndex:mr,blockInsertionIndex:Hn,blocks:vn,loading:!vt&&null!==Mn,selectedBlock:Mn,setRecsWindowOpenBlockIdx:zn,setSelectedBlock:Fn,suggestions:mt,children:null===mt||void 0===mt?void 0:mt.map((function(e,n){return(0,P.jsx)(fl,{suggestion:e},"".concat((0,Ee.RA)(e.title),"_").concat(n))}))})]})}Cu.getInitialProps=function(){var e=(0,c.Z)(p().mark((function e(n){var t,r,i,o,l,c,u;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.slug,r="develop",c=!1,Array.isArray(t)&&(i=t[0],t.length>1&&(r="jobs",c="new_schedule"===t[1]),!c&&t.length>2&&(o=t[2],t.length>3&&(l=t[3]))),u={newPipelineSchedule:c,page:r,pipeline:{uuid:i}},o&&(u.pipelineSchedule={id:o,pipeline_uuid:i},u.pipelineScheduleAction=l),e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var wu=Cu},26039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[...slug]",function(){return t(8131)}])}},function(e){e.O(0,[3662,4259,240,1125,7305,7673,1374,412,9774,2888,179],(function(){return n=26039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);