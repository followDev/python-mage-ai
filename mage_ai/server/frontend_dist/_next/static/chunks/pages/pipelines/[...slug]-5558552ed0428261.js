(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{7432:function(e,n,t){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[88849,8849],"./Birds of Paradise.json":[78097,8097],"./Blackboard.json":[88018,6115],"./Brilliance Black.json":[73835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[22508,2508],"./Clouds Midnight.json":[49566,9566],"./Clouds.json":[57951,7951],"./Cobalt.json":[80826,826],"./Cobalt2.json":[98256,8256],"./Dawn.json":[76958,6958],"./Dominion Day.json":[89307,9307],"./Dracula.json":[33453,3453],"./Dreamweaver.json":[19363,9363],"./Eiffel.json":[82481,2481],"./Espresso Libre.json":[44776,4776],"./GitHub.json":[10739,739],"./IDLE.json":[67947,7947],"./Katzenmilch.json":[81240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[25164,5164],"./MagicWB (Amiga).json":[76443,6443],"./Merbivore Soft.json":[99361,9361],"./Merbivore.json":[86042,6042],"./Monokai Bright.json":[14883,4883],"./Monokai.json":[34454,4454],"./Night Owl.json":[60261,261],"./Nord.json":[59785,9785],"./Oceanic Next.json":[58920,8920],"./Pastels on Dark.json":[38901,8901],"./Slush and Poppies.json":[26434,6434],"./Solarized-dark.json":[36116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[20440,440],"./Sunburst.json":[68018,8018],"./Textmate (Mac Classic).json":[15824,5824],"./Tomorrow-Night-Blue.json":[81150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[82545,2545],"./Tomorrow-Night.json":[99855,9855],"./Tomorrow.json":[34092,4092],"./Twilight.json":[93898,3898],"./Upstream Sunburst.json":[98807,8807],"./Vibrant Ink.json":[89927,9927],"./Xcode_default.json":[64042,4042],"./Zenburnesque.json":[33467,3467],"./iPlastic.json":[88277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[15729,5729],"./themelist.json":[79437,9437]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=7432,e.exports=o},43655:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ho}});var r,o,i,c=t(77837),l=t(12757),u=t(82394),a=t(38860),s=t.n(a),d=t(82684),p=t(83455),f=t(34376);!function(e){e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.TRANSFORMER="transformer"}(i||(i={}));var h,v=[i.DATA_EXPORTER,i.DATA_LOADER,i.SCRATCHPAD,i.TRANSFORMER];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(h||(h={}));var m=(r={},(0,u.Z)(r,i.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,i.DATA_LOADER,"Data loader"),(0,u.Z)(r,i.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,i.TRANSFORMER,"Transformer"),r),b=(o={},(0,u.Z)(o,i.DATA_EXPORTER,"DE"),(0,u.Z)(o,i.DATA_LOADER,"DL"),(0,u.Z)(o,i.SCRATCHPAD,"SP"),(0,u.Z)(o,i.TRANSFORMER,"TF"),o),g=t(26304),x=t(46313),y=t(93461),j=t(67971),k=t(1132),w=t(73942),O=t(28598),P=["children"];function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var S=x.default.div.withConfig({displayName:"Circle__CircleStyle",componentId:"sc-1o70504-0"})([""," "," "," "," "," "," ",""],(function(e){return!e.square&&"\n    border-radius: 50%;\n  "}),(function(e){return e.square&&"\n    border-radius: ".concat(w.BG,"px;\n  ")}),(function(e){return!e.color&&!e.borderSize&&"\n    background-color: ".concat((e.theme.content||k.Z.content).muted,";\n  ")}),(function(e){return e.borderSize&&"\n    border: ".concat(e.borderSize,"px solid ").concat(e.borderColor||(e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color,";\n  ")}),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.borders||k.Z.borders).danger,";\n  ")}));var I,E=function(e){var n=e.children,t=(0,g.Z)(e,P);return(0,O.jsx)(S,Z(Z({},t),{},{children:(0,O.jsx)(j.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:n&&(0,O.jsx)(y.Z,{children:n})})}))};!function(e){e.PY="py",e.TXT="txt"}(I||(I={}));var T="pipelines",D=t(19711),_=t(10512),B=t(49125),A=1.5*B.iI,R=1*A+B.iI/2,N=x.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    ")})),M=t(91427);function F(e,n){var t=(n.theme.borders||k.Z.borders).light,r=n||{},o=r.isSelected,c=r.theme;return o?t=(c.content||k.Z.content).active:i.TRANSFORMER===e?t=(c.accent||k.Z.accent).purple:i.DATA_EXPORTER===e?t=(c.accent||k.Z.accent).yellow:i.DATA_LOADER===e?t=(c.accent||k.Z.accent).blue:i.SCRATCHPAD===e&&(t=(c.content||k.Z.content).muted),{accent:t}}var L=(0,x.css)([""," ",""],(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(F(e.blockType,e).accent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||k.Z.borders).danger,";\n  ")})),z=x.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;overflow:hidden;position:relative;"],w.n_),H=x.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;"," "," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],L,w.n_,w.n_,B.iI,B.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.background||k.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),U=x.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:1;&:hover{.block-divider-inner{","}}"],2*B.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||k.Z.text).fileBrowser,";\n      ")})),W=x.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),K=x.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-4"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],B.cd*B.iI,B.iI,68,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||k.Z.borders).medium,";\n  ")})),G=t(29817);function q(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=n||(null===e||void 0===e?void 0:e.name);return null!==e&&void 0!==e&&e.parent?q(e.parent,"".concat(e.parent.name,"/").concat(t)):t}function X(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}var V=t(24224);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Q=function e(n){var t,r=n.file,o=n.level,i=n.onSelectBlockFile,c=n.openFile,l=n.openPipeline,u=n.theme,a=r.children,s=r.disabled,p=r.name,f=r.parent,h=s||"__init__.py"===p||!!p.match(/^\./),m=(null===f||void 0===f?void 0:f.name)===T,b=(0,d.useMemo)((function(){return m?null:a?(0,V.YC)(a,(function(e){var n=e.children,t=e.name;return p===T?t:n?0:1})):a}),[a,m]),g="".concat(o,"/").concat(p),x=(0,d.useState)((0,M.U2)(g,!1)),y=x[0],j=x[1],k=_.iU;m&&!h?k=_.B_:b&&(k=_.gt),b&&v.includes((0,G.C5)(p))&&(t=F((0,G.C5)(p),{theme:u}).accent);var w=(0,d.useMemo)((function(){return null===b||void 0===b?void 0:b.map((function(n){return(0,O.jsx)(e,{file:J(J({},n),{},{parent:r}),level:o+1,onSelectBlockFile:i,openFile:c,openPipeline:l,theme:u},"".concat(g,"/").concat(n.name))}))}),[b,c,l]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"row",onClick:function(e){if(X(e),!h)if(m)l(p);else if(b)j((function(e){return(0,M.t8)(g,!e),!e}));else if(p.match(/\.txt$/))c(q(r).split("/").slice(1).join("/"));else{var n=function(e){var n=q(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null).split("/"),t=(0,G.C5)(n[1]),r=n[n.length-1],o=new RegExp(".".concat(I.PY,"$"));if(v.includes(t)&&r.match(o))return{type:t,uuid:r.replace(o,"")}}(r);n&&i(n.uuid,n.type)}},style:{alignItems:"center",cursor:"default",display:"flex",minWidth:o*R+r.name.length*B.Fo+2*B.iI,paddingLeft:R*o},children:[b&&!y&&(0,O.jsx)(_._M,{muted:!0,size:A}),b&&y&&(0,O.jsx)(_._Q,{muted:!0,size:A}),!b&&(0,O.jsx)("div",{style:{width:A}}),(0,O.jsxs)("div",{style:{marginLeft:B.iI/2,marginRight:B.iI/2},children:[!t&&(0,O.jsx)(k,{disabled:h,size:A}),t&&(0,O.jsx)(E,{color:t,size:A,square:!0})]}),(0,O.jsx)(D.ZP,{color:t,default:!t&&!h,monospace:!0,disabled:h,small:!0,children:p})]}),(0,O.jsx)("div",{style:{display:y?"none":"block"},children:w})]})},$=["files"];function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var te=function(e){var n=e.files,t=(0,g.Z)(e,$),r=(0,d.useContext)(x.ThemeContext);return(0,O.jsx)(N,{children:null===n||void 0===n?void 0:n.map((function(e){return(0,d.createElement)(Q,ne(ne({},t),{},{file:e,key:e.name,level:0,theme:r}))}))})},re=t(85202),oe=t(38789),ie=t(66166),ce="twilight",le=t(2005),ue=t(31012),ae=x.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-w2hta3-0"})([""]),se=x.default.div.withConfig({displayName:"indexstyle__PlaceholderStyle",componentId:"sc-w2hta3-1"})(["padding-left:67px;position:absolute;z-index:1;"]);var de={"all-hallows-eve":"All Hallows Eve","birds-of-paradise":"Birds of Paradise","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","espresso-libre":"Espresso Libre","kuroir-theme":"Kuroir Theme","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","monokai-bright":"Monokai Bright","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night":"Tomorrow-Night","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",active4d:"Active4D",amy:"Amy",blackboard:"Blackboard",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel",github:"GitHub",idle:"IDLE",idlefingers:"idleFingers",iplastic:"iPlastic",katzenmilch:"Katzenmilch",krtheme:"krTheme",lazy:"LAZY",merbivore:"Merbivore",monoindustrial:"monoindustrial",monokai:"Monokai",spacecadet:"SpaceCadet",sunburst:"Sunburst",tomorrow:"Tomorrow",twilight:"Twilight",zenburnesque:"Zenburnesque"};var pe=function(e){var n=e.autoHeight,r=e.autoSave,o=e.fontSize,i=void 0===o?ue.i3:o,c=e.height,u=e.language,a=e.onChange,s=e.onDidChangeCursorPosition,p=e.onSave,f=e.placeholder,h=e.selected,v=e.setSelected,m=e.setTextareaFocused,b=e.shortcuts,g=(e.showLineNumbers,e.textareaFocused),x=e.theme,y=e.value,j=e.width,k=void 0===j?"100%":j,w=(0,d.useRef)(null),P=(0,d.useRef)(null),C=(0,d.useRef)(null),Z=(0,d.useState)(!1),S=Z[0],I=Z[1],E=(0,d.useState)(c),T=(E[0],E[1],(0,d.useState)(x||ce)),_=T[0],B=T[1],A=(0,d.useCallback)((function(e){e.languages.typescript.javascriptDefaults.setEagerModelSync(!0)}),[]),R=(0,d.useCallback)((function(e,t){w.current=e,P.current=t;var r=[];null===b||void 0===b||b.forEach((function(n){r.push(n(t,e))})),p&&r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"saveCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],label:"Save",precondition:null,run:function(e){n()}}}(t,(function(){p(e.getValue())}))),function(e,n,t){t.forEach((function(e){n.addAction(e)}))}(0,e,r),e.getModel().updateOptions({tabSize:4}),n&&!c&&(e._domElement.style.height="".concat(21*((y||"").split("\n").length+2),"px")),e.onDidFocusEditorWidget((function(){null===v||void 0===v||v(!0),null===m||void 0===m||m(!0)})),e.onDidContentSizeChange((function(t){var r=t.contentHeight,o=t.contentHeightChanged;n&&o&&(e._domElement.style.height="".concat(r+42,"px"))})),h&&g&&setTimeout((function(){e.focus()}),1),s&&e.onDidChangeCursorPosition((function(n){var t=n.position.lineNumber,r=e._domElement.getBoundingClientRect(),o=r.height,i=r.top;s({editorRect:{height:Number(o),top:Number(i)},position:{lineNumber:Number(t)}})})),I(!0)}),[n,c,s,p,C.current,h,I,v,m,b,g,y]);(0,d.useEffect)((function(){(function(e){return new Promise((function(n){Promise.all([oe._m.init(),t(7432)("./".concat(de[e],".json"))]).then((function(t){var r=(0,l.Z)(t,2),o=r[0],i=r[1];i.colors["editor.background"]="#000000",i.colors["editor.foreground"]="#FFFFFF",o.editor.defineTheme(e,i),n()}))}))})(ce).then((function(){B(ce)}))}),[]),(0,d.useEffect)((function(){var e;return r&&p&&(e=setInterval((function(){p(w.current.getValue())}),5e3)),function(){r&&e&&clearInterval(e)}}),[r,w,p]);var N=(0,ie.Z)(h),M=(0,ie.Z)(g);return(0,d.useEffect)((function(){null!==w&&void 0!==w&&w.current&&(h&&g?setTimeout((function(){w.current.focus()}),1):re.findDOMNode(w.current._domElement).getElementsByClassName("inputarea")[0].blur())}),[w,h,N,g,M]),(0,O.jsxs)(ae,{style:{display:S?null:"none"},children:[f&&!(null!==y&&void 0!==y&&y.length)&&(0,O.jsx)(se,{children:(0,O.jsx)(D.ZP,{monospace:!0,muted:!0,children:f})}),(0,O.jsx)(oe.ZP,{beforeMount:A,height:c,language:u||"python",onChange:function(e){null===a||void 0===a||a(e)},onMount:R,options:{fontFamily:le.Vp,fontSize:i,hideCursorInOverviewRuler:!0,minimap:{enabled:!1},overviewRulerBorder:!1,renderLineHighlightOnlyWhenFocus:!0,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},wordBasedSuggestions:!1},theme:_,value:y,width:k}),(0,O.jsx)("div",{ref:C})]})},fe=t(96040),he=t(55056),ve=t.n(he),me=t(59e3),be=t(554);function ge(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ge(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ye="DELETE",je="GET",ke="POST",we="PUT";function Oe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.body,r=(n.ctx,n.method),o=void 0===r?je:r,i=n.query,c=void 0===i?{}:i,a=(n.token,{"Content-Type":"application/json"}),s={method:o};if(t){var d=t.file;if(d){d.name,d.size,d.type;var p=new FormData,f=Object.keys(t).filter((function(e){return"file"!==e}))[0];p.set("json_root_body",JSON.stringify((0,u.Z)({api_key:be.env.NEXT_PUBLIC_API_KEY},f,t[f]))),p.append("file",d),s.body=p,delete a["Content-Type"]}else s.body=JSON.stringify(xe(xe({},t),{},{api_key:be.env.NEXT_PUBLIC_API_KEY}))}s.headers=new Headers(a);var h=xe(xe({},(0,me.iV)(e)),c);be.env.NEXT_PUBLIC_API_KEY&&(h.api_key=be.env.NEXT_PUBLIC_API_KEY);var v=Object.entries(h).reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0],o=t[1];return e.concat("".concat(r,"=").concat(o))}),[]).join("&");return{data:s,headers:a,method:o,queryString:v,url:e.split("?")[0]}}function Pe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Oe(e,n),r=t.data,o=t.queryString,i=t.url,c=o?"".concat(i,"?").concat(o):i;return fetch(c,r)}function Ce(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Oe(e,n),r=t.data,o=t.headers,i=t.method,c=t.queryString,l=t.url,u=c?"".concat(l,"?").concat(c):l;return ve().request({data:r.body,headers:o,method:i,onUploadProgress:null===n||void 0===n?void 0:n.onUploadProgress,url:u})}function Ze(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Pe(e,n).then((function(e){return e.json()}))}function Se(){var e,n="localhost",t="/CLOUD_NOTEBOOK_BASE_PATH_PLACEHOLDER_",r=n,o="http://",i="";(r=window.location.hostname)===n?r="".concat(r,":").concat(6789):(o="https://",null!==(e=window.location.protocol)&&void 0!==e&&e.match(/https/)||(o="http://"),window.location.port&&(r="".concat(r,":").concat(window.location.port)));return t.includes("CLOUD_NOTEBOOK_BASE_PATH_PLACEHOLDER")||(i=t),"".concat(o).concat(r).concat(i,"/api")}function Ie(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c="".concat(Se(),"/").concat(e);return n&&(c="".concat(c,"/").concat(n)),t&&(c="".concat(c,"/").concat(t)),r&&(c="".concat(c,"/").concat(r)),i&&(c="".concat(c,"/").concat(i)),Object.values(o).length>=1&&(c="".concat(c,"?").concat((0,me.uM)(o))),c}function Ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function De(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ce(Ie(e),Te(Te({},t),{},{body:n,method:ke}))}function _e(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=Ie(n,t,e);return Ce(i,Te(Te({},o),{},{body:r,method:ke}))}function Be(e,n,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=Ie(n,t,e,r);return Ce(c,Te(Te({},i),{},{body:o,method:we}))}function Ae(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Pe(Ie(n,t),{ctx:e,query:r,method:je})}function Re(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Pe(Ie(n),{ctx:e,query:t,method:je})}function Ne(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return Pe(Ie(t,r,n),{ctx:e,query:o,method:je})}function Me(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Ie(e,n,null,null,r);return Pe(o,{body:t,method:we})}function Fe(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,fe.ZP)(n?Ie(e,n):null,(function(e){return Ze(e,{method:je,query:t})}),r),i=o.data,c=o.error,l=o.mutate;return{data:i,error:c,mutate:l}}function Le(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0,l=(0,fe.ZP)(n&&(r?Ie(t,r,e,n,o,c):null),(function(e){return Ze(e,{method:je,query:o})}),i),u=l.data,a=l.error,s=l.mutate;return{data:u,error:a,mutate:s}}function ze(e,n){return Pe(Ie(e,n),{method:ye})}function He(e,n,t,r){return Pe(Ie(n,t,e,r),{method:ye})}function Ue(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,fe.ZP)(Ie(e,null,null,null,n),(function(e){return Ze(e)}),t),o=r.data,i=r.error,c=r.mutate;return{data:o,error:i,loading:!o&&!i,mutate:c}}function We(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=(0,fe.ZP)(t?Ie(n,t,e,null,r):null,(function(e){return Ze(e)}),o),c=i.data,l=i.error,u=i.mutate;return{data:c,error:l,loading:!c&&!l,mutate:u}}function Ke(e,n,t,r){return Pe(Ie(n,t),{ctx:e,body:r,method:we})}var Ge=t(96510);function qe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Xe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?qe(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ve="blocks",Ye="feature_sets",Je="kernels",Qe="pipelines",$e={};[["execute",Qe],[Ve,Qe],[Ve,Qe,"analyses"],[Ve,Qe,"outputs"],["columns",Ye],["downloads",Ye],[Ye],["files"],["file_contents"],[Je],["interrupt",Je],["restart",Je],[Qe],["status"],["variables",Qe],["versions",Ye]].forEach((function(e){var n=(0,l.Z)(e,4),t=n[0],r=n[1],o=n[2],i=n[3];$e[t]||($e[t]={deleteAsync:function(){var e=(0,c.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t,n);case 2:return r=e.sent,e.next=5,(0,Ge.pr)(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),detail:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Fe(t,e,n,Xe(Xe({},i),r))},detailAsync:function(){var e=(0,c.Z)(s().mark((function e(n,r){var o,i,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,Ae(n,t,r,o);case 3:return i=e.sent,e.next=6,(0,Ge.pr)(i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),updateAsync:function(){var e=(0,c.Z)(s().mark((function e(n,r,o){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(n,t,r,o);case 2:return i=e.sent,e.next=5,(0,Ge.pr)(i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),useUpdate:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=(0,c.Z)(s().mark((function r(o){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Me(t,e,o,n));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}),o?($e[t][r][o]={},$e[t][r][o].detail=function(e,n,c,l){return Le(t,n,r,e,c,Xe(Xe({},i),l),o)}):r?($e[t][r]={},$e[t][r].useCreate=function(e,n){return function(){var o=(0,c.Z)(s().mark((function o(i){return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",_e(t,r,e,i,n));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},$e[t][r].useCreateWithParentIdLater=function(e){return function(){var n=(0,c.Z)(s().mark((function n(o){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",_e(t,r,o.parentId,o.body,e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},$e[t][r].useUpdate=function(e,n,o){return function(){var i=(0,c.Z)(s().mark((function i(c){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Be(t,r,e,n,c,o));case 1:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},$e[t][r].useDelete=function(e,n){return(0,c.Z)(s().mark((function o(){var i;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,He(t,r,e,n);case 2:return i=o.sent,o.next=5,(0,Ge.pr)(i);case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),o)})))},$e[t][r].listAsync=function(){var e=(0,c.Z)(s().mark((function e(n,o){var i,c,l=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:{},e.next=3,Ne(n,t,r,o,i);case 3:return c=e.sent,e.next=6,(0,Ge.pr)(c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$e[t][r].list=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return We(t,r,e,n,Xe(Xe({},i),o))},$e[t][r].detail=function(e,n,o,c){return Le(t,n,r,e,o,Xe(Xe({},i),c))}):($e[t].create=function(){var e=(0,c.Z)(s().mark((function e(n,r){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(t,n,r);case 2:return o=e.sent,e.next=5,(0,Ge.pr)(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$e[t].useCreate=function(e){return function(){var n=(0,c.Z)(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",De(t,r,e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},$e[t].listAsync=function(){var e=(0,c.Z)(s().mark((function e(n){var r,o,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,Re(n,t,r);case 3:return o=e.sent,e.next=6,(0,Ge.pr)(o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),$e[t].list=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Ue(t,e,Xe(Xe({},i),n))})}));var en=$e;function nn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function tn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var rn=function(e){var n=e.file,t=(0,p.Db)(en.file_contents.useUpdate(n.path),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(){return!0},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),r=(0,l.Z)(t,1)[0],o=(0,d.useMemo)((function(){return(0,O.jsx)(pe,{autoHeight:!0,language:"text",onSave:function(e){r({file_content:tn(tn({},n),{},{content:e})})},selected:!0,textareaFocused:!0,value:n.content,width:"100%"})}),[n,r]);return(0,O.jsx)(O.Fragment,{children:o})},on=t(47999),cn=(0,x.css)(["min-width:18px;padding-left:2px;padding-right:2px;"," "," "," "," "," ",""],(function(e){return!e.disabled&&"\n    background-color: ".concat((e.theme.content||k.Z.content).inverted,";\n  ")}),(function(e){return e.disabled&&"\n    // background-color: ".concat((e.theme.monotone||k.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.mutedDisabled&&"\n    opacity: 0.3;\n  "}),(function(e){return!e.borderless&&"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).tiny,";\n    padding-bottom: 3px;\n    padding-top: 3px;\n  ")}),(function(e){return e.borderless&&"\n    border-radius: ".concat(w.BG,"px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n  ")}),(function(e){return e.spacingLeft&&"\n    margin-left: ".concat(e.spacingLeft,"px;\n  ")})),ln=x.default.kbd.withConfig({displayName:"KeyboardText__KbdStyle",componentId:"sc-18540m4-0"})(["",""],cn),un=x.default.div.withConfig({displayName:"KeyboardText__DivStyle",componentId:"sc-18540m4-1"})(["",""],cn);var an=function(e){var n=e.borderless,t=e.disabled,r=e.inline,o=e.keyText,i=e.monospace,c=e.mutedDisabled,l=e.spacingLeft,u=r?un:ln,a=(0,d.useContext)(x.ThemeContext),s={};if(!n){var p,f;if(t)s.borderColor=null===(p=(null===a||void 0===a?void 0:a.monotone)||k.Z.monotone)||void 0===p?void 0:p.grey400;else s.borderColor=null===(f=(null===a||void 0===a?void 0:a.content)||k.Z.content)||void 0===f?void 0:f.active;s.borderRadius=w.BG,s.borderStyle="solid",s.borderWidth=1,s.overflow="hidden"}return(0,O.jsx)(D.ZP,{center:!0,inline:!0,monospace:i,muted:t||c,style:s,xsmall:!0,children:(0,O.jsx)(u,{borderless:n,disabled:t,mutedDisabled:c,spacingLeft:l,children:o})})},sn=x.default.div.withConfig({displayName:"KeyboardTextGroup__SpacingStyle",componentId:"sc-1bx41p7-0"})([""," "," ",""],(function(e){return e.small&&"\n    margin-left: ".concat(.25*B.iI,"px;\n  ")}),(function(e){return!e.small&&"\n    margin-left: ".concat(.25*B.iI,"px;\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(.25*B.iI,"px;\n  ")}));var dn=function(e){var n=e.borderless,t=e.disabled,r=e.keyTextGroups,o=e.inline,i=e.monospace,c=e.mutedDisabled,l=e.small,u=e.uuidForKey,a=[],s=[];return r.forEach((function(e,r){var o=[];e.forEach((function(e,r){s.push(e),r>=1&&o.push((0,O.jsx)(sn,{small:l},"spacing-".concat(e))),o.push((0,O.jsx)(an,{borderless:n,disabled:t,inline:!0,keyText:e,monospace:i,mutedDisabled:c},"key-".concat(s.join("-"),"-").concat(u)))})),r>=1&&a.push((0,O.jsx)(sn,{marginRight:!0,children:(0,O.jsx)(D.ZP,{monospace:i,muted:!0,small:!l,xsmall:l,children:"then"})},"then-".concat(r))),a.push.apply(a,o)})),(0,O.jsx)(j.Z,{alignItems:"center",inline:o,children:a})},pn=x.default.div.withConfig({displayName:"indexstyle__FlyoutMenuContainerStyle",componentId:"sc-1o7k6f4-0"})(["position:absolute;min-width:","px;",""],34*B.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n  ")})),fn=x.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1o7k6f4-1"})(["align-items:center;display:flex;justify-content:space-between;padding:","px;&:hover{cursor:default;}"," ",""],B.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")})),hn=t(16115),vn=t(41150);var mn=function(e){var n,t,r=e.items,o=e.onClickCallback,i=e.open,c=e.parentRef,l=e.uuid,u=(0,d.useState)([]),a=u[0],s=u[1],p=((null===c||void 0===c||null===(n=c.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height,f=(0,vn.y)(),h=f.registerOnKeyDown,v=f.unregisterOnKeyDown;return(0,d.useEffect)((function(){return function(){v(l)}}),[v,l]),h(l,(function(e,n,t){if(i){var c=a[0];if(n[hn.kD])"undefined"===typeof c||c===r.length-1?s([0]):s([c+1]);else if(n[hn.Bu])s("undefined"===typeof c||0===c?[r.length-1]:[c-1]);else if(n[hn.Uq]&&"undefined"!==typeof c){var l,u;null===(l=r[c])||void 0===l||null===(u=l.onClick)||void 0===u||u.call(l),null===o||void 0===o||o()}else r.forEach((function(e){var r=e.keyboardShortcutValidation;null===r||void 0===r||r({keyHistory:t,keyMapping:n})}))}}),[a,r,o,i,s]),(0,d.useEffect)((function(){i||s([])}),[i]),(0,O.jsx)(pn,{style:{display:i?null:"none",left:0,top:p},children:r.map((function(e,n){var t=e.keyTextGroups,r=e.label,i=e.onClick,c=e.uuid;return(0,O.jsxs)(fn,{highlighted:a[0]===n,onClick:function(e){e.preventDefault(),null===i||void 0===i||i(),null===o||void 0===o||o()},children:[(0,O.jsx)(D.ZP,{children:r()}),t&&(0,O.jsx)(dn,{keyTextGroups:t})]},c)}))})},bn=x.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-y3uzxv-0"})(["padding:","px;&:hover{cursor:pointer;","}",""],B.iI,(function(e){return"\n      background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")}));function gn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function xn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var yn=function(e){var n=e.interruptKernel,t=e.restartKernel,r=e.savePipelineContent,o=e.setMessages,i=(0,f.useRouter)(),c=(0,d.useState)(null),a=c[0],s=c[1],h=(0,d.useRef)(null),v=(0,d.useRef)(null),m=(0,p.Db)(en.pipelines.useCreate(),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(e){var n=e.pipeline.uuid;i.push("/pipelines/[...slug]","/pipelines/".concat(n))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),b=(0,l.Z)(m,1)[0],g=[{label:function(){return"New pipeline"},onClick:function(){return b({pipeline:{name:(0,G.Y6)()}})},uuid:"new pipeline"},{label:function(){return"Save pipeline"},keyTextGroups:[[hn.RJ,hn.SS]],onClick:function(){return r()},uuid:"save pipeline"}],x=[{label:function(){return"Interrupt kernel"},keyTextGroups:[[hn.kA],[hn.kA]],onClick:function(){return n()},uuid:"Interrupt kernel"},{label:function(){return"Restart kernel"},keyTextGroups:[[hn.t_[hn.OC]],[hn.t_[hn.OC]]],onClick:function(){return t()},uuid:"Restart kernel"},{label:function(){return"Clear all outputs"},onClick:function(){return o((function(e){return Object.keys(e).reduce((function(e,n){return xn(xn({},e),{},(0,u.Z)({},n,[]))}),{})}))},uuid:"Clear all outputs"}],y="FileHeaderMenu/index",k=(0,vn.y)(),w=k.registerOnKeyDown,P=k.unregisterOnKeyDown;return(0,d.useEffect)((function(){return function(){P(y)}}),[P,y]),w(y,(function(e,n,t){null!==a&&(n[hn.QK]?s((function(e){return 0===e?1:e-1})):n[hn.DY]&&s((function(e){return 1===e?0:e+1})))}),[a,s]),(0,O.jsx)(on.Z,{onClickOutside:function(){return s(null)},open:!0,style:{position:"relative"},children:(0,O.jsxs)(j.Z,{children:[(0,O.jsxs)("div",{style:{position:"relative"},children:[(0,O.jsx)(bn,{highlighted:0===a,onClick:function(){return s((function(e){return 0===e?null:0}))},onMouseEnter:function(){return s((function(e){return null!==e?0:null}))},ref:h,children:(0,O.jsx)(D.ZP,{children:"File"})}),(0,O.jsx)(mn,{items:g,onClickCallback:function(){return s(null)},open:0===a,parentRef:h,uuid:"FileHeaderMenu/file_items"})]}),(0,O.jsxs)("div",{style:{position:"relative"},children:[(0,O.jsx)(bn,{highlighted:1===a,onClick:function(){return s((function(e){return 1===e?null:1}))},onMouseEnter:function(){return s((function(e){return null!==e?1:null}))},ref:v,children:(0,O.jsx)(D.ZP,{children:"Run"})}),(0,O.jsx)(mn,{items:x,onClickCallback:function(){return s(null)},open:1===a,parentRef:v,uuid:"FileHeaderMenu/run_items"})]})]})})},jn=t(57384),kn=t(12691),wn=t.n(kn),On=t(39421),Pn=t(56663),Cn=t.n(Pn),Zn=t(66757),Sn=t.n(Zn),In=t(55361);var En="current_group_id",Tn="current_group",Dn="current_user";function _n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var n=Cn()(e),t=n.current_group_id;return{id:t}}var r=Sn().get(Tn),o=On.Z.get(En,In.Hu);if(r&&o)return r}function Bn(){return Sn().get(Dn)}function An(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Rn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?An(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):An(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Nn(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rn(Rn({},t),{},{groupId:null===(e=_n())||void 0===e?void 0:e.id,id:null===(n=Bn())||void 0===n?void 0:n.id})}var Mn=t(86954);function Fn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ln(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function zn(){return[[Mn.go,"initialAsPath"],[Mn.iT,"initialPathname"],[Mn.FT,"notificationTemplate"],[Mn.Ll,"notificationUUID"],[Mn.$m,"referringURL"]].reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0],o=t[1];return Ln(Ln({},e),{},(0,u.Z)({},o,On.Z.get(r,Mn.vZ)))}),{})}var Hn=t(36283);function Un(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Un(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Un(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Kn="click",Gn="button";function qn(e){var n,t,r=e.actionName,o=e.actionType,i=e.componentName,c=e.componentType,l=e.properties,u=e.screenName,a=(n=r||o,t=i||c,"".concat(u,".").concat(n,"_").concat(t)),s=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=zn(),o=(null!==t&&void 0!==t&&t.width,window.innerWidth);return Wn(Wn(Wn({},t),r),{},{groupId:null===(e=_n())||void 0===e?void 0:e.id,partner_id:"Mage",screenSize:(0,Hn.Z3)(o),userId:null===(n=Bn())||void 0===n?void 0:n.id})}(Wn({actionType:o,componentType:c},l));return{eventProperties:s,eventType:a,userProperties:Nn()}}function Xn(e,n){null===e||void 0===e||e(n)}var Vn=function(e){var n=e.children;return e.eventProperties,e.userProperties,n((function(e){return!1}))};function Yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Qn,$n,et=function(e){var n,t=e.buildChildren,r=e.disabled,o=e.eventActionName,i=void 0===o?Kn:o,c=e.eventComponentName,l=void 0===c?Gn:c,u=e.eventProperties,a=void 0===u?{}:u,s=e.eventScreenName,p=void 0===s?"generic":s,h=e.keyboardShortcutValidation,v=e.linkProps,m=e.onClick,b=e.openNewTab,g=e.requireKeyUp,x=e.uuid,y=(0,f.useRouter)(),j=(0,vn.y)(),k=j.registerOnKeyDown,w=j.registerOnKeyUp,P=j.unregisterOnKeyDown,C=j.unregisterOnKeyUp;(0,d.useEffect)((function(){return function(){var e=g?C:P;null===e||void 0===e||e(x)}}),[g,P,C,x]),r||!m&&!v||(n=function(e){null===m||void 0===m||m(e),v&&(b?(window.open(v.as||v.href),e.preventDefault()):y.push(v.href,v.as))});var Z=qn({actionName:i,actionType:Kn,componentName:l,componentType:Gn,properties:a,screenName:p}),S=Z.eventType,I=Z.eventProperties,E=Z.userProperties;return(0,O.jsx)(Vn,{eventProperties:I,userProperties:E,children:function(e){var r=e.logEvent;h&&n&&(g?w:k)(x,(function(e,t,o){h({keyHistory:o,keyMapping:t})&&(Xn(r,S,{eventProperties:Jn(Jn({},I),{},{usedKeyboardShortcut:!0}),userProperties:E}),n(e))}),[I,S,r,n,E]);return t({eventProperties:I,eventType:S,logEvent:r,onClick:n,userProperties:E})}})},nt={chatBubbleProps:null,graphicButtonProps:null,logoProps:null,mageImageUrl:null,mascotImageUrls:{base:null,castingSpell:null,chargingUp:null,thinking:null},sharedProps:null},tt=d.createContext(nt),rt=tt,ot=t(86673),it=t(54283),ct=t(10919),lt=t(90880),ut=["Icon","afterElement","beforeElement","bold","borderless","centerText","children","compact","disabled","fitContentWidth","inverted","keyTextGroups","keyTextsPosition","linkProps","loading","mutedDisabled","onClick","type","useModelTheme"];function at(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function st(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?at(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):at(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(Qn||(Qn={})),function(e){e.BUTTON="button",e.SUBMIT="submit"}($n||($n={}));var dt=(0,x.css)([""," align-items:center;border:none;display:flex;flex-direction:row;position:relative;text-align:left;z-index:0;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(0,lt.eR)(),(function(e){return!e.large1&&!e.large2&&"\n    ".concat(ue.iD,"\n  ")}),(function(e){return e.small&&"\n    ".concat(ue.HC,"\n  ")}),(function(e){return e.large1&&"\n    ".concat(ue.ln,"\n  ")}),(function(e){return e.large2&&"\n    ".concat(ue.QU,"\n  ")}),(function(e){return!e.inline&&"\n    width: 100%;\n  "}),(function(e){return e.shortWidth&&"\n    min-width: ".concat(28*B.iI,"px;\n  ")}),(function(e){return!e.wrapText&&"\n    white-space: nowrap;\n  "}),(function(e){return!e.secondary&&"\n    font-family: ".concat(le.ry,";\n    justify-content: space-between;\n  ")}),(function(e){return e.center&&"\n    justify-content: center;\n  "}),(function(e){return!e.noPadding&&!e.spacious&&!e.compact&&"\n    padding: ".concat(1.25*B.iI,"px ").concat(1.5*B.iI,"px;\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(.5*B.iI,"px ").concat(.75*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(.625*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(.625*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(.75*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(.75*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&!e.marketing&&"\n    padding: ".concat(2.25*B.iI,"px ").concat(3*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.marketing&&"\n    padding: ".concat(2.25*B.iI-2,"px ").concat(3*B.iI-2,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(1.125*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(1.125*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(1.5*B.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(1.5*B.iI,"px;\n  ")}),(function(e){return e.secondary&&"\n    flex-basis: content;\n    font-family: ".concat(le.nF,";\n    padding: 0;\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.bold&&"\n    font-family: ".concat(le.nF,";\n  ")}),(function(e){return!e.muted&&!e.inverted&&"\n    color: ".concat((e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return!e.muted&&e.inverted&&"\n    color: ".concat((e.theme.content||k.Z.content).inverted,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).grey300,";\n  ")}),(function(e){return e.warning&&"\n    color: ".concat((e.theme.brand||k.Z.brand).energy400,";\n  ")}),(function(e){return e.noHover&&"\n    &:hover {\n      cursor: default;\n    }\n  "}),(function(e){return e.blackBorder&&"\n    border: ".concat(w.YF,"px ").concat(w.M8," ").concat((e.theme.monotone||k.Z.monotone).black,";\n  ")}),(function(e){return!e.pill&&!e.borderless&&!e.compact&&"\n    border-radius: ".concat(w.n_,"px;\n  ")}),(function(e){return e.compact&&"\n    border-radius: ".concat(w.BG,"px;\n  ")}),(function(e){return!e.borderRadiusLeft&&!e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-radius: ".concat(5*B.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&!e.spacious&&"\n    border-bottom-left-radius: ".concat(5*B.iI,"px;\n    border-top-left-radius: ").concat(5*B.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-bottom-right-radius: ".concat(5*B.iI,"px;\n    border-top-right-radius: ").concat(5*B.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&e.spacious&&"\n    border-bottom-left-radius: ".concat(8*B.iI,"px;\n    border-top-left-radius: ").concat(8*B.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&e.spacious&&"\n    border-bottom-right-radius: ".concat(8*B.iI,"px;\n    border-top-right-radius: ").concat(8*B.iI,"px;\n  ")}),(function(e){return!e.noBackground&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.inverted&&!e.noBackground&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).black,";\n  ")}),(function(e){return!e.inverted&&!e.noBackground&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).defaultBackground,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.noBackground&&"\n    background-color: transparent !important;\n  "}),(function(e){return e.disabled&&e.inverted&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.disabled&&!e.inverted&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).grey300," !important;\n  ")}),(function(e){return e.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).black,";\n    color: ").concat((e.theme.monotone||k.Z.monotone).white,";\n  ")}),(function(e){return e.selected&&e.grey300&&"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).grey300,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.fire&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).fire400,";\n  ")}),(function(e){return e.useModelTheme&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.earth&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).earth400,";\n  ")}),(function(e){return e.primaryEnergy&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).energy400,";\n    border: none;\n    font-family: ").concat(le.nF,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.wind&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).wind400,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.water&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).water400,";\n  ")}),(function(e){return e.withIcon&&"\n    padding: ".concat(1.25*B.iI-1,"px !important;\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).large,";\n  ")})),pt=x.default.button.withConfig({displayName:"KeyboardShortcutButton__ButtonStyle",componentId:"sc-10tm4pj-0"})(["",""],dt),ft=x.default.a.withConfig({displayName:"KeyboardShortcutButton__AnchorStyle",componentId:"sc-10tm4pj-1"})([""," ",""],dt,ct.R),ht=x.default.span.withConfig({displayName:"KeyboardShortcutButton__SpanStyle",componentId:"sc-10tm4pj-2"})(["margin-right:","px;"],1*B.iI);var vt=function(e){var n=e.Icon,t=e.afterElement,r=e.beforeElement,o=e.bold,i=e.borderless,c=e.centerText,l=e.children,a=e.compact,s=e.disabled,p=e.fitContentWidth,f=e.inverted,h=e.keyTextGroups,v=e.keyTextsPosition,m=void 0===v?Qn.RIGHT:v,b=e.linkProps,x=e.loading,j=e.mutedDisabled,k=e.onClick,w=e.type,P=void 0===w?$n.BUTTON:w,C=e.useModelTheme,Z=(0,g.Z)(e,ut),S=b||{},I=S.as,E=S.href,T=I||E?ft:pt,D=(0,d.useMemo)((function(){if(!h)return null;var e=(0,u.Z)({},m===Qn.RIGHT?"ml":"mr",l?1:0);return(0,O.jsx)(ot.Z,st(st({},e),{},{children:(0,O.jsx)(dn,{borderless:f,disabled:s,keyTextGroups:h,mutedDisabled:j})}))}),[l,s,f,h,m,j]),_=((0,d.useContext)(rt)||{}).sharedProps;return(0,O.jsx)(et,st(st({},Z),{},{buildChildren:function(e){var u=e.eventProperties,d=e.eventType,h=e.logEvent,v=e.onClick,g=e.userProperties,k=(0,O.jsxs)(T,st(st(st({},Z),C?_:{}),{},{center:c,compact:a,bold:C||o,borderless:C||i,disabled:s||j,fitContentWidth:p,inverted:f,noHover:!v&&!(I||E)&&P===$n.BUTTON,onClick:function(e){Xn(h,d,{eventProperties:u,userProperties:g}),null===v||void 0===v||v(e)},type:I||E?null:P,useModelTheme:C,withIcon:!!n,children:[r&&!x&&(0,O.jsxs)(O.Fragment,{children:[r,(0,O.jsx)(ot.Z,{mr:1})]}),m===Qn.LEFT&&D,(0,O.jsxs)(y.Z,{alignItems:"center",children:[n&&(0,O.jsx)(n,{inverted:!f,muted:s||j,size:2.5*B.iI}),n&&l&&(0,O.jsx)(ot.Z,{mr:1}),x&&(0,O.jsx)(ht,{children:(0,O.jsx)(it.Z,{inverted:!f})}),!x&&l]}),m===Qn.RIGHT&&D&&(0,O.jsx)(ot.Z,{ml:1,children:D}),t&&!x&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ot.Z,{ml:t?1:0}),t]})]}));return!I&&!E||s||j?k:(0,O.jsx)(wn(),st(st({},b),{},{passHref:!0,children:k}))},disabled:s||j,linkProps:b,onClick:k}))},mt=t(60328),bt=(0,x.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),gt=x.default.div.withConfig({displayName:"TooltipWrapper__ContainerStyle",componentId:"sc-1dd57l8-0"})(["",""],bt),xt=x.default.span.withConfig({displayName:"TooltipWrapper__ContainerSpanStyle",componentId:"sc-1dd57l8-1"})(["",""],bt),yt=x.default.a.withConfig({displayName:"TooltipWrapper__HoverStyle",componentId:"sc-1dd57l8-2"})([""," "," border-radius:50%;"," "," &:active,&:focus{outline:none;}",""],(0,lt.eR)(),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return!e.block&&"\n    display: inline-block;\n  "}),(function(e){return e.block&&"\n    display: block;\n  "}),(function(e){return!e.noHoverOutline&&"\n    &:hover {\n      cursor: pointer;\n\n      box-shadow:\n        0 0 0 ".concat(w.PV,"px ").concat((0,mt.W)(e),",\n        0 0 0 ").concat(w.PV+w.q2,"px ").concat((e.theme.interactive||k.Z.interactive).hoverOverlay,";\n    }\n  ")})),jt=x.default.span.withConfig({displayName:"TooltipWrapper__BasicStyle",componentId:"sc-1dd57l8-3"})([""]),kt=x.default.div.withConfig({displayName:"TooltipWrapper__ContentStyle",componentId:"sc-1dd57l8-4"})(["position:absolute;z-index:3;"," "," "," "," "," "," "," "," ",""],(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).base,";\n  ")}),(function(e){return e.appearAbove&&!e.size&&"\n    bottom: 0;\n  "}),(function(e){return e.appearAbove&&e.size&&"\n    bottom: ".concat(e.size+w.PV+w.q2,"px;\n  ")}),(function(e){return e.appearBefore&&"\n    right: 0;\n  "}),(function(e){return e.leftPosition&&"\n    left: ".concat(e.leftPosition,"px;\n  ")}),(function(e){return!e.leftPosition&&e.rightPosition&&"\n    right: 0px;\n  "}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n  ")}),(function(e){return e.widthFitContent&&"\n    width: max-content;\n  "}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}));var wt=function(e){var n=e.alignLeft,t=e.appearAbove,r=e.appearBefore,o=e.autoWidth,i=e.basic,c=e.block,l=e.center,u=e.children,a=e.content,s=e.inline,p=e.minWidth,f=e.noHoverOutline,h=e.size,v=void 0===h?2*B.iI:h,m=e.topOffset,b=e.widthFitContent,g=(0,d.useState)(!1),x=g[0],y=g[1],j=(0,d.useState)(!1),k=j[0],w=j[1],P=(p-v)/-2,C=s?xt:gt,Z=i?jt:yt,S=(0,O.jsx)(Z,{block:c,href:"#",noHoverOutline:f,onClick:function(e){return e.preventDefault()},onMouseEnter:function(){return y(!0)},size:v,children:u});return(0,d.useEffect)((function(){var e=setInterval((function(){return w(!0)}),1e3);return x||clearInterval(e),function(){return clearInterval(e)}}),[w,x]),(0,O.jsxs)(C,{onMouseLeave:function(){y(!1),w(!1)},size:v,children:[S,k&&(0,O.jsx)(kt,{appearAbove:t,appearBefore:r,leftPosition:l?P:null,minWidth:o?p:null,rightPosition:n,size:v,topOffset:m,widthFitContent:b,children:a})]})},Ot=["autoWidth","children","default","description","inverted","keyboardShortcuts","label","maxWidth","muted","size","warning","widthFitContent"];function Pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ct(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pt(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zt=42*B.iI,St=((0,x.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),(0,x.css)(["border-radius:","px;"," "," ",""],w.BG,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).popup,";\n\n    background-color: ").concat((e.theme.background||k.Z.background).popup,";\n  ")}),(function(e){return e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(Zt,"px;\n  ")}))),It=x.default.div.withConfig({displayName:"Tooltip__LabelStyle",componentId:"sc-allmdq-0"})([""," padding:","px ","px;"],St,.75*B.iI,1*B.iI),Et=x.default.div.withConfig({displayName:"Tooltip__DescriptionStyle",componentId:"sc-allmdq-1"})([""," padding:","px ","px;"],St,1.5*B.iI,2*B.iI);var Tt=function(e){var n=e.autoWidth,t=e.children,r=e.default,o=e.description,i=e.inverted,c=e.keyboardShortcuts,l=e.label,u=e.maxWidth,a=e.muted,s=e.size,p=void 0===s?2*B.iI:s,f=e.warning,h=e.widthFitContent,v=(0,g.Z)(e,Ot),m=o||l||"",b=o?Et:It,x=Math.min(u||Zt,m.length*B.Fo),y=[];null===c||void 0===c||c.forEach((function(e,n){n>=1&&y.push((0,O.jsx)(D.ZP,{default:!0,children:"+"})),y.push(e)}));var k=y.map((function(e,n){var t="keyboard-shortcut-".concat(n);return"string"===typeof e?(0,O.jsx)("span",{children:e},t):d.cloneElement(e,{key:t})}));return(0,O.jsx)(wt,Ct(Ct({},v),{},{autoWidth:n,content:(0,O.jsx)(b,{autoWidth:n,width:u,widthFitContent:h,children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsx)(D.ZP,{whiteSpaceNormal:!0,children:m}),k.length>=1&&(0,O.jsx)(D.ZP,{muted:!0,children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),k.length>=1&&k]})}),minWidth:x,noHoverOutline:!!t,size:p,widthFitContent:h,children:t||(0,O.jsx)(_.kI,{default:r,inverted:i,muted:a,size:p,warning:f})}))},Dt=t(37391),_t=64*B.iI,Bt=3*B.cd*B.iI,At=Bt,Rt=35*B.iI,Nt=.5*B.iI,Mt=13*B.iI,Ft=3*B.cd*B.iI,Lt=(x.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1lxpneo-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Rt,"px;\n    width: calc(100% - ").concat(Rt,"px);\n  ")})),x.default.div.withConfig({displayName:"indexstyle__TabStyle",componentId:"sc-1lxpneo-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],w.n_,w.n_,1*B.iI,2*B.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||k.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*B.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")})),(0,x.css)(["height:calc(100% - ","px);position:fixed;top:","px;z-index:2;",""],Ft,Ft,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).sidePanel,";\n  ")}))),zt=(0,x.css)([""," height:100%;overflow:auto;position:relative;z-index:2;"],Dt.w5),Ht=(0,x.css)(["height:calc(100% + ","px);position:absolute;top:-","px;width:","px;z-index:6;&:hover{","}"," ",""],Ft,Ft,Nt,(function(e){return!e.disabled&&"\n      border-color: ".concat((e.theme.text||k.Z.text).fileBrowser," !important;\n    ")}),(function(e){return!e.disabled&&"\n    cursor: col-resize;\n  "}),(function(e){return e.active&&!e.disabled&&"\n    border-color: ".concat((e.theme.text||k.Z.text).fileBrowser," !important;\n  ")})),Ut=x.default.div.withConfig({displayName:"indexstyle__AsideHeaderStyle",componentId:"sc-1lxpneo-2"})(["border-bottom:1px solid transparent;height:","px;position:fixed;top:0;z-index:4;"," "," ",""],Ft,(0,Dt.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).sidePanel,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||k.Z.borders).medium," !important;\n  ")})),Wt=x.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-1lxpneo-3"})([""," left:0;"],Lt),Kt=x.default.div.withConfig({displayName:"indexstyle__BeforeInnerStyle",componentId:"sc-1lxpneo-4"})(["",""],zt),Gt=x.default.aside.withConfig({displayName:"indexstyle__AfterStyle",componentId:"sc-1lxpneo-5"})([""," right:0;"],Lt),qt=x.default.div.withConfig({displayName:"indexstyle__AfterInnerStyle",componentId:"sc-1lxpneo-6"})(["",""],zt),Xt=x.default.div.withConfig({displayName:"indexstyle__DraggableStyle",componentId:"sc-1lxpneo-7"})([""," "," ",""],Ht,(function(e){return"undefined"!==typeof e.left&&"\n    border-left: 1px solid transparent;\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    border-right: 1px solid transparent;\n    right: ".concat(e.right,"px;\n  ")})),Vt=x.default.div.withConfig({displayName:"indexstyle__MainWrapper",componentId:"sc-1lxpneo-8"})(["height:100%;position:fixed;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeArea,";\n  ")})),Yt=x.default.div.withConfig({displayName:"indexstyle__MainContentStyle",componentId:"sc-1lxpneo-9"})(["position:fixed;z-index:2;",""],(function(e){return"\n    height: calc(100% - ".concat(e.headerOffset||0,"px);\n    top: ").concat(e.headerOffset||0,"px;\n  ")})),Jt=x.default.div.withConfig({displayName:"indexstyle__MainContentInnerStyle",componentId:"sc-1lxpneo-10"})([""," height:100%;overflow:auto;"],Dt.w5),Qt=300,$t=x.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],Qt,Qt),er=x.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeArea,";\n  ")})),nr=x.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;padding-left:","px;padding-right:","px;position:sticky;top:0;width:100%;z-index:5;",""],Ft,B.cd*B.iI,B.cd*B.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeArea,";\n    border-bottom: 1px solid ").concat((e.theme.borders||k.Z.borders).medium,";\n  ")})),tr=x.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["height:100%;padding:","px ","px;"," ",""],B.iI,B.cd*B.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||k.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")})),rr=t(33766);var or,ir,cr,lr=function(e){var n,t=e.filePaths,r=e.isBusy,o=e.isPipelineUpdating,i=e.kernel,c=e.pipeline,l=e.pipelineContentTouched,u=e.pipelineLastSaved,a=e.restartKernel,s=e.selectedFile,p=(0,d.useState)(!1),f=p[0],h=p[1],v=(0,d.useContext)(x.ThemeContext),m=i||{},b=m.alive,g=m.name,w=(0,d.useMemo)((function(){return t.map((function(e){return decodeURIComponent(e)}))}),[t]);return n=l?"Unsaved changes":o?"Saving changes...":u?"Last saved ".concat((0,G.JX)(Number(u)/1e3)):"All changes saved",(0,O.jsx)(nr,{children:(0,O.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,O.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,justifyContent:"flex-start",children:[(0,O.jsx)(Tt,{label:(0,O.jsxs)(D.ZP,{children:["Current working directory is ",(0,O.jsx)(D.ZP,{inline:!0,monospace:!0,children:"/home/src"})]}),size:null,widthFitContent:!0,children:(0,O.jsxs)(y.Z,{alignItems:"center",children:[(0,O.jsxs)(D.ZP,{children:["Pipeline: ",null===c||void 0===c?void 0:c.uuid]}),(0,O.jsx)(ot.Z,{mr:B.cd}),(0,O.jsx)(D.ZP,{muted:!0,children:n})]})}),(null===w||void 0===w?void 0:w.length)>=0&&(0,O.jsx)(ot.Z,{mr:5}),null===w||void 0===w?void 0:w.map((function(e){var n=null===s||void 0===s?void 0:s.path.includes(e);return(0,O.jsx)(j.Z,{flexDirection:"column",fullHeight:!0,justifyContent:"flex-end",onClick:function(t){t.preventDefault(),n||(0,rr.u)({file_path:encodeURIComponent(e)})},children:(0,O.jsx)(tr,{selected:n,children:(0,O.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,children:[(0,O.jsx)(_.iU,{muted:!n,size:1.5*B.iI}),(0,O.jsx)(ot.Z,{mr:1}),(0,O.jsx)(D.ZP,{muted:!n,children:e}),(0,O.jsx)(ot.Z,{mr:2}),n&&(0,O.jsx)(Tt,{label:"Close",size:null,widthFitContent:!0,children:(0,O.jsx)(ct.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var n=(0,V.Od)(w,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,rr.u)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})},preventDefault:!0,children:(0,O.jsx)(_.x8,{size:1.25*B.iI})})}),!n&&(0,O.jsx)("div",{style:{width:1.25*B.iI}})]})})},e)}))]}),!(null!==w&&void 0!==w&&w.length)&&(0,O.jsxs)(y.Z,{alignItems:"center",onMouseEnter:function(){return h(!0)},onMouseLeave:function(){return h(!1)},children:[(!b||f)&&(0,O.jsxs)(vt,{compact:!0,inline:!0,keyTextGroups:[[hn.t_[hn.OC]],[hn.t_[hn.OC]]],onClick:function(){return a()},uuid:"KernelStatus/restartKernel",children:[b?"Restart":"Start"," kernel"]}),(0,O.jsx)(ot.Z,{mr:1,my:2}),(0,O.jsx)(Tt,{block:!0,label:b?"Kernel is alive and well.":"Kernel has not started or died, please restart.",size:null,widthFitContent:!0,children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsx)(E,{color:r?(v||k.Z).borders.info:b?(v||k.Z).borders.success:(v||k.Z).borders.danger,size:B.iI}),(0,O.jsx)(ot.Z,{mr:1}),(0,O.jsx)(D.ZP,{children:b?"".concat(g," kernel is ").concat(r?"busy":"alive"):"Kernel is dead"})]})})]})]})})};!function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(or||(or={})),function(e){e.IMAGE_PNG="image/png",e.TABLE="table",e.TEXT="text",e.TEXT_PLAIN="text/plain"}(ir||(ir={})),function(e){e.STATUS="status",e.STREAM="stream"}(cr||(cr={}));var ur=t(56085),ar=t(16910),sr=B.cd*B.iI,dr=x.default.div.withConfig({displayName:"indexstyle__IconContainerStyle",componentId:"sc-oyfjzc-0"})(["align-items:center;border-radius:","px;border:1px solid transparent;display:flex;justify-content:center;"," "," "," "," "," ",""],w.BG,(function(e){return e.border&&"\n    border: 1px dotted ".concat((e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return e.blue&&"\n    background-color: ".concat(F(i.DATA_LOADER,e).accent,";\n  ")}),(function(e){return e.purple&&"\n    background-color: ".concat(F(i.TRANSFORMER,e).accent,";\n  ")}),(function(e){return e.yellow&&"\n    background-color: ".concat(F(i.DATA_EXPORTER,e).accent,";\n  ")}),(function(e){return!e.compact&&"\n    height: ".concat(sr+B.iI/2,"px;\n    width: ").concat(sr+B.iI/2,"px;\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(sr/2+B.iI,"px;\n    width: ").concat(sr/2+B.iI,"px;\n  ")}));function pr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function fr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var hr=function(e){var n=e.addNewBlock,t=e.compact,r={compact:t,inline:!0};return(0,O.jsxs)(j.Z,{inline:!0,children:[(0,O.jsx)(vt,fr(fr({},r),{},{beforeElement:(0,O.jsx)(dr,{compact:t,purple:!0,children:(0,O.jsx)(_.mm,{size:t?sr/2:sr})}),onClick:function(e){e.preventDefault(),n({type:i.TRANSFORMER})},uuid:"AddNewBlocks/Transformer",children:"Transformer"})),(0,O.jsx)(ot.Z,{ml:1}),(0,O.jsx)(vt,fr(fr({},r),{},{beforeElement:(0,O.jsx)(dr,{blue:!0,compact:t,children:(0,O.jsx)(_.mm,{size:t?sr/2:sr})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_LOADER})},uuid:"AddNewBlocks/Data_loader",children:"Data loader"})),(0,O.jsx)(ot.Z,{ml:1}),(0,O.jsx)(vt,fr(fr({},r),{},{beforeElement:(0,O.jsx)(dr,{compact:t,yellow:!0,children:(0,O.jsx)(_.mm,{inverted:!0,size:t?sr/2:sr})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_EXPORTER})},uuid:"AddNewBlocks/Data_exporter",children:"Data exporter"})),(0,O.jsx)(ot.Z,{ml:1}),(0,O.jsx)(vt,fr(fr({},r),{},{beforeElement:(0,O.jsx)(dr,{border:!0,compact:t,children:(0,O.jsx)(_.mm,{size:t?sr/2:sr})}),onClick:function(e){e.preventDefault(),n({type:i.SCRATCHPAD})},uuid:"AddNewBlocks/Scratchpad",children:"Scratchpad"}))]})},vr=t(89565),mr=t.n(vr),br=t(62976),gr=x.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-n38rkq-0"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;overflow:hidden;"," "," ",""],L,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).table,";\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.background||k.Z.background).table,";\n  ")}),(function(e){return!e.executedAndIdle&&"\n    border-bottom-left-radius: ".concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),xr=x.default.div.withConfig({displayName:"indexstyle__OutputRowStyle",componentId:"sc-n38rkq-1"})(["padding-left:","px;padding-right:","px;"," ",""],68,B.iI*B.cd,(function(e){return e.first&&"\n    padding-top: ".concat(B.iI*B.cd,"px;\n  ")}),(function(e){return e.last&&"\n    padding-bottom: ".concat(B.iI*B.cd,"px;\n  ")})),yr=x.default.div.withConfig({displayName:"indexstyle__ExtraInfoStyle",componentId:"sc-n38rkq-2"})([""," border-bottom-style:solid;border-bottom-width:2px;border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;"," ",""],L,(function(e){return"\n    background-color: ".concat((e.theme.borders||k.Z.borders).light,";\n    border-bottom-left-radius: ").concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.borders||k.Z.borders).light,";\n  ")})),jr=x.default.div.withConfig({displayName:"indexstyle__ExtraInfoContentStyle",componentId:"sc-n38rkq-3"})(["padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;"],B.iI,68,B.iI*B.cd,B.iI),kr=x.default.div.withConfig({displayName:"indexstyle__ExtraInfoBorderStyle",componentId:"sc-n38rkq-4"})(["height:1px;width:100%;",""],(function(e){return"\n    border-top: 1px solid ".concat((e.theme.borders||k.Z.borders).medium,";\n  ")}));function wr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Or(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Pr=function(e){var n=e.block,t=e.hasError,r=e.isInProgress,o=e.mainContainerWidth,i=e.messages,c=e.runCount,l=e.runEndTime,u=e.runStartTime,a=e.selected,s=n.status,p=n.type,f=(0,d.useMemo)((function(){return(null===i||void 0===i?void 0:i.length)||0}),[i]),v=(i[0].type,h.EXECUTED===s||!r&&0===c&&f>=1||!r&&c>=1&&l>=u);ir.TABLE;var m=(0,d.useCallback)((function(e){var n=e.columns,t=e.rows;return t.length>=1&&(0,O.jsx)(br.Z,{columns:n,disableScrolling:!a,height:40*B.iI,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:t,width:o-(2+B.cd*B.iI*2+2+Dt.nn)})}),[a,o]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(gr,{blockType:p,executedAndIdle:v,hasError:t,selected:a,children:null===i||void 0===i?void 0:i.map((function(e,n){var t=e.data,r=e.type;if(t&&0!==(null===t||void 0===t?void 0:t.length)){var o=[],i=(o=(o=Array.isArray(t)?t:[t]).filter((function(e){return e}))).length;return o.map((function(e,t){var o,c=/^\[__internal_output__\]/,l={first:0===n&&0===t,last:n===f-1&&t===i-1};if("string"===typeof e&&e.match(c)){var u=e.replace(c,"");if((0,G.Pb)(u)){var a=JSON.parse(u),s=a.data,d=a.type;ir.TABLE===d&&(o=m(s))}}else r===ir.TABLE?o=m((0,G.Pb)(e)?JSON.parse(e):e):r===ir.TEXT||r===ir.TEXT_PLAIN?o=(0,O.jsx)(xr,Or(Or({},l),{},{children:(0,O.jsx)(D.ZP,{monospace:!0,preWrap:!0,children:(0,O.jsx)(mr(),{children:e})})})):r===ir.IMAGE_PNG&&(o=(0,O.jsx)("div",{style:{backgroundColor:"white"},children:(0,O.jsx)("img",{alt:"Image {idx} from code output",src:"data:image/png;base64, ".concat(e)})}));return(0,O.jsx)("div",{children:o},"code-output-".concat(n,"-").concat(t))}))}}))}),v&&(0,O.jsxs)(yr,{blockType:p,hasError:t,selected:a,children:[(0,O.jsx)(kr,{}),(0,O.jsx)(jr,{children:(0,O.jsx)(j.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:(0,O.jsx)(Tt,{appearAbove:!0,appearBefore:!0,block:!0,label:c>=1&&u?"Last run at ".concat(u):t?"Block executed with errors":"Block executed successfully",size:null,widthFitContent:!0,children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[c>=1&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(D.ZP,{small:!0,children:[(Number(l)-Number(u))/1e3,"s"]}),(0,O.jsx)(ot.Z,{mr:1})]}),!t&&(0,O.jsx)(_.Jr,{size:2*B.iI,success:!0}),t&&(0,O.jsx)(E,{danger:!0,size:2*B.iI,children:(0,O.jsx)(D.ZP,{bold:!0,monospace:!0,small:!0,children:"!"})})]})})})})]})]})},Cr=x.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-knskck-0"})(["border-radius:","px;margin-top:","px;padding:","px;position:absolute;right:-","px;z-index:1;",""],w.BG,1.5*B.iI,B.iI,B.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).defaultBackground,";\n  ")}));var Zr=function(e){var n=e.block,t=e.deleteBlock,r=e.executionState,o=e.interruptKernel,i=e.runBlock,c=n.uuid.uuid,l=(0,d.useContext)(x.ThemeContext),u=or.IDLE!==r,a=F(n.type,{theme:l}).accent;return(0,O.jsx)(Cr,{children:(0,O.jsxs)(j.Z,{alignItems:"center",flexDirection:"column",children:[or.QUEUED===r&&(0,O.jsx)(it.Z,{color:(l||k.Z).content.active,type:"cylon"}),or.BUSY===r&&(0,O.jsx)(it.Z,{color:(l||k.Z).content.active}),!u&&(0,O.jsx)(Tt,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,O.jsxs)(D.ZP,{children:["Run block \xa0 \xa0",(0,O.jsx)(dn,{inline:!0,monospace:!0,keyTextGroups:[[hn.RJ,hn.Lz]],uuidForKey:c})]}),size:3*B.iI,widthFitContent:!0,children:(0,O.jsx)(mt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return i()},children:(0,O.jsx)(E,{color:a,size:3*B.iI,children:(0,O.jsx)(_.Py,{black:!0,size:1.5*B.iI})})})}),(0,O.jsx)(ot.Z,{mt:B.cd,children:(0,O.jsx)(Tt,{appearBefore:!0,default:!0,label:(0,O.jsxs)(D.ZP,{children:["Delete block and file \xa0 \xa0",(0,O.jsx)(dn,{inline:!0,monospace:!0,keyTextGroups:[[hn.jW],[hn.jW]],uuidForKey:c})]}),size:2.5*B.iI,widthFitContent:!0,children:(0,O.jsx)(mt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return t(n)},children:(0,O.jsx)(_.rF,{size:2.5*B.iI})})})}),u&&(0,O.jsx)(ot.Z,{mt:B.cd,children:(0,O.jsx)(Tt,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,O.jsxs)(D.ZP,{children:["Interrupt kernel \xa0 \xa0",(0,O.jsx)(dn,{inline:!0,monospace:!0,keyTextGroups:[[hn.kA],[hn.kA]],uuidForKey:c})]}),size:2.5*B.iI,widthFitContent:!0,children:(0,O.jsx)(mt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return o()},children:(0,O.jsx)(E,{borderSize:1.5,size:2.5*B.iI,children:(0,O.jsx)(_.x8,{size:1*B.iI})})})})})]})})},Sr=t(82944),Ir=["bold","defaultColor","description","disableWordBreak","inputValue","inputWidth","invertedTheme","label","menuOpen","monospace","muted","onClick","notRequired","selectedTextProps","small","stacked","tooltipProps","value"];function Er(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Tr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Er(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Er(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dr=x.default.div.withConfig({displayName:"LabelWithValueClicker__LabelStyle",componentId:"sc-1hzpn4h-0"})(["margin-bottom:","px;"],.25*B.iI),_r=x.default.div.withConfig({displayName:"LabelWithValueClicker__DescriptionStyle",componentId:"sc-1hzpn4h-1"})([""]);var Br=function(e){var n=e.bold,t=void 0===n||n,r=e.defaultColor,o=e.description,i=e.disableWordBreak,c=e.inputValue,l=e.inputWidth,u=e.invertedTheme,a=e.label,s=e.menuOpen,p=void 0!==s&&s,f=e.monospace,h=e.muted,v=e.onClick,m=e.notRequired,b=e.selectedTextProps,x=e.small,k=e.stacked,w=e.tooltipProps,P=e.value,C=(0,g.Z)(e,Ir),Z=(0,d.useRef)(null),S=(0,d.useState)(!1),I=S[0],E=S[1],T=(0,d.useState)(!1),_=T[0],B=T[1],A=a&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(D.ZP,{bold:t,inverted:u,lineHeight:20,monospace:f,muted:h,small:x,children:a}),w&&(0,O.jsx)(ot.Z,{ml:1,children:(0,O.jsx)(Tt,Tr({muted:!0},w))})]}),R=(0,O.jsxs)(O.Fragment,{children:[P&&(0,O.jsx)(ct.Z,{block:!0,danger:null===b||void 0===b?void 0:b.danger,fullWidth:!0,muted:h,onClick:function(){v(),Z.current&&Z.current.focus(),E(!0)},preventDefault:!0,sameColorAsText:h||!(null!==b&&void 0!==b&&b.primary)&&!(null!==b&&void 0!==b&&b.danger)&&!(null!==b&&void 0!==b&&b.warning),underline:null===b||void 0===b?void 0:b.underline,warning:null===b||void 0===b?void 0:b.warning,children:(0,O.jsx)(D.ZP,Tr(Tr({inverted:u,muted:h},b),{},{disableWordBreak:i,monospace:f,small:x,width:l,children:P}))}),(0,O.jsx)(Sr.Z,Tr(Tr({},C),{},{basic:!0,defaultColor:r,invertedTheme:u,monospace:f,onBlur:function(e){E(!1),C.onBlur&&C.onBlur(e),_||B(!0)},onFocus:function(e){E(!0),C.onFocus&&C.onFocus(e)},ref:Z,small:x,value:c,visible:!P}))]}),N=o&&(0,O.jsx)(_r,{children:(0,O.jsx)(D.ZP,{dangerouslySetInnerHTML:{__html:o},monospace:f,muted:!0,small:x})});return(0,O.jsxs)(O.Fragment,{children:[k&&(0,O.jsxs)(O.Fragment,{children:[A&&(0,O.jsxs)(Dr,{children:[(0,O.jsx)(j.Z,{alignItems:"center",fullHeight:!1,fullWidth:!0,children:A}),N]}),R]}),!k&&(0,O.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,children:[A&&(0,O.jsxs)(O.Fragment,{children:[A,(0,O.jsx)(ot.Z,{ml:1})]}),(0,O.jsx)(y.Z,{flex:"1",children:R})]}),_&&!I&&!P&&!p&&!m&&(0,O.jsx)(D.ZP,{danger:!0,small:x,children:"This field is required."})]})};function Ar(e,n){var t=e.map((function(e){return String(e)})),r=e.includes(hn.PQ),o=e.includes(hn.zX),i=e.includes(hn.XR),c=hn.xU.map((function(e){return String(e)})),u=hn.vk.map((function(e){return String(e)})),a=hn.Tr.map((function(e){return String(e)})),s=Object.entries(n).find((function(e){var n=(0,l.Z)(e,2),s=n[0];return n[1]&&!t.includes(String(s))&&(!o||!u.includes(String(s)))&&(!r||!c.includes(String(s)))&&(!i||!a.includes(String(s)))}));return e.every((function(e){return n[e]}))&&!s}function Rr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Mr(e,n){var t,r=e.addNewBlock,o=e.block,c=e.blockRefs,u=e.blocks,a=e.defaultValue,s=void 0===a?"":a,f=e.deleteBlock,h=e.executionState,v=e.fetchFileTree,g=e.fetchPipeline,k=e.height,w=e.interruptKernel,P=e.mainContainerRef,C=e.mainContainerWidth,Z=e.messages,S=void 0===Z?[]:Z,I=e.noDivider,T=e.onChange,A=e.pipeline,R=e.runBlock,N=e.runningBlocks,M=e.selected,L=e.setAnyInputFocused,q=e.setEditingBlock,Y=e.setSelected,J=e.setTextareaFocused,Q=e.textareaFocused;console.log("CodeBlock",null===o||void 0===o?void 0:o.uuid);var $=(0,d.useContext)(x.ThemeContext),ee=(0,d.useState)(!1),ne=ee[0],te=ee[1],re=(0,d.useState)(s),oe=re[0],ce=re[1],le=(0,d.useState)(null),ue=le[0],ae=le[1],se=(0,d.useState)(!1),de=se[0],fe=se[1],he=(0,d.useState)(o.uuid),ve=he[0],me=he[1],be=(0,d.useState)(0),ge=be[0],xe=be[1],ye=(0,d.useState)(null),je=ye[0],ke=ye[1],we=(0,d.useState)(null),Oe=we[0],Pe=we[1],Ce=(0,d.useMemo)((function(){return(0,V.HK)(u,(function(e){return e.uuid}))}),[u]),Ze=(0,d.useCallback)((function(e){R({block:o,code:e||oe}),xe(1+Number(ge)),ke(null)}),[o,oe,ge,R,xe,ke]),Se=(0,ie.Z)(S);(0,d.useEffect)((function(){(null===Se||void 0===Se||!Se.length)&&(null===S||void 0===S?void 0:S.length)>=1&&Pe(Number(new Date))}),[S,Se,Pe]);var Ie=!!N.find((function(e){return e.uuid===o.uuid}))||(null===S||void 0===S?void 0:S.length)>=1&&h!==or.IDLE,Ee=(0,ie.Z)(h);(0,d.useEffect)((function(){h===or.IDLE&&h!==Ee&&ke(Number(new Date))}),[h,Ee,ke]);var Te=(0,d.useCallback)((function(e){var n=e.editorRect,t=(n.height,n.top),r=e.position.lineNumber;if(null!==P&&void 0!==P&&P.current){var o=P.current.getBoundingClientRect().height,i=21*r;if(t+i>o){var c=P.current.scrollTop+(i-o+t);P.current.scrollTo(0,c)}else if(i+t<21){var l=P.current.scrollTop+(i+t-21);P.current.scrollTo(0,l)}}}),[P]),De=(0,d.useMemo)((function(){return(null===ue||void 0===ue?void 0:ue.length)>=0?ue.map((function(e){return{data:e,execution_state:or.IDLE,type:ir.TEXT_PLAIN}})):S.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[ue,S]),_e=!!De.find((function(e){return e.error})),Be=F(o.type,{theme:$}).accent,Ae=(null===o||void 0===o||null===(t=o.upstream_blocks)||void 0===t?void 0:t.length)||0,Re=(0,d.useMemo)((function(){return{blockType:o.type,hasError:_e,selected:M}}),[o.type,_e,M]),Ne=De.length>=1,Me=(0,d.useCallback)((function(){M||(L(!1),Y(!0))}),[L,Y]),Fe=(0,p.Db)(en.blocks.pipelines.useUpdate(null===A||void 0===A?void 0:A.uuid,o.uuid),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(){fe(!1),g(),v()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){var n=(0,Ge.qQ)(e).messages;ae(n)}}),Le=(0,l.Z)(Fe,1)[0],ze="CodeBlock/".concat(o.uuid),He=(0,vn.y)(),Ue=He.registerOnKeyDown,We=He.unregisterOnKeyDown;(0,d.useEffect)((function(){return function(){We(ze)}}),[We,ze]),Ue(ze,(function(e,n,t){de&&String(t[0])===String(hn.Uq)&&String(t[1])!==String(hn.zX)?Le({block:Nr(Nr({},o),{},{name:ve})}):M&&(Ar([hn.zX,hn.Uq],n)?Ze():Ar([hn.XR,hn.Uq],n)&&(e.preventDefault(),Ze(),r({type:o.type})))}),[r,o,de,ve,Ze,M,Le]);var Ke=(0,d.useMemo)((function(){return(0,O.jsx)(pe,{autoHeight:!0,height:k,onChange:function(e){ce(e),null===T||void 0===T||T(e)},onDidChangeCursorPosition:Te,placeholder:"Start typing here...",selected:M,setSelected:Y,setTextareaFocused:J,shortcuts:[function(e,n){return function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"executeCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.Enter],label:"Run selected block",precondition:null,run:function(){return n()}}}(e,(function(){Ze(n.getValue())}))}],textareaFocused:Q,value:oe,width:"100%"})}),[oe,k,M,Q]),qe=(0,d.useMemo)((function(){return Ne&&(0,O.jsx)(Pr,Nr(Nr({},Re),{},{block:o,isInProgress:Ie,mainContainerWidth:C,messages:De,runCount:ge,runEndTime:je,runStartTime:Oe,selected:M}))}),[o,Re,Ne,Ie,C,De,ge,je,Oe,M]);return(0,O.jsxs)("div",{ref:n,style:{position:"relative"},children:[(0,O.jsxs)(j.Z,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:B.iI/2},children:[(0,O.jsxs)(y.Z,{alignItems:"center",flex:1,children:[(0,O.jsx)(Tt,{block:!0,label:m[o.type],size:null,widthFitContent:!0,children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsx)(E,{color:Be,size:1.5*B.iI,square:!0}),(0,O.jsx)(ot.Z,{mr:1}),(0,O.jsx)(D.ZP,{color:Be,monospace:!0,children:b[o.type]})]})}),(0,O.jsx)(ot.Z,{mr:B.cd}),(0,O.jsx)(_.iU,{size:1.5*B.iI}),(0,O.jsx)(ot.Z,{mr:1}),(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsx)(Br,{bold:!1,inputValue:ve,muted:!0,monospace:!0,notRequired:!0,onBlur:function(){return setTimeout((function(){return fe(!1)}),300)},onChange:function(e){me(e.target.value),X(e)},onClick:function(){return fe(!0)},onFocus:function(){return fe(!0)},stacked:!0,value:!de&&o.uuid}),de&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ot.Z,{ml:1}),(0,O.jsx)(ct.Z,{onClick:function(){return Le({block:Nr(Nr({},o),{},{name:ve})})},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),i.SCRATCHPAD!==o.type&&(0,O.jsx)("div",{children:(0,O.jsx)(Tt,{appearBefore:!0,block:!0,label:"\n                ".concat((0,G._6)("parent block",Ae),". ").concat(0===Ae?"Click to select 1 or more blocks to depend on.":"Edit parent blocks.","\n              "),size:null,widthFitContent:!0,children:(0,O.jsx)(mt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e;Y(!0),q({upstreamBlocks:{block:o,values:null===(e=o.upstream_blocks)||void 0===e?void 0:e.map((function(e){return{uuid:e}}))}})},children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsxs)(D.ZP,{monospace:Ae>=1,underline:0===Ae,children:[0===Ae&&"Click to set parent blocks",Ae>=1&&(0,G._6)("parent block",Ae)]}),(0,O.jsx)(ot.Z,{mr:1}),(0,O.jsx)(_.Kq,{size:2*B.iI})]})})})})]}),(M||Ie)&&(0,O.jsx)(Zr,{block:o,deleteBlock:f,executionState:h,interruptKernel:w,runBlock:Ze}),(0,O.jsxs)(z,{onClick:function(){return Me()},children:[(0,O.jsxs)(H,Nr(Nr({},Re),{},{className:M&&Q?"selected":null,hasOutput:Ne,children:[o.upstream_blocks.length>=1&&(0,O.jsxs)(K,{children:[(0,O.jsx)(D.ZP,{small:!0,children:"Positional arguments for decorated function:"}),(0,O.jsxs)(ot.Z,{mt:1,children:[(0,O.jsxs)(D.ZP,{monospace:!0,muted:!0,small:!0,children:[i.DATA_EXPORTER===o.type&&"@data_exporter",i.DATA_LOADER===o.type&&"@data_loader",i.TRANSFORMER===o.type&&"@transformer"]}),(0,O.jsxs)(D.ZP,{monospace:!0,muted:!0,small:!0,children:["def ",(i.DATA_EXPORTER===o.type?"export_data":i.DATA_LOADER===o.type&&"load_data")||i.TRANSFORMER===o.type&&"transform_df","(",o.upstream_blocks.map((function(e,n){return"df_".concat(n+1)})).join(", "),"):"]}),o.upstream_blocks.map((function(e,n){var t=Ce[e],r=F(null===t||void 0===t?void 0:t.type,{theme:$}).accent;return(0,O.jsxs)("div",{children:[(0,O.jsxs)(D.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:["\xa0\xa0\xa0\xa0df_",n+1]})," ",(0,O.jsx)(D.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"\u2192"})," ",(0,O.jsx)(ct.Z,{color:r,onClick:function(){var e,n,r=null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e["".concat(null===t||void 0===t?void 0:t.type,"s/").concat(null===t||void 0===t?void 0:t.uuid,".py")];null===r||void 0===r||null===(n=r.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,O.jsx)(D.ZP,{color:r,inline:!0,monospace:!0,small:!0,children:e})})]},e)}))]})]}),Ke]})),qe]}),!I&&(0,O.jsxs)(U,{onMouseEnter:function(){return te(!0)},onMouseLeave:function(){return te(!1)},children:[ne&&(0,O.jsx)(hr,{addNewBlock:r,compact:!0}),(0,O.jsx)(W,{className:"block-divider-inner"})]})]})}var Fr=d.forwardRef(Mr);function Lr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function zr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Hr=function(e){var n=e.addNewBlockAtIndex,t=e.blockRefs,r=e.blocks,o=void 0===r?[]:r,c=e.deleteBlock,l=e.fetchFileTree,a=e.fetchPipeline,s=e.interruptKernel,p=(e.isPipelineUpdating,e.kernel,e.mainContainerRef),f=e.mainContainerWidth,h=e.messages,v=e.pipeline,m=e.pipelineContentTouched,b=(e.pipelineLastSaved,e.restartKernel),g=e.runningBlocks,x=void 0===g?[]:g,y=e.savePipelineContent,j=e.selectedBlock,k=e.setContentByBlockUUID,w=e.setEditingBlock,P=e.setMessages,C=e.setPipelineContentTouched,Z=e.setRunningBlocks,S=e.setSelectedBlock,I=(0,d.useState)(!1),E=I[0],T=I[1],D=(0,d.useState)(!1),_=D[0],A=D[1],R=(0,d.useState)(!1),N=R[0],M=R[1],F=(0,d.useState)(!0),L=F[0],z=F[1],H=(0,ur.ZP)("ws://localhost:6789/websocket/",{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),U=H.lastMessage,W=(H.readyState,H.sendMessage);(0,d.useEffect)((function(){if(U){var e=JSON.parse(U.data),n=e.execution_state,t=e.uuid;P((function(n){var r=n[t]||[];return zr(zr({},n),{},(0,u.Z)({},t,r.concat(e)))})),or.IDLE===n&&Z((function(e){return e.filter((function(e){var n=e.uuid;return t!==n}))})),C(!0)}}),[U,P,C,Z]);var K=(0,d.useCallback)((function(e){var n=e.block,t=e.code;if(t){var r=n.uuid;x.find((function(e){var n=e.uuid;return r===n}))||(W(JSON.stringify({code:t,pipeline_uuid:v.uuid,uuid:r})),P((function(e){return delete e[r],e})),A(!1),Z((function(e){return e.find((function(e){var n=e.uuid;return r===n}))?e:e.concat(n)})))}}),[v,x,W,P,Z,A]),G=(0,d.useMemo)((function(){return x.reduce((function(e,n,t){return zr(zr({},e),{},(0,u.Z)({},n.uuid,zr(zr({},n),{},{priority:t})))}),{})}),[x]),q=(0,ie.Z)(j),X=(0,d.useMemo)((function(){return o.length}),[o]),V="PipelineDetail/index",Y=(0,vn.y)(),J=Y.registerOnKeyDown,Q=Y.unregisterOnKeyDown;(0,d.useEffect)((function(){return function(){Q(V)}}),[Q,V]),J(V,(function(e,t,r){if(m&&Ar([hn.zX,hn.hS],t)){e.preventDefault();"undefined"!==typeof location&&window.confirm("You have changes that are unsaved. Click cancel and save your changes before reloading page.")&&location.reload()}else if(Ar([hn.zX,hn.Um],t))e.preventDefault(),y();else if(_)t[hn.vP]?A(!1):m||hn.Z1.find((function(e){return t[e]}))||C(!0);else{if(j){var l=o.findIndex((function(e){var n=e.uuid;return j.uuid===n}));t[hn.vP]?S(null):r[0]===hn.xD&&r[1]===hn.xD?s():r[0]===hn.l1&&r[1]===hn.l1&&-1!==l?(c(j),setTimeout((function(){l===o.length-1?S(o[l-1]):o.length>=0?S(o[l+1]):S(null)}),100)):t[hn.Bu]&&l>=1?S(o[l-1]):t[hn.kD]&&l<=X-2?S(o[l+1]):Ar([hn.Uq],t)?A(!0):!E&&Ar([hn.zH],t)?n({type:i.SCRATCHPAD},l,S):!E&&Ar([hn.Fv],t)&&n({type:i.SCRATCHPAD},l+1,S)}else q&&t[hn.Uq]&&S(q);r[0]===hn.OC&&r[1]===hn.OC&&b()}}),[n,E,o,s,X,m,b,y,j,q,C,S,A,_]),(0,d.useEffect)((function(){var e=setInterval((function(){m&&y()}),5e3);return function(){clearInterval(e)}}),[m,y]);var $=(0,d.useCallback)((function(e,n){return k((0,u.Z)({},e,n))}),[k]);return(0,d.useEffect)((function(){setTimeout((function(){return M(!0)}),600)}),[v]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)($t,{children:L&&(0,O.jsx)(ar.Z,{classNames:"pipeline-detail",in:N,onEntered:function(){return setTimeout((function(){return z(!1)}),Qt)},timeout:1,children:(0,O.jsx)(er,{})})}),(0,O.jsxs)(ot.Z,{mt:1,px:B.cd,children:[o.map((function(e,r){var i=e.type,u=e.uuid,m=(null===j||void 0===j?void 0:j.uuid)===u,b=G[u],g=b?0===b.priority?or.BUSY:or.QUEUED:or.IDLE,y="".concat(i,"s/").concat(u,".py");return t.current[y]=(0,d.createRef)(),(0,O.jsx)(Fr,{addNewBlock:function(e){n(e,r+1,S),A(!0)},defaultValue:e.content,deleteBlock:function(e){c(e),T(!1)},block:e,blockRefs:t,blocks:o,executionState:g,interruptKernel:s,mainContainerRef:p,mainContainerWidth:f,messages:h[u],noDivider:r===X-1,onChange:function(e){return $(u,e)},ref:t.current[y],runBlock:K,runningBlocks:x,selected:m,setAnyInputFocused:T,setSelected:function(n){return S(!0===n?e:null)},setTextareaFocused:A,textareaFocused:m&&_,fetchFileTree:l,fetchPipeline:a,pipeline:v,setEditingBlock:w},u)})),(0,O.jsx)(ot.Z,{mt:B.cd,children:(0,O.jsx)(hr,{addNewBlock:function(e){n(e,X,S),A(!0)}})})]})]})},Ur=t(70001),Wr=t(47256),Kr=t(11754);var Gr=function(e){var n=e.afterWidth,t=e.features,r=e.insightsOverview,o=e.statistics,i=r.correlations,c=void 0===i?[]:i,u=n-B.cd*B.iI*2,a=function(e){var n=[];return{heatmapData:null===e||void 0===e?void 0:e.map((function(e,t){var r=e.correlations,o=e.feature.uuid;n.push({label:o});var i=r[0].y.map((function(e){var n=e.value;return(0,G.QV)(n)}));return i.splice(t,0,1),i})),xyLabels:n}}(c),s=a.heatmapData,d=a.xyLabels,p=function(e,n){return(0,V.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:1-n["".concat(e.uuid,"/null_value_rate")]}})),"value")}(t,o),f=function(e,n){return(0,V.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:n["".concat(e.uuid,"/count_distinct")]}})),"value")}(t,o),h=function(e,n){return(0,V.YC)(null===e||void 0===e?void 0:e.map((function(e){var t=(0,l.Z)(Object.entries(n["".concat(e.uuid,"/value_counts")])[0],2),r=t[0],o=t[1];return{feature:e,percentage:Number(o)/n.count,value:r}})),"percentage")}(t,o);return(0,O.jsxs)(j.Z,{flexDirection:"column",children:[(null===p||void 0===p?void 0:p.length)>=1&&(0,O.jsx)(Kr.Z,{headerTitle:"Data completion",width:u,children:(0,O.jsx)(Ur.Z,{data:p.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*B.iI,50*B.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,G.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),(null===f||void 0===f?void 0:f.length)>=1&&(0,O.jsx)(Kr.Z,{headerTitle:"Number of unique values",width:u,children:(0,O.jsx)(Ur.Z,{data:f.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*B.iI,50*B.iI),renderTooltipContent:function(e){var n=e.x;return"".concat(n," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),h.length>=1&&(0,O.jsx)(Kr.Z,{headerTitle:"Distribution of values",width:u,children:(0,O.jsx)(Ur.Z,{data:h.map((function(e){var n=e.feature,t=e.percentage;return{feature:n,value:e.value,x:t,y:n.uuid}})),height:Math.max(3*h.length*B.iI,50*B.iI),renderTooltipContent:function(e){var n=e.value,t=e.x;return"".concat(n," is ").concat((0,G.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),c&&(null===s||void 0===s?void 0:s.length)>=1&&(0,O.jsx)(Kr.Z,{headerTitle:"Correlations",children:(0,O.jsx)(ot.Z,{p:1,children:(0,O.jsx)(Wr.Z,{countMidpoint:0,data:s,height:8*B.iI*d.length,minCount:-1,xLabels:d,yLabels:d})})})]})},qr=t(77555),Xr=t(39076),Vr=t.n(Xr),Yr=(B.iI,[i.DATA_EXPORTER]),Jr=x.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["display:flex;flex:1;overflow:auto;padding:","px;padding-bottom:","px;width:100%;",""],B.iI,3*B.iI,Dt.w5),Qr=x.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border:2px solid transparent;border-radius:","px;margin-left:","px;margin-right:","px;min-width:fit-content;"," "," ",""],w.BG,B.iI,B.iI,(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.disabled&&"\n    opacity: 0.5;\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}));var $r=function(e){var n=e.block,t=e.disabled,r=e.hasFailed,o=e.isInProgress,i=e.isQueued,c=e.isSuccessful,l=e.onClick,u=e.selected,a=(0,d.useContext)(x.ThemeContext),s=n.type,p=n.uuid,f=!(o||i||r||c),h=c&&!(o||i),v=r&&!(o||i),m="";return f?m="No status":h?m="Successful execution":v?m="Failed execution":o&&(m="Currently executiing"),(0,O.jsx)(Qr,{backgroundColor:F(s,{theme:a}).accent,disabled:t,selected:u,children:(0,O.jsx)(mt.Z,{basic:!0,disabled:t,id:p,noBackground:!0,noBorder:!0,noPadding:!0,onClick:l&&!t?function(){return l(n)}:null,children:(0,O.jsx)(ot.Z,{p:1,children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsxs)(j.Z,{alignItems:"center",justifyContent:"center",style:{height:2*B.iI,width:2*B.iI},title:m,children:[o&&(0,O.jsx)(it.Z,{color:(a||k.Z).content.active,small:!0}),h&&(0,O.jsx)(_.Jr,{size:2*B.iI,success:!0}),v&&(0,O.jsx)(_.x8,{danger:!0,size:1.5*B.iI}),f&&(0,O.jsx)(E,{borderSize:1,size:1*B.iI})]}),(0,O.jsx)(ot.Z,{ml:1}),(0,O.jsx)(D.ZP,{inverted:Yr.includes(s),monospace:!0,small:!0,children:p})]})})})},p)},eo=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===n||void 0===n||!n.length)return 0;var o=n.filter((function(e){return!r.includes(e)})).map((function(n){var o;return 1+e(null===(o=t[n])||void 0===o?void 0:o.upstream_blocks,t,[].concat((0,qr.Z)(r),[n]))}));return Math.max.apply(Math,(0,qr.Z)(o))};function no(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function to(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?no(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):no(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ro=function(e){var n=e.blockRefs,t=e.editingBlock,r=e.fetchPipeline,o=e.pipeline,c=e.runningBlocks,u=e.selectedBlock,a=e.setEditingBlock,s=e.setSelectedBlock,f=(0,d.useContext)(x.ThemeContext),v=(0,Xr.useXarrow)(),m=(null===t||void 0===t?void 0:t.upstreamBlocks)||{},b=m.block,g=m.values,y=void 0===g?[]:g,k=(0,d.useMemo)((function(){var e;return(null===o||void 0===o||null===(e=o.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return i.SCRATCHPAD!==n})))||[]}),[null===o||void 0===o?void 0:o.blocks]),w=(0,d.useMemo)((function(){return(0,V.HK)(k,(function(e){return e.uuid}))}),[k]),P=((0,d.useMemo)((function(){return(0,V.HK)(y,(function(e){return e.uuid}))}),[y]),(0,d.useMemo)((function(){return(0,V.HK)(c,(function(e){return e.uuid}))}),[c])),C=k.reduce((function(e,n){var t=n.downstream_blocks,r=n.type,o=n.uuid,i=(null===u||void 0===u?void 0:u.uuid)===o,c=t.map((function(e){return{color:F(r,{isSelected:i,theme:f}).accent,end:e,start:o}}));return[].concat((0,qr.Z)(e),(0,qr.Z)(c))}),[]),Z=k.reduce((function(e,n){var t=n.upstream_blocks,r=eo(t,w);return e[r]=[].concat((0,qr.Z)(e[r]||[]),[n]),e}),[]),S=(0,p.Db)(en.blocks.pipelines.useUpdate(null===o||void 0===o?void 0:o.uuid,null===b||void 0===b?void 0:b.uuid),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(){a({upstreamBlocks:null}),r().then((function(){v()}))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),I=(0,l.Z)(S,2),E=I[0],T=I[1].isLoading,_=(0,d.useCallback)((function(e){var t=e.type,r=e.uuid;if(s(e),null!==n&&void 0!==n&&n.current){var o,i=n.current["".concat(t,"s/").concat(r,".py")];null===i||void 0===i||null===(o=i.current)||void 0===o||o.scrollIntoView()}}),[n,s]),A=(0,d.useCallback)((function(e){a((function(n){var t=n.upstreamBlocks.values||[],r=t.findIndex((function(n){var t=n.uuid;return e.uuid===t}));return to(to({},n),{},{upstreamBlocks:to(to({},n.upstreamBlocks),{},{values:r>=0?(0,V.oM)(t,r):t.concat(e)})})}))}),[a]);return(0,O.jsxs)(O.Fragment,{children:[b&&(0,O.jsxs)(ot.Z,{pt:B.cd,px:1,children:[(0,O.jsx)(ot.Z,{mb:1,px:1,children:(0,O.jsx)(D.ZP,{bold:!0,children:"Currently editing block"})}),(0,O.jsx)(j.Z,{children:(0,O.jsx)($r,{block:b})}),(0,O.jsx)(ot.Z,{mt:B.cd,px:1,children:(0,O.jsxs)(D.ZP,{children:[(0,O.jsxs)(D.ZP,{bold:!0,inline:!0,children:["Select parent block(s) for ",(0,O.jsx)(D.ZP,{bold:!0,inline:!0,monospace:!0,children:b.uuid})]}),": ",y.map((function(e){return e.uuid})).join(", ")]})})]}),(0,O.jsx)(Jr,{onScroll:v,children:(0,O.jsxs)(Xr.Xwrapper,{children:[(0,O.jsx)(j.Z,{alignItems:"center",flexDirection:"column",fullWidth:!0,children:Z.map((function(e,n){return(0,O.jsx)(ot.Z,{mb:n===Z.length-1?0:6,children:(0,O.jsx)(j.Z,{alignItems:"center",children:e.map((function(e){var n,t;return(0,O.jsx)($r,{block:e,disabled:(null===b||void 0===b?void 0:b.uuid)===e.uuid,hasFailed:h.FAILED===e.status,isInProgress:P[e.uuid]&&(null===(n=c[0])||void 0===n?void 0:n.uuid)===e.uuid,isQueued:P[e.uuid]&&(null===(t=c[0])||void 0===t?void 0:t.uuid)!==e.uuid,isSuccessful:h.EXECUTED===e.status,onClick:b?A:_,selected:b?(0,V.sE)(y,(function(n){return n.uuid===e.uuid})):(null===u||void 0===u?void 0:u.uuid)===e.uuid},e.uuid)}))})},n)}))}),C.map((function(e){var n=e.color,t=e.end,r=e.start;return(0,O.jsx)(Vr(),{animateDrawing:.2,color:n,curveness:.8,dashness:!1,end:t,headSize:5,start:r,strokeWidth:1.5},"".concat(r,"_").concat(t))}))]})}),b&&(0,O.jsx)(ot.Z,{my:3,px:B.cd,children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[(0,O.jsx)(vt,{compact:!0,inline:!0,loading:T,onClick:function(){return E({block:to(to({},b),{},{upstream_blocks:y.map((function(e){return e.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,O.jsx)(ot.Z,{ml:1}),(0,O.jsx)(vt,{compact:!0,inline:!0,noBackground:!0,onClick:function(){return a({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})})]})},oo=t(73199),io=t.n(oo),co=t(71735),lo=t(65292);var uo,ao=function(e){var n=e.language,t=e.maxWidth,r=e.showLineNumbers,o=e.small,i=e.source,c=e.wrapLines,l=(0,d.useContext)(x.ThemeContext);return(0,O.jsx)(io(),{source:i,renderers:{code:function(e){var i=e.value;return(0,O.jsx)(co.Z,{customStyle:{backgroundColor:(l.background||k.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:le.Vp,fontSize:o?12:14,marginBottom:0,marginTop:0,paddingBottom:2*B.iI,paddingTop:2*B.iI,maxWidth:t},lineNumberStyle:{color:(l.content||k.Z.content).muted},language:n,showLineNumbers:r,style:lo._4,useInlineStyles:!0,wrapLines:c,children:i})}}})},so=t(64866),po=t(21764);function fo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ho(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fo(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(uo||(uo={}));var vo=function(e){var n,t=e.children,r=e.copiedText,o=e.iconPosition,i=void 0===o?uo.LEFT:o,c=e.inverted,l=e.linkProps,u=e.linkText,a=e.muted,s=e.small,d=e.toastMessage,p=e.withCopyIcon;return t?n=(0,O.jsx)("span",{children:t}):p&&(n=(0,O.jsx)(ct.Z,ho(ho({href:"#",inline:!0,muted:a,preventDefault:!0,sameColorAsText:!0,small:s},l),{},{children:(0,O.jsxs)(j.Z,{alignItems:"center",children:[i===uo.LEFT&&(0,O.jsx)(ot.Z,{mr:1,children:(0,O.jsx)(j.Z,{alignItems:"center",children:(0,O.jsx)(_.CK,{inverted:c,muted:a})})}),u&&(0,O.jsx)(D.ZP,{inverted:c,muted:a,small:s,children:u}),i===uo.RIGHT&&(0,O.jsx)(ot.Z,{ml:1,children:(0,O.jsx)(j.Z,{alignItems:"center",children:(0,O.jsx)(_.CK,{inverted:c,muted:a})})})]})}))),(0,O.jsx)(so.CopyToClipboard,{onCopy:function(){return po.Am.success(d||"Successfully copied to clipboard.",{position:po.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})},mo=function(e,n,t){return"\n    ".concat(t," = get_variable('").concat(e,"', '").concat(n,"', '").concat(t,"')\n")};var bo,go,xo=function(e){var n=e.blockRefs,t=e.blocks,r=e.globalVariables,o=e.setSelectedBlock,c=(0,d.useContext)(x.ThemeContext),l=(0,d.useMemo)((function(){return(0,V.HK)(t,(function(e){return e.uuid}))}),[t]);return(0,O.jsxs)(ot.Z,{p:B.cd,children:[(0,O.jsx)(ot.Z,{mb:B.cd,children:(0,O.jsxs)(D.ZP,{children:["The variables listed blow can be used in any ",(0,O.jsx)(D.ZP,{bold:!0,inline:!0,monospace:!0,children:i.SCRATCHPAD})," block."]})}),(0,O.jsx)(ot.Z,{mb:B.cd,children:(0,O.jsx)(D.ZP,{children:"To load the variable, use the following syntax:"})}),(0,O.jsx)(ao,{language:"python",small:!0,source:"\n    from mage_ai.data_preparation.variable_manager import (\n        get_variable,\n    )\n\n\n    df = get_variable(\n        'pipeline_uuid',\n        'block_uuid',\n        'variable_name',\n    )\n"}),null===r||void 0===r?void 0:r.map((function(e){var t,r=e.block.uuid,u=e.pipeline,a=e.variables,s=l[r];if(s&&i.SCRATCHPAD!==s.type){var d=F(s.type,{theme:c}).accent,p=null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t["".concat(s.type,"s/").concat(r,".py")];return(0,O.jsxs)(ot.Z,{mt:8,children:[(0,O.jsx)(j.Z,{alignItems:"center",children:(0,O.jsxs)(D.ZP,{children:["The following variables were defined in the block ",(0,O.jsx)(ct.Z,{noHoverUnderline:!0,preventDefault:!0,onClick:function(){var e,n;o(s),null===p||void 0===p||null===(e=p.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e)},children:(0,O.jsx)(D.ZP,{color:d,inline:!0,monospace:!0,children:r})}),":"]})}),null===a||void 0===a?void 0:a.map((function(e){return(0,O.jsxs)(ot.Z,{mt:2,children:[(0,O.jsx)(ao,{language:"python",small:!0,source:mo(u.uuid,r,e)}),(0,O.jsx)(vo,{copiedText:(n=u.uuid,t=r,o=e,"from mage_ai.data_preparation.variable_manager import get_variable\n\n\n".concat(mo(n,t,o).trim(),"\n")),linkText:"Copy code",muted:!0,small:!0,withCopyIcon:!0})]},"".concat(r,"-").concat(e));var n,t,o}))]},r)}}))]})},yo=t(92506),jo="sideview";!function(e){e.DATA="data",e.GRAPHS="graphs",e.REPORTS="reports",e.TREE="tree",e.VARIABLES="variables"}(go||(go={}));var ko=[go.DATA,go.REPORTS,go.TREE],wo=[go.DATA,go.REPORTS,go.GRAPHS],Oo=[{key:go.TREE,label:"Tree"},{key:go.DATA,label:"Data"},{key:go.REPORTS,label:"Reports"},{key:go.GRAPHS,label:"Graphs"},{key:go.VARIABLES,label:"Variables"}],Po=(bo={},(0,u.Z)(bo,go.DATA,_.t1),(0,u.Z)(bo,go.GRAPHS,_.er),(0,u.Z)(bo,go.REPORTS,_.Do),(0,u.Z)(bo,go.TREE,_.BJ),(0,u.Z)(bo,go.VARIABLES,_.KJ),bo),Co=t(32151),Zo=2*B.iI,So=(B.iI,Co.O$+3*B.iI+ue.dN),Io=x.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],Ft,Zo,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),Eo=x.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*B.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "})),To=t(43313),Do=t(84779);var _o=t(24141);var Bo=function(e){var n,t=e.activeView,r=e.afterWidth,o=e.blockRefs,i=e.blocks,c=e.editingBlock,u=e.fetchPipeline,a=e.globalVariables,s=e.insights,f=e.metadata,h=e.pipeline,v=e.runningBlocks,m=e.sampleData,b=e.selectedBlock,g=e.setEditingBlock,x=e.setSelectedBlock,y=e.statistics,k=(0,_o.i)().height,w=Ft+Dt.nn,P=null===h||void 0===h?void 0:h.uuid,C=(0,d.useState)(!1),Z=C[0],S=C[1],I=(0,d.useState)(null),E=I[0],T=I[1],A=(null===m||void 0===m?void 0:m.columns)||[],R=(null===m||void 0===m?void 0:m.rows)||[],N=(null===f||void 0===f?void 0:f.column_types)||{},M=(null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.map((function(e){return e.feature})))||[],F=(null===s||void 0===s?void 0:s[1])||{},L=(0,d.useMemo)((function(){return(0,V.HK)((null===s||void 0===s?void 0:s[0])||[],(function(e){return e.feature.uuid}))}),[s]),z=function(e){var n=e.statistics,t=Object.keys(n),r=Array(To.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(To.Dy.includes(e)){var t=To.CC[e],o=n[e],i=o,c=!1,l=[2,3],u=To.Ub[e],a=To.oH[e],s=To.OD[e];if(To.y_.includes(e))c=!0,l=[2,1,2];else if(e in To.Sq){o=(0,Do.Jw)(o,0);var d=To.Sq[e];i=n[d]}var p={columnFlexNumbers:l,name:t,progress:c,rate:i,successDirection:a,warning:s};To.y_.includes(e)||(p.value=o),r[u]=p}})),r)}({statistics:y}),H=function(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,o=Object.keys(r);if(0===o.length)return null;var i=Object.values(t),c=i.length,l=[];l.push({name:"Column count",successDirection:To.oH.column_count,value:(0,G.x6)(c)}),o.forEach((function(e){if(To.Zu.includes(e)){var n=To.CC[e],t=r[e],o=To.OD[e];l.push({name:n,successDirection:To.oH[e],value:(0,G.x6)(t),warning:o})}}));var u=(0,Co.QO)(i),a=u.countCategory,s=u.countDatetime,d=u.countNumerical;return l.push({name:"Categorical Features",rate:a/c,value:(0,G.x6)(a)},{name:"Numerical Features",rate:d/c,value:(0,G.x6)(d)},{name:"Datetime Features",rate:s/c,value:(0,G.x6)(s)}),l}({columnTypes:N,statistics:y}),U=m&&s&&Object.keys(y).length>0,W=(0,d.useCallback)((0,Co.Fk)({columnTypes:N,columns:A,insightsByFeatureUUID:L,insightsOverview:F,noColumnLinks:!0,statistics:y}),[N,A,L,F,y]),K=(0,d.useMemo)((function(){return(0,O.jsx)(xo,{blockRefs:o,blocks:i,globalVariables:a,setSelectedBlock:x})}),[null===o||void 0===o?void 0:o.current,i,a,x]),q=(0,p.Db)(en.execute.pipelines.useCreate(P),{onError:function(e){var n=(0,Ge.qQ)(e).messages;null===T||void 0===T||T(n),u()},onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(){u(),null===T||void 0===T||T(null),S(!0),setTimeout((function(){S(!1)}),2500)}})}}),X=(0,l.Z)(q,2),Y=X[0],J=X[1].isLoading;return(0,O.jsxs)(O.Fragment,{children:[t===go.TREE&&(null===E||void 0===E?void 0:E.length)>=1&&(0,O.jsxs)(ot.Z,{mb:3,mt:2,mx:2,children:[(0,O.jsxs)(j.Z,{justifyContent:"space-between",children:[(0,O.jsx)(D.ZP,{bold:!0,danger:!0,children:"Errors"}),(0,O.jsx)(mt.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return T(null)},transparent:!0,children:(0,O.jsx)(_.x8,{muted:!0})})]}),null===E||void 0===E?void 0:E.map((function(e){return(0,O.jsx)(ot.Z,{pb:1,children:(0,O.jsx)(D.ZP,{monospace:!0,xsmall:!0,children:e})},e)}))]}),(0,O.jsxs)(Io,{fullWidth:ko.includes(t),children:[t===go.TREE&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ot.Z,{p:2,children:(0,O.jsx)(mt.Z,{beforeIcon:(0,O.jsx)(_.JM,{inverted:!0,size:2*B.iI}),loading:J,onClick:function(){return Y()},success:!0,children:(0,O.jsx)(D.ZP,{bold:!0,inverted:!0,primary:Z,children:Z?"Successfully executed!":"Execute pipeline"})})}),(0,O.jsx)(ro,{blockRefs:o,editingBlock:c,fetchPipeline:u,pipeline:h,runningBlocks:v,selectedBlock:b,setEditingBlock:g,setSelectedBlock:x})]}),t===go.DATA&&A.length>0&&(0,O.jsx)(br.Z,{columnHeaderHeight:So,columns:A,height:k-w,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,renderColumnHeader:W,rows:R,width:r}),t===go.REPORTS&&(0,O.jsx)(Eo,{noPadding:!b||!U,children:(0,O.jsxs)(j.Z,{flexDirection:"column",fullWidth:!0,children:[z&&(0,O.jsx)(yo.Z,{stats:z,title:"Quality metrics"}),H&&(0,O.jsx)(ot.Z,{mt:B.cd,children:(0,O.jsx)(yo.Z,{stats:H,title:"Statistics"})})]})}),t===go.GRAPHS&&(0,O.jsx)(Eo,{noPadding:!b||!U,children:(0,O.jsx)(Gr,{afterWidth:r,features:M,insightsOverview:F,statistics:y})}),go.VARIABLES===t&&a&&K,b&&U?null:wo.includes(t)&&(0,O.jsx)(j.Z,{alignItems:"center",justifyContent:"center",verticalHeight:90,verticalHeightOffset:w,width:r,children:(0,O.jsx)(D.ZP,{center:!0,default:!0,disableWordBreak:!0,large:!0,monospace:!0,children:b?!U&&"No data or insights available":"Select a block for insights"})})]})]})},Ao=t(1887),Ro=t.n(Ao),No=t(57639);var Mo=function(e){var n=e.after,t=e.afterHeader,r=e.afterHidden,o=e.afterMousedownActive,i=e.afterWidth,c=e.before,l=e.beforeHeader,u=e.beforeHidden,a=e.beforeMousedownActive,s=e.beforeWidth,p=e.children,f=e.mainContainerHeader,h=e.mainContainerRef,v=e.setAfterHidden,m=e.setAfterMousedownActive,b=e.setAfterWidth,g=e.setBeforeHidden,x=e.setBeforeMousedownActive,k=e.setBeforeWidth,w=(0,_o.i)().width,P=(0,d.useRef)(null),C=(0,d.useRef)(null),Z=(0,d.useRef)(null),S=(0,d.useRef)(null),I=(0,d.useCallback)((function(){var e=!r;v(e),(0,M.t8)(M.zg,e)}),[r,v]),E=(0,d.useCallback)((function(){var e=!u;g(e),(0,M.t8)(M.Uu,e)}),[u,g]);(0,d.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===Z||void 0===Z||null===(n=Z.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(w){var r=e.x;r+Mt>w-i&&(r=w-i-Mt),k(Math.max(r,At))}},c=function(e){var n,t;e.offsetX>=e.target.offsetWidth-Nt&&e.offsetX<=e.target.offsetWidth+Nt&&(x(!0),X(e),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},l=function(){var e,n;x(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===S||void 0===S||null===(e=S.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",l,!1),function(){var e,n,t,r;null===S||void 0===S||null===(e=S.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",l,!1),l()}}),[i,Z,S,x,k,w]),(0,d.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===P||void 0===P||null===(n=P.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(w){var r=w-e.x;r+Mt>w-s&&(r=w-s-Mt),b(Math.max(r,Bt))}},i=function(e){var n,t;e.offsetX>=-1*Nt&&e.offsetX<=Nt&&(m(!0),X(e),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},c=function(){var e,n;m(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",c,!1),function(){var e,n,t,r;null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",c,!1),c()}}),[s,P,C,m,b,w]);var T=r?4*B.iI:i,D=u?4*B.iI:s;return(0,O.jsxs)(No.Z,{children:[(o&&!r||a&&!u)&&(0,O.jsx)(Ro(),{children:(0,O.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                body {\n                  cursor: col-resize;\n                }\n              "}})}),c&&(0,O.jsxs)(Wt,{style:{width:D},children:[(0,O.jsx)(Xt,{active:a,disabled:u,ref:S,right:0}),(0,O.jsx)(Ut,{style:{width:D},visible:u,children:(0,O.jsxs)(j.Z,{alignItems:"center",fullWidth:!0,fullHeight:!0,justifyContent:"space-between",children:[(0,O.jsxs)(y.Z,{children:[(0,O.jsx)(ot.Z,{pl:u?1:0}),!u&&l]}),(0,O.jsxs)(y.Z,{children:[(0,O.jsx)(Tt,{block:!0,label:u?"Show sidebar":"Hide sidebar",size:null,widthFitContent:!0,children:(0,O.jsxs)(mt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return E()},children:[u&&(0,O.jsx)(_._Q,{neutral:!0,size:2*B.iI}),!u&&(0,O.jsx)(_.s$,{neutral:!0,size:2*B.iI})]})},u?"before-is-hidden":"before-is-visible"),(0,O.jsx)(ot.Z,{pr:u?1:2})]})]})}),(0,O.jsx)(Kt,{ref:Z,children:!u&&c})]}),(0,O.jsxs)(Vt,{style:{left:D,width:"calc(100% - ".concat(D+T,"px)")},children:[f,(0,O.jsx)(Yt,{headerOffset:f?Ft:null,style:{width:"calc(100% - ".concat(D+T,"px)")},children:(0,O.jsx)(Jt,{ref:h,children:p})})]}),n&&(0,O.jsxs)(Gt,{style:{width:T},children:[(0,O.jsx)(Xt,{active:o,disabled:r,left:0,ref:C}),(0,O.jsx)(Ut,{style:{width:T},visible:r,children:(0,O.jsxs)(j.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:[(0,O.jsxs)(y.Z,{children:[(0,O.jsx)(ot.Z,{pl:r?1:2}),(0,O.jsxs)(mt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I()},children:[r&&(0,O.jsx)(_.s$,{neutral:!0,size:2*B.iI}),!r&&(0,O.jsx)(_._Q,{neutral:!0,size:2*B.iI})]})]}),!r&&t]})}),(0,O.jsx)(qt,{ref:P,children:!r&&n})]})]})};function Fo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Lo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Fo(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function zo(e){var n,t,r,o=e.pipeline,c=(0,f.useRouter)(),a=(0,_o.i)(),s=a.height,h=a.width,v=(0,d.useState)((0,M.U2)(M.L8,_t)),m=v[0],b=v[1],g=(0,d.useState)(null),x=g[0],y=g[1],j=(0,d.useState)((0,M.U2)(M.J3,Rt)),k=j[0],w=j[1],P=(0,d.useState)(!!(0,M.U2)(M.zg)),C=P[0],Z=P[1],S=(0,d.useState)(!!(0,M.U2)(M.Uu)),I=S[0],E=S[1],T=(0,d.useState)(!1),D=T[0],_=T[1],A=(0,d.useState)(!1),R=A[0],N=A[1],F=(0,d.useState)(null),L=F[0],z=F[1],H=(0,d.useState)([]),U=H[0],W=H[1],K=(0,me.iV)(),q=K.sideview,X=K.file_path,Y=(0,d.useMemo)((function(){var e=K["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[K]),J=(0,d.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,rr.u)((0,u.Z)({},jo,e),{pushHistory:n})}),[q]);(0,d.useEffect)((function(){q||J(go.TREE,!1)}),[q]);var Q=(0,d.useRef)({}),$=(0,d.useRef)({}),ee=(0,d.useRef)(null),ne=o.uuid,re=(0,ie.Z)(ne),oe=(0,d.useCallback)((function(e){$.current=Lo(Lo({},$.current),e)}),[$]),ce=(0,d.useState)(null),le=ce[0],ue=ce[1];(0,d.useEffect)((function(){null===ee||void 0===ee||!ee.current||D||R||ue(ee.current.getBoundingClientRect().width)}),[D,R,C,m,I,k,null===ee||void 0===ee?void 0:ee.current,ue,h]),(0,d.useEffect)((function(){D||(y(m),(0,M.t8)(M.L8,m))}),[D,m,y]),(0,d.useEffect)((function(){R||(0,M.t8)(M.J3,k)}),[R,k]);var ae=(0,d.useState)(null),se=ae[0],de=ae[1],pe=(0,d.useState)(!1),fe=pe[0],he=pe[1],ve=en.variables.pipelines.list(!C&&ne),be=ve.data,ge=ve.mutate,xe=null===be||void 0===be?void 0:be.variables,ye=(0,d.useState)([]),je=ye[0],ke=ye[1],we=(0,d.useState)({upstreamBlocks:null}),Oe=we[0],Pe=we[1],Ce=(0,d.useState)([]),Ze=Ce[0],Se=Ce[1],Ie=(0,d.useState)(null),Ee=Ie[0],Te=Ie[1],De=(0,d.useCallback)((function(){Pe({upstreamBlocks:{block:null,values:[]}}),Xe({}),he(!1),de(null),Se([]),Te(null)}),[]);(0,d.useEffect)((function(){ne!==re&&($.current={})}),[ne,re]);var _e=en.blocks.pipelines.outputs.detail(!C&&ne,(null===Ee||void 0===Ee?void 0:Ee.type)!==i.SCRATCHPAD&&(null===Ee||void 0===Ee?void 0:Ee.uuid)),Be=_e.data,Ae=_e.mutate,Re=null===Be||void 0===Be||null===(n=Be.outputs)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.sample_data,Ne=en.blocks.pipelines.analyses.detail(!C&&ne,(null===Ee||void 0===Ee?void 0:Ee.type)!==i.SCRATCHPAD&&(null===Ee||void 0===Ee?void 0:Ee.uuid)),Me=Ne.data,Fe=Ne.mutate,Le=(null===Me||void 0===Me||null===(r=Me.analyses)||void 0===r?void 0:r[0])||{},ze=Le.insights,He=Le.metadata,Ue=Le.statistics,We=void 0===Ue?{}:Ue;(0,d.useEffect)((function(){0===Ze.length&&(Fe(),Ae(),ge())}),[Fe,Ae,ge,Ze]),(0,d.useEffect)((function(){var e;null!==(e=Oe.upstreamBlocks)&&void 0!==e&&e.block&&(Z(!1),J(go.TREE))}),[Oe.upstreamBlocks]);var Ke=(0,d.useState)({}),qe=Ke[0],Xe=Ke[1],Ve=en.pipelines.detail(ne),Ye=Ve.data,Je=(Ve.isLoading,Ve.mutate),Qe=en.files.list(),$e=Qe.data,nn=Qe.mutate,tn=null===Ye||void 0===Ye?void 0:Ye.pipeline,on=en.kernels.list({},{refreshInterval:5e3,revalidateOnFocus:!0}),cn=on.data,ln=on.mutate,un=null===cn||void 0===cn?void 0:cn.kernels,an=null===un||void 0===un?void 0:un[0],sn=(0,d.useCallback)((function(e){var n=encodeURIComponent(e),t=(0,me.iV)()["file_paths[]"]||[];Array.isArray(t)||(t=[t]),t.includes(n)||t.push(n),(0,rr.u)({"file_paths[]":t,file_path:n})}),[]),dn=en.file_contents.detail(L).data,pn=null===dn||void 0===dn?void 0:dn.file_content;(0,d.useEffect)((function(){z(X)}),[X]),(0,d.useEffect)((function(){(0,V.fS)(Y,U)||W(Y)}),[Y]);var fn=(0,p.Db)(en.pipelines.useUpdate(ne,{update_content:!0}),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(){return he(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),hn=(0,l.Z)(fn,2),vn=hn[0],mn=hn[1].isLoading,bn=(0,d.useCallback)((function(){return de(new Date),vn({pipeline:Lo(Lo({},tn),{},{blocks:je.map((function(e){return Lo(Lo({},e),{},{content:$.current[e.uuid]||e.content,outputs:i.SCRATCHPAD===e.type&&qe[e.uuid]?qe[e.uuid].map((function(n,t){return{text_data:JSON.stringify(n),variable_uuid:"".concat(e.uuid,"_").concat(t)}})):e.outputs})}))})})}),[je,$.current,qe,tn,de,vn]),gn=(0,p.Db)((function(e){var n=e.uuid;return en.blocks.pipelines.useDelete(ne,n)()}),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(e){var n=e.block.uuid;ke((function(e){return(0,V.oM)(e,e.findIndex((function(e){var t=e.uuid;return n===t})))})),Je()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Xe((function(e){return Lo(Lo({},e),{},(0,u.Z)({},t.block_uuid,r.map((function(e){return{data:e,type:ir.TEXT_PLAIN}}))))}))}})}}),xn=(0,l.Z)(gn,1)[0],kn=(0,p.Db)(en.restart.kernels.useCreate(null===an||void 0===an?void 0:an.id),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(){return ln()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),wn=(0,l.Z)(kn,1)[0],On=(0,p.Db)(en.interrupt.kernels.useCreate(null===an||void 0===an?void 0:an.id),{onSuccess:function(e){return(0,Ge.wD)(e,{callback:function(e){},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),Pn=(0,l.Z)(On,1)[0],Cn=((0,d.useCallback)((function(){window.confirm("Do you want to restart the kernel? All variables will be cleared.")&&wn()}),[wn]),(0,p.Db)(en.blocks.pipelines.useCreate(ne))),Zn=(0,l.Z)(Cn,1)[0],Sn=(0,d.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,G.Y6)();Zn({block:Lo({name:r,priority:n},e)}).then((function(e){(0,Ge.wD)(e,{callback:function(){var r=e.data.block;ke((function(e){return(0,V.Hk)(r,n,e)})),null===t||void 0===t||t(r),nn(),Je()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[Zn,ke]);(0,d.useEffect)((function(){if("undefined"!==typeof(null===tn||void 0===tn?void 0:tn.blocks)){ke(tn.blocks);var e={};$.current={},tn.blocks.forEach((function(n){var t=n.content,r=n.outputs,o=n.uuid;r.length>=1&&(e[o]=r.map((function(e){var n=e.sample_data,t=e.text_data,r=e.type;return n?{data:n,type:r}:t?JSON.parse(t):t}))),$.current[o]=t})),Xe((function(n){return Lo(Lo({},e),n)}))}}),[null===tn||void 0===tn?void 0:tn.blocks,ke,Xe]);var In=(0,d.useCallback)((function(e,n){var t=je.find((function(t){var r=t.type,o=t.uuid;return r===n&&o===e}));if(t&&(Te(t),null!==Q&&void 0!==Q&&Q.current)){var r,o=Q.current["".concat(t.type,"s/").concat(t.uuid,".py")];null===o||void 0===o||null===(r=o.current)||void 0===r||r.scrollIntoView()}}),[je]),En=(0,d.useMemo)((function(){return(0,O.jsx)(te,{files:null===$e||void 0===$e?void 0:$e.files,onSelectBlockFile:In,openFile:sn,openPipeline:function(e){De(),c.push("/pipelines/[...slug]","/pipelines/".concat(e))}})}),[null===$e||void 0===$e?void 0:$e.files,In]),Tn=(0,d.useMemo)((function(){return(0,O.jsx)(Bo,{activeView:q,afterWidth:x,blockRefs:Q,blocks:je,editingBlock:Oe,fetchPipeline:Je,globalVariables:xe,insights:ze,metadata:He,pipeline:tn,runningBlocks:Ze,sampleData:Re,selectedBlock:Ee,setEditingBlock:Pe,setSelectedBlock:Te,statistics:We,views:Oo})}),[q,x,Q,je,Oe,Je,xe,ze,He,tn,Ze,Re,Ee,Pe,We]),Dn=(0,d.useMemo)((function(){return(0,O.jsx)(Hr,{addNewBlockAtIndex:Sn,blockRefs:Q,blocks:je,deleteBlock:xn,fetchFileTree:nn,fetchPipeline:Je,interruptKernel:Pn,isPipelineUpdating:mn,kernel:an,mainContainerRef:ee,mainContainerWidth:le,messages:qe,pipeline:tn,pipelineContentTouched:fe,pipelineLastSaved:se,restartKernel:wn,runningBlocks:Ze,savePipelineContent:bn,selectedBlock:Ee,setContentByBlockUUID:oe,setEditingBlock:Pe,setMessages:Xe,setPipelineContentTouched:he,setRunningBlocks:Se,setSelectedBlock:Te})}),[Sn,Q,je,xn,nn,Je,Pn,mn,an,ee,le,qe,tn,fe,se,wn,Ze,bn,Ee,oe,Pe,Xe,he,Se,Te]),_n=(0,d.useMemo)((function(){return(0,O.jsx)(lr,{filePaths:U,isBusy:Ze.length>=1,isPipelineUpdating:mn,kernel:an,pipeline:tn,pipelineContentTouched:fe,pipelineLastSaved:se,restartKernel:wn,selectedFile:pn})}),[mn,an,tn,fe,se,wn,Ze,pn,U]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(jn.Z,{title:null===tn||void 0===tn?void 0:tn.name}),(0,O.jsxs)(Mo,{after:Tn,afterHeader:(0,O.jsx)(O.Fragment,{children:Oo.map((function(e){var n=e.key,t=e.label,r=n===q,o=Po[n];return(0,O.jsx)(ot.Z,{pl:1,children:(0,O.jsx)(vt,{beforeElement:(0,O.jsx)(o,{}),blackBorder:!0,compact:!0,onClick:function(){return J(n)},selected:r,uuid:n,children:t})},n)}))}),afterHidden:C,afterMousedownActive:D,afterWidth:m,before:En,beforeHeader:(0,O.jsx)(yn,{interruptKernel:Pn,restartKernel:wn,savePipelineContent:bn,setMessages:Xe}),beforeHidden:I,beforeMousedownActive:R,beforeWidth:k,mainContainerHeader:_n,mainContainerRef:ee,setAfterHidden:Z,setAfterMousedownActive:_,setAfterWidth:b,setBeforeHidden:E,setBeforeMousedownActive:N,setBeforeWidth:w,children:[!pn&&Dn,pn&&(0,O.jsx)(rn,{file:pn}),(0,O.jsx)(ot.Z,{pb:Math.max(Math.floor(s/2/B.iI),0)})]})]})}zo.getInitialProps=function(){var e=(0,c.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.slug,Array.isArray(t)&&(r=t[0]),e.abrupt("return",{pipeline:{uuid:r}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Ho=zo},26039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[...slug]",function(){return t(43655)}])}},function(e){e.O(0,[3662,6762,7890,7670,9668,1619,9774,2888,179],(function(){return n=26039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);