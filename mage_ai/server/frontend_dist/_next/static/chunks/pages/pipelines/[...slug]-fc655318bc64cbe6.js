(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{7432:function(e,n,t){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[88849,8849],"./Birds of Paradise.json":[78097,8097],"./Blackboard.json":[88018,6115],"./Brilliance Black.json":[73835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[22508,2508],"./Clouds Midnight.json":[49566,9566],"./Clouds.json":[57951,7951],"./Cobalt.json":[80826,826],"./Cobalt2.json":[98256,8256],"./Dawn.json":[76958,6958],"./Dominion Day.json":[89307,9307],"./Dracula.json":[33453,3453],"./Dreamweaver.json":[19363,9363],"./Eiffel.json":[82481,2481],"./Espresso Libre.json":[44776,4776],"./GitHub.json":[10739,739],"./IDLE.json":[67947,7947],"./Katzenmilch.json":[81240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[25164,5164],"./MagicWB (Amiga).json":[76443,6443],"./Merbivore Soft.json":[99361,9361],"./Merbivore.json":[86042,6042],"./Monokai Bright.json":[14883,4883],"./Monokai.json":[34454,4454],"./Night Owl.json":[60261,261],"./Nord.json":[59785,9785],"./Oceanic Next.json":[58920,8920],"./Pastels on Dark.json":[38901,8901],"./Slush and Poppies.json":[26434,6434],"./Solarized-dark.json":[36116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[20440,440],"./Sunburst.json":[68018,8018],"./Textmate (Mac Classic).json":[15824,5824],"./Tomorrow-Night-Blue.json":[81150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[82545,2545],"./Tomorrow-Night.json":[99855,9855],"./Tomorrow.json":[34092,4092],"./Twilight.json":[93898,3898],"./Upstream Sunburst.json":[98807,8807],"./Vibrant Ink.json":[89927,9927],"./Xcode_default.json":[64042,4042],"./Zenburnesque.json":[33467,3467],"./iPlastic.json":[88277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[15729,5729],"./themelist.json":[79437,9437]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=7432,e.exports=o},91643:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _o}});var r,o,i,c=t(77837),l=t(12757),u=t(82394),a=t(38860),s=t.n(a),d=t(82684),p=t(83455),f=t(34376);!function(e){e.CHART="chart",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.TRANSFORMER="transformer"}(i||(i={}));var h,m,v=[i.DATA_EXPORTER,i.DATA_LOADER,i.SCRATCHPAD,i.TRANSFORMER];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(h||(h={})),function(e){e.HISTOGRAM="histogram"}(m||(m={}));var b=(r={},(0,u.Z)(r,i.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,i.DATA_LOADER,"Data loader"),(0,u.Z)(r,i.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,i.TRANSFORMER,"Transformer"),r),g=[i.DATA_EXPORTER,i.DATA_LOADER,i.TRANSFORMER],x=(o={},(0,u.Z)(o,i.DATA_EXPORTER,"DE"),(0,u.Z)(o,i.DATA_LOADER,"DL"),(0,u.Z)(o,i.SCRATCHPAD,"SP"),(0,u.Z)(o,i.TRANSFORMER,"TF"),t(67971)),y=t(46313),j=t(19711),k=t(1132),w=t(73942),O=t(28598),C=(0,y.css)(["min-width:18px;padding-left:2px;padding-right:2px;"," "," "," "," "," ",""],(function(e){return!e.disabled&&"\n    background-color: ".concat((e.theme.content||k.Z.content).inverted,";\n  ")}),(function(e){return e.disabled&&"\n    // background-color: ".concat((e.theme.monotone||k.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.mutedDisabled&&"\n    opacity: 0.3;\n  "}),(function(e){return!e.borderless&&"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).tiny,";\n    padding-bottom: 3px;\n    padding-top: 3px;\n  ")}),(function(e){return e.borderless&&"\n    border-radius: ".concat(w.BG,"px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n  ")}),(function(e){return e.spacingLeft&&"\n    margin-left: ".concat(e.spacingLeft,"px;\n  ")})),P=y.default.kbd.withConfig({displayName:"KeyboardText__KbdStyle",componentId:"sc-18540m4-0"})(["",""],C),Z=y.default.div.withConfig({displayName:"KeyboardText__DivStyle",componentId:"sc-18540m4-1"})(["",""],C);var I=function(e){var n=e.borderless,t=e.disabled,r=e.inline,o=e.keyText,i=e.monospace,c=e.mutedDisabled,l=e.spacingLeft,u=r?Z:P,a=(0,d.useContext)(y.ThemeContext),s={};if(!n){var p,f;if(t)s.borderColor=null===(p=(null===a||void 0===a?void 0:a.monotone)||k.Z.monotone)||void 0===p?void 0:p.grey400;else s.borderColor=null===(f=(null===a||void 0===a?void 0:a.content)||k.Z.content)||void 0===f?void 0:f.active;s.borderRadius=w.BG,s.borderStyle="solid",s.borderWidth=1,s.overflow="hidden"}return(0,O.jsx)(j.ZP,{center:!0,inline:!0,monospace:i,muted:t||c,style:s,xsmall:!0,children:(0,O.jsx)(u,{borderless:n,disabled:t,mutedDisabled:c,spacingLeft:l,children:o})})},S=t(49125),E=y.default.div.withConfig({displayName:"KeyboardTextGroup__SpacingStyle",componentId:"sc-1bx41p7-0"})([""," "," ",""],(function(e){return e.small&&"\n    margin-left: ".concat(.25*S.iI,"px;\n  ")}),(function(e){return!e.small&&"\n    margin-left: ".concat(.25*S.iI,"px;\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(.25*S.iI,"px;\n  ")}));var T=function(e){var n=e.borderless,t=e.disabled,r=e.keyTextGroups,o=e.inline,i=e.monospace,c=e.mutedDisabled,l=e.small,u=e.uuidForKey,a=[],s=[];return r.forEach((function(e,r){var o=[];e.forEach((function(e,r){s.push(e),r>=1&&o.push((0,O.jsx)(E,{small:l},"spacing-".concat(e))),o.push((0,O.jsx)(I,{borderless:n,disabled:t,inline:!0,keyText:e,monospace:i,mutedDisabled:c},"key-".concat(s.join("-"),"-").concat(u)))})),r>=1&&a.push((0,O.jsx)(E,{marginRight:!0,children:(0,O.jsx)(j.ZP,{monospace:i,muted:!0,small:!l,xsmall:l,children:"then"})},"then-".concat(r))),a.push.apply(a,o)})),(0,O.jsx)(x.Z,{alignItems:"center",inline:o,children:a})},D=t(10512),_=34*S.iI,R=20*S.iI,A=y.default.div.withConfig({displayName:"indexstyle__FlyoutMenuContainerStyle",componentId:"sc-1o7k6f4-0"})(["position:absolute;"," "," "," ",""],(function(e){return!e.compact&&"\n    min-width: ".concat(_,"px;\n  ")}),(function(e){return e.compact&&"\n    min-width: ".concat(R,"px;\n  ")}),(function(e){return e.width&&"\n    min-width: 0px;\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n  ")})),B=y.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1o7k6f4-1"})(["align-items:center;display:flex;justify-content:space-between;padding:","px;&:hover{cursor:default;}"," ",""],S.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")})),N=t(16115),F=t(41150);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z=function(e){var n,t,r=e.compact,o=e.items,i=e.left,c=e.onClickCallback,l=e.open,a=e.parentRef,s=e.topOffset,p=void 0===s?0:s,f=e.uuid,h=e.width,m=(0,d.useState)([]),v=m[0],b=m[1],g=(0,d.useState)({}),y=g[0],k=g[1],w=((null===a||void 0===a||null===(n=a.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height,C=(0,F.y)(),P=C.registerOnKeyDown,Z=C.unregisterOnKeyDown;(0,d.useEffect)((function(){return function(){Z(f)}}),[Z,f]),P(f,(function(e,n,t){if(l){var r=v[0];if(n[N.kD])"undefined"===typeof r||r===o.length-1?b([0]):b([r+1]);else if(n[N.Bu])b("undefined"===typeof r||0===r?[o.length-1]:[r-1]);else if(n[N.Uq]&&"undefined"!==typeof r){var i,u;null===(i=o[r])||void 0===i||null===(u=i.onClick)||void 0===u||u.call(i),null===c||void 0===c||c()}else o.forEach((function(e){var r=e.keyboardShortcutValidation;null===r||void 0===r||r({keyHistory:t,keyMapping:n})}))}}),[v,o,c,l,b]),(0,d.useEffect)((function(){l||b([])}),[l]);var I=0;return o&&function e(n,t,o){return(0,O.jsx)(A,{compact:r,style:{display:o||y[t]?null:"none",left:0===I?i||0:r?I*R:I*_,top:0===I?(w||0)+p:0},width:h,children:null===n||void 0===n?void 0:n.map((function(n,t){var r=n.items,o=n.keyTextGroups,i=n.label,l=n.onClick,a=n.uuid;return I++,(0,O.jsxs)(B,{highlighted:v[0]===t,onClick:function(e){e.preventDefault(),null===l||void 0===l||l(),null===c||void 0===c||c()},onMouseEnter:function(){return k(M(M({},y),{},(0,u.Z)({},a,!0)))},onMouseLeave:function(){return k(M(M({},y),{},(0,u.Z)({},a,!1)))},children:[(0,O.jsxs)(x.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,O.jsx)(j.ZP,{children:i()}),r&&(0,O.jsx)(D.ol,{})]}),o&&(0,O.jsx)(T,{keyTextGroups:o}),r&&e(r,a,!1)]},a)}))})}(o,void 0,l)},H=t(26304),U=t(93461),W=["children"];function K(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?K(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=y.default.div.withConfig({displayName:"Circle__CircleStyle",componentId:"sc-1o70504-0"})([""," "," "," "," "," "," ",""],(function(e){return!e.square&&"\n    border-radius: 50%;\n  "}),(function(e){return e.square&&"\n    border-radius: ".concat(w.BG,"px;\n  ")}),(function(e){return!e.color&&!(e.borderSize||e.borderColor)&&"\n    background-color: ".concat((e.theme.content||k.Z.content).muted,";\n  ")}),(function(e){return(e.borderSize||e.borderColor)&&"\n    border: ".concat(e.borderSize||1,"px solid ").concat(e.borderColor||(e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color,";\n  ")}),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.borders||k.Z.borders).danger,";\n  ")}));var V,q,Y=function(e){var n=e.children,t=(0,H.Z)(e,W);return(0,O.jsx)(X,G(G({},t),{},{children:(0,O.jsx)(x.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:n&&(0,O.jsx)(U.Z,{children:n})})}))};!function(e){e.PY="py",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(q||(q={}));var Q,J,$=[q.TXT,q.YAML,q.YML],ee=new RegExp($.map((function(e){return".".concat(e,"$")})).join("|")),ne="pipelines",te=(V={},(0,u.Z)(V,q.PY,"python"),(0,u.Z)(V,q.TXT,"text"),(0,u.Z)(V,q.YAML,"yaml"),(0,u.Z)(V,q.YML,"yaml"),V),re=1.5*S.iI,oe=1*re+S.iI/2,ie=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    ")})),ce=function(e){return e.at(-1)},le=function(e){return e.at(-2).slice(0,-1)},ue=function(e){return ce(e).slice(0,-3)};!function(e){e.DATA_LOADERS="data_loaders",e.DATA_EXPORTERS="data_exporters",e.GLOBAL_VARIABLES="global_variables",e.PIPELINES="pipelines",e.SCRATCHPADS="scratchpads",e.TRANSFORMERS="transformers"}(Q||(Q={})),function(e){e.INIT_PY="__init__.py"}(J||(J={}));var ae=t(91427),se=t(90880);function de(e,n){var t=(n.theme.borders||k.Z.borders).light,r=(n.theme.monotone||k.Z.monotone).grey500,o=n||{},c=o.isSelected,l=o.theme;return c?t=(l.content||k.Z.content).active:i.TRANSFORMER===e?(t=(l.accent||k.Z.accent).purple,r=(l.accent||k.Z.accent).purpleLight):i.DATA_EXPORTER===e?(t=(l.accent||k.Z.accent).yellow,r=(l.accent||k.Z.accent).yellowLight):i.DATA_LOADER===e?(t=(l.accent||k.Z.accent).blue,r=(l.accent||k.Z.accent).blueLight):i.SCRATCHPAD===e&&(t=(l.content||k.Z.content).default,r=(l.accent||k.Z.accent).contentDefaultTransparent),{accent:t,accentLight:r}}var pe=(0,y.css)([""," "," "," ",""],(0,se.eR)(),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat(de(e.blockType,e).accentLight,";\n  ")}),(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(de(e.blockType,e).accent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||k.Z.borders).danger,";\n  ")})),fe=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;overflow:hidden;position:relative;"],w.n_),he=y.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;"," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],pe,w.n_,w.n_,S.iI,S.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),me=y.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:10;&:hover{.block-divider-inner{","}}"],2*S.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||k.Z.text).fileBrowser,";\n      ")})),ve=y.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),be=y.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-4"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],S.cd*S.iI,S.iI,68,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||k.Z.borders).medium,";\n  ")})),ge=t(29817);function xe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=n||(null===e||void 0===e?void 0:e.name);return null!==e&&void 0!==e&&e.parent?xe(e.parent,"".concat(e.parent.name,"/").concat(t)):t}function ye(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=xe(e,n).split("/"),r=(0,ge.C5)(t[1]),o=t[t.length-1],i=new RegExp(".".concat(q.PY,"$"));if(v.includes(r)&&o.match(i))return{type:r,uuid:o.replace(i,"")}}var je=t(24224);function ke(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function we(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ke(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Oe,Ce=function e(n){var t,r=n.file,o=n.level,i=n.onSelectBlockFile,c=n.openFile,l=n.openPipeline,u=n.setContextItem,a=n.theme,s=r.children,p=r.disabled,f=r.name,h=r.parent,m=p||"__init__.py"===f||!!f.match(/^\./),b=(null===h||void 0===h?void 0:h.name)===ne,g=(0,d.useMemo)((function(){return b?null:s?(0,je.YC)(s,(function(e){var n=e.children,t=e.name;return f===ne?t:n?0:1})):s}),[s,b]),x="".concat(o,"/").concat(f),y=(0,d.useState)((0,ae.U2)(x,!1)),k=y[0],w=y[1],C=D.iU;b&&!m?C=D.B_:g&&(C=D.gt),g&&v.includes((0,ge.C5)(f))&&(t=de((0,ge.C5)(f),{theme:a}).accent);var P=(0,d.useMemo)((function(){return null===g||void 0===g?void 0:g.map((function(n){return(0,O.jsx)(e,{file:we(we({},n),{},{parent:r}),level:o+1,onSelectBlockFile:i,openFile:c,openPipeline:l,setContextItem:u,theme:a},"".concat(x,"/").concat(n.name))}))}),[g,c,l]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"row",onClick:function(e){if(e.preventDefault(),!m)if(b)l(f);else if(g)w((function(e){return(0,ae.t8)(x,!e),!e}));else if(f.match(ee))c(xe(r).split("/").slice(1).join("/"));else{var n=ye(r);n&&i(n.uuid,n.type,xe(r).split("/").slice(1).join("/"))}},onContextMenu:function(e){e.preventDefault();var n={data:{block:ye(r)}};m?u(we({type:Oe.DISABLED},n)):b?u(we({type:Oe.PIPELINE},n)):g?u(we({type:Oe.FOLDER},n)):f.match(ee)||f===J.INIT_PY?u(we({type:Oe.FILE},n)):u(we({type:Oe.BLOCK_FILE},n))},style:{alignItems:"center",cursor:"default",display:"flex",minWidth:o*oe+r.name.length*S.Fo+2*S.iI,paddingBottom:S.iI/4,paddingLeft:S.iI/4+oe*o,paddingRight:S.iI/4,paddingTop:S.iI/4},children:[g&&!k&&(0,O.jsx)(D._M,{muted:!0,size:re}),g&&k&&(0,O.jsx)(D._Q,{muted:!0,size:re}),!g&&(0,O.jsx)("div",{style:{width:re}}),(0,O.jsxs)("div",{style:{marginLeft:S.iI/2,marginRight:S.iI/2},children:[!t&&(0,O.jsx)(C,{disabled:m,size:re}),t&&(0,O.jsx)(Y,{color:t,size:re,square:!0})]}),(0,O.jsx)(j.ZP,{color:t,default:!t&&!m,monospace:!0,disabled:m,small:!0,children:f})]}),(0,O.jsx)("div",{style:{display:k?"none":"block"},children:P})]})},Pe=["files","setContextItem"];function Ze(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ze(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ze(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Se(e,n){var t=e.files,r=e.setContextItem,o=(0,H.Z)(e,Pe),i=(0,d.useContext)(y.ThemeContext);return(0,O.jsx)(ie,{ref:n,children:null===t||void 0===t?void 0:t.map((function(e){return(0,d.createElement)(Ce,Ie(Ie({},o),{},{file:e,key:e.name,level:0,setContextItem:r,theme:i}))}))})}!function(e){e.BLOCK_FILE="block_file",e.DISABLED="disabled",e.FILE="file",e.FOLDER="folder",e.PIPELINE="pipeline"}(Oe||(Oe={}));var Ee,Te=d.forwardRef(Se),De=t(86585);!function(e){e.FILE_BROWSER="file_browser"}(Ee||(Ee={}));var _e=y.default.div.withConfig({displayName:"ContextMenu__ContainerStyle",componentId:"sc-b9ha7f-0"})(["position:fixed;z-index:",";"," "," "," "," "," "," ",""],De.bf+100,(function(e){return"undefined"!==typeof e.left&&"\n    left: ".concat(e.left+5,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    right: ".concat(e.right,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")}),(function(e){return"undefined"===typeof e.top&&"undefined"===typeof e.bottom&&"\n    top: ".concat(De.Mz-1*S.iI,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&"\n    min-width: ".concat(33*S.iI,"px;\n  ")}));var Re=function(e){var n=e.areaRef,t=e.children,r=e.deleteBlockFile,o=e.enableContextItem,i=e.type,c=(0,d.useState)({x:0,y:0}),l=c[0],a=c[1],s=(0,d.useState)({}),p=s[0],f=s[1],h=(0,d.useState)(!1),m=h[0],v=h[1];(0,d.useEffect)((function(){return document.addEventListener("click",b),document.addEventListener("contextmenu",g),function(){document.addEventListener("click",b),document.removeEventListener("contextmenu",g)}}),[]);var b=(0,d.useCallback)((function(e){e.preventDefault(),v(!1)}),[v]),g=(0,d.useCallback)((function(e){n.current.contains(e.target)?(o||e.preventDefault(),a({x:e.pageX,y:e.pageY}),v(!0)):v(!1)}),[n,o,a,v]),x=(0,u.Z)({},Oe.BLOCK_FILE,[{label:function(){return"Delete"},onClick:function(){return r(p.data.block)},uuid:"delete block file"}]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(_e,{left:l.x,top:l.y,children:(0,O.jsx)(z,{compact:!0,items:x[o?p.type:i],open:m,parentRef:void 0,uuid:"ContextMenu"})}),d.Children.map(t,(function(e){return d.cloneElement(e,{setContextItem:f})}))]})},Ae=t(85202),Be=t(38789),Ne=t(66166),Fe="twilight",Le=t(2005),Me=t(31012),ze=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-w2hta3-0"})([""]),He=y.default.div.withConfig({displayName:"indexstyle__PlaceholderStyle",componentId:"sc-w2hta3-1"})(["padding-left:67px;position:absolute;z-index:1;"]);var Ue={"all-hallows-eve":"All Hallows Eve","birds-of-paradise":"Birds of Paradise","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","espresso-libre":"Espresso Libre","kuroir-theme":"Kuroir Theme","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","monokai-bright":"Monokai Bright","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night":"Tomorrow-Night","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",active4d:"Active4D",amy:"Amy",blackboard:"Blackboard",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel",github:"GitHub",idle:"IDLE",idlefingers:"idleFingers",iplastic:"iPlastic",katzenmilch:"Katzenmilch",krtheme:"krTheme",lazy:"LAZY",merbivore:"Merbivore",monoindustrial:"monoindustrial",monokai:"Monokai",spacecadet:"SpaceCadet",sunburst:"Sunburst",tomorrow:"Tomorrow",twilight:"Twilight",zenburnesque:"Zenburnesque"};var We=function(e){var n=e.autoHeight,r=e.autoSave,o=e.fontSize,i=void 0===o?Me.i3:o,c=e.height,u=e.language,a=e.onChange,s=e.onDidChangeCursorPosition,p=e.onSave,f=e.placeholder,h=e.selected,m=e.setSelected,v=e.setTextareaFocused,b=e.shortcuts,g=(e.showLineNumbers,e.textareaFocused),x=e.theme,y=e.value,k=e.width,w=void 0===k?"100%":k,C=(0,d.useRef)(null),P=(0,d.useRef)(null),Z=(0,d.useRef)(null),I=(0,d.useState)(!1),S=I[0],E=I[1],T=(0,d.useState)(c),D=(T[0],T[1],(0,d.useState)(x||Fe)),_=D[0],R=D[1],A=(0,d.useCallback)((function(e){e.languages.typescript.javascriptDefaults.setEagerModelSync(!0)}),[]),B=(0,d.useCallback)((function(e,t){C.current=e,P.current=t;var r=[];null===b||void 0===b||b.forEach((function(n){r.push(n(t,e))})),p&&r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"saveCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],label:"Save",precondition:null,run:function(e){n()}}}(t,(function(){p(e.getValue())}))),function(e,n,t){t.forEach((function(e){n.addAction(e)}))}(0,e,r),e.getModel().updateOptions({tabSize:4}),n&&!c&&(e._domElement.style.height="".concat(21*((y||"").split("\n").length+2),"px")),e.onDidFocusEditorWidget((function(){null===m||void 0===m||m(!0),null===v||void 0===v||v(!0)})),e.onDidContentSizeChange((function(t){var r=t.contentHeight,o=t.contentHeightChanged;n&&o&&(e._domElement.style.height="".concat(r+42,"px"))})),h&&g&&setTimeout((function(){e.focus()}),1),s&&e.onDidChangeCursorPosition((function(n){var t=n.position.lineNumber,r=e._domElement.getBoundingClientRect(),o=r.height,i=r.top;s({editorRect:{height:Number(o),top:Number(i)},position:{lineNumber:Number(t)}})})),E(!0)}),[n,c,s,p,Z.current,h,E,m,v,b,g,y]);(0,d.useEffect)((function(){(function(e){return new Promise((function(n){Promise.all([Be._m.init(),t(7432)("./".concat(Ue[e],".json"))]).then((function(t){var r=(0,l.Z)(t,2),o=r[0],i=r[1];i.colors["editor.background"]="#000000",i.colors["editor.foreground"]="#FFFFFF",o.editor.defineTheme(e,i),n()}))}))})(Fe).then((function(){R(Fe)}))}),[]),(0,d.useEffect)((function(){var e;return r&&p&&(e=setInterval((function(){p(C.current.getValue())}),5e3)),function(){r&&e&&clearInterval(e)}}),[r,C,p]);var N=(0,Ne.Z)(h),F=(0,Ne.Z)(g);return(0,d.useEffect)((function(){null!==C&&void 0!==C&&C.current&&(h&&g?setTimeout((function(){C.current.focus()}),1):Ae.findDOMNode(C.current._domElement).getElementsByClassName("inputarea")[0].blur())}),[C,h,N,g,F]),(0,O.jsxs)(ze,{style:{display:S?null:"none"},children:[f&&!(null!==y&&void 0!==y&&y.length)&&(0,O.jsx)(He,{children:(0,O.jsx)(j.ZP,{monospace:!0,muted:!0,children:f})}),(0,O.jsx)(Be.ZP,{beforeMount:A,height:c,language:u||"python",onChange:function(e){null===a||void 0===a||a(e)},onMount:B,options:{fontFamily:Le.Vp,fontLigatures:!0,fontSize:i,hideCursorInOverviewRuler:!0,minimap:{enabled:!1},overviewRulerBorder:!1,renderLineHighlightOnlyWhenFocus:!0,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},wordBasedSuggestions:!1},theme:_,value:y,width:w}),(0,O.jsx)("div",{ref:Z})]})},Ke=t(12691),Ge=t.n(Ke),Xe=t(39421),Ve=t(56663),qe=t.n(Ve),Ye=t(66757),Qe=t.n(Ye),Je=t(55361);var $e="current_group_id",en="current_group",nn="current_user";function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var n=qe()(e),t=n.current_group_id;return{id:t}}var r=Qe().get(en),o=Xe.Z.get($e,Je.Hu);if(r&&o)return r}function rn(){return Qe().get(nn)}function on(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?on(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ln(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return cn(cn({},t),{},{groupId:null===(e=tn())||void 0===e?void 0:e.id,id:null===(n=rn())||void 0===n?void 0:n.id})}var un=t(86954);function an(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?an(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function dn(){return[[un.go,"initialAsPath"],[un.iT,"initialPathname"],[un.FT,"notificationTemplate"],[un.Ll,"notificationUUID"],[un.$m,"referringURL"]].reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0],o=t[1];return sn(sn({},e),{},(0,u.Z)({},o,Xe.Z.get(r,un.vZ)))}),{})}var pn=t(36283);function fn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var mn="click",vn="button";function bn(e){var n,t,r=e.actionName,o=e.actionType,i=e.componentName,c=e.componentType,l=e.properties,u=e.screenName,a=(n=r||o,t=i||c,"".concat(u,".").concat(n,"_").concat(t)),s=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=dn(),o=(null!==t&&void 0!==t&&t.width,window.innerWidth);return hn(hn(hn({},t),r),{},{groupId:null===(e=tn())||void 0===e?void 0:e.id,partner_id:"Mage",screenSize:(0,pn.Z3)(o),userId:null===(n=rn())||void 0===n?void 0:n.id})}(hn({actionType:o,componentType:c},l));return{eventProperties:s,eventType:a,userProperties:ln()}}function gn(e,n){null===e||void 0===e||e(n)}var xn=function(e){var n=e.children;return e.eventProperties,e.userProperties,n((function(e){return!1}))};function yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?yn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var kn,wn,On=function(e){var n,t=e.buildChildren,r=e.disabled,o=e.eventActionName,i=void 0===o?mn:o,c=e.eventComponentName,l=void 0===c?vn:c,u=e.eventProperties,a=void 0===u?{}:u,s=e.eventScreenName,p=void 0===s?"generic":s,h=e.keyboardShortcutValidation,m=e.linkProps,v=e.onClick,b=e.openNewTab,g=e.requireKeyUp,x=e.uuid,y=(0,f.useRouter)(),j=(0,F.y)(),k=j.registerOnKeyDown,w=j.registerOnKeyUp,C=j.unregisterOnKeyDown,P=j.unregisterOnKeyUp;(0,d.useEffect)((function(){return function(){var e=g?P:C;null===e||void 0===e||e(x)}}),[g,C,P,x]),r||!v&&!m||(n=function(e){null===v||void 0===v||v(e),m&&(b?(window.open(m.as||m.href),e.preventDefault()):y.push(m.href,m.as))});var Z=bn({actionName:i,actionType:mn,componentName:l,componentType:vn,properties:a,screenName:p}),I=Z.eventType,S=Z.eventProperties,E=Z.userProperties;return(0,O.jsx)(xn,{eventProperties:S,userProperties:E,children:function(e){var r=e.logEvent;h&&n&&(g?w:k)(x,(function(e,t,o){h({keyHistory:o,keyMapping:t})&&(gn(r,I,{eventProperties:jn(jn({},S),{},{usedKeyboardShortcut:!0}),userProperties:E}),n(e))}),[S,I,r,n,E]);return t({eventProperties:S,eventType:I,logEvent:r,onClick:n,userProperties:E})}})},Cn={chatBubbleProps:null,graphicButtonProps:null,logoProps:null,mageImageUrl:null,mascotImageUrls:{base:null,castingSpell:null,chargingUp:null,thinking:null},sharedProps:null},Pn=d.createContext(Cn),Zn=Pn,In=t(86673),Sn=t(54283),En=t(10919),Tn=["Icon","afterElement","beforeElement","bold","borderless","centerText","children","compact","disabled","fitContentWidth","inverted","keyTextGroups","keyTextsPosition","linkProps","loading","mutedDisabled","onClick","type","useModelTheme"];function Dn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _n(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Dn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(kn||(kn={})),function(e){e.BUTTON="button",e.SUBMIT="submit"}(wn||(wn={}));var Rn=(0,y.css)([""," align-items:center;border:none;display:flex;flex-direction:row;position:relative;text-align:left;z-index:0;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(0,se.eR)(),(function(e){return!e.large1&&!e.large2&&"\n    ".concat(Me.iD,"\n  ")}),(function(e){return e.small&&"\n    ".concat(Me.HC,"\n  ")}),(function(e){return e.large1&&"\n    ".concat(Me.ln,"\n  ")}),(function(e){return e.large2&&"\n    ".concat(Me.QU,"\n  ")}),(function(e){return!e.inline&&"\n    width: 100%;\n  "}),(function(e){return e.shortWidth&&"\n    min-width: ".concat(28*S.iI,"px;\n  ")}),(function(e){return!e.wrapText&&"\n    white-space: nowrap;\n  "}),(function(e){return!e.secondary&&"\n    font-family: ".concat(Le.ry,";\n    justify-content: space-between;\n  ")}),(function(e){return e.center&&"\n    justify-content: center;\n  "}),(function(e){return!e.noPadding&&!e.spacious&&!e.compact&&"\n    padding: ".concat(1.25*S.iI,"px ").concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(.5*S.iI,"px ").concat(.75*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(.625*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(.625*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(.75*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(.75*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&!e.marketing&&"\n    padding: ".concat(2.25*S.iI,"px ").concat(3*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.marketing&&"\n    padding: ".concat(2.25*S.iI-2,"px ").concat(3*S.iI-2,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(1.125*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(1.125*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.secondary&&"\n    flex-basis: content;\n    font-family: ".concat(Le.nF,";\n    padding: 0;\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.bold&&"\n    font-family: ".concat(Le.nF,";\n  ")}),(function(e){return!e.muted&&!e.inverted&&"\n    color: ".concat((e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return!e.muted&&e.inverted&&"\n    color: ".concat((e.theme.content||k.Z.content).inverted,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).grey300,";\n  ")}),(function(e){return e.warning&&"\n    color: ".concat((e.theme.brand||k.Z.brand).energy400,";\n  ")}),(function(e){return e.noHover&&"\n    &:hover {\n      cursor: default;\n    }\n  "}),(function(e){return e.blackBorder&&"\n    border: ".concat(w.YF,"px ").concat(w.M8," ").concat((e.theme.monotone||k.Z.monotone).black,";\n  ")}),(function(e){return!e.pill&&!e.borderless&&!e.compact&&"\n    border-radius: ".concat(w.n_,"px;\n  ")}),(function(e){return e.compact&&"\n    border-radius: ".concat(w.BG,"px;\n  ")}),(function(e){return!e.borderRadiusLeft&&!e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-radius: ".concat(5*S.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&!e.spacious&&"\n    border-bottom-left-radius: ".concat(5*S.iI,"px;\n    border-top-left-radius: ").concat(5*S.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-bottom-right-radius: ".concat(5*S.iI,"px;\n    border-top-right-radius: ").concat(5*S.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&e.spacious&&"\n    border-bottom-left-radius: ".concat(8*S.iI,"px;\n    border-top-left-radius: ").concat(8*S.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&e.spacious&&"\n    border-bottom-right-radius: ".concat(8*S.iI,"px;\n    border-top-right-radius: ").concat(8*S.iI,"px;\n  ")}),(function(e){return!e.noBackground&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.inverted&&!e.noBackground&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).black,";\n  ")}),(function(e){return!e.inverted&&!e.noBackground&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).defaultBackground,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.noBackground&&"\n    background-color: transparent !important;\n  "}),(function(e){return e.disabled&&e.inverted&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.disabled&&!e.inverted&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).grey300," !important;\n  ")}),(function(e){return e.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).black,";\n    color: ").concat((e.theme.monotone||k.Z.monotone).white,";\n  ")}),(function(e){return e.selected&&e.grey300&&"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).grey300,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.fire&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).fire400,";\n  ")}),(function(e){return e.useModelTheme&&"\n    color: ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.earth&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).earth400,";\n  ")}),(function(e){return e.primaryEnergy&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).energy400,";\n    border: none;\n    font-family: ").concat(Le.nF,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.wind&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).wind400,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.water&&"\n    background-color: ".concat((e.theme.brand||k.Z.brand).water400,";\n  ")}),(function(e){return e.withIcon&&"\n    padding: ".concat(1.25*S.iI-1,"px !important;\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).large,";\n  ")})),An=y.default.button.withConfig({displayName:"KeyboardShortcutButton__ButtonStyle",componentId:"sc-10tm4pj-0"})(["",""],Rn),Bn=y.default.a.withConfig({displayName:"KeyboardShortcutButton__AnchorStyle",componentId:"sc-10tm4pj-1"})([""," ",""],Rn,En.R),Nn=y.default.span.withConfig({displayName:"KeyboardShortcutButton__SpanStyle",componentId:"sc-10tm4pj-2"})(["margin-right:","px;"],1*S.iI);var Fn=function(e){var n=e.Icon,t=e.afterElement,r=e.beforeElement,o=e.bold,i=e.borderless,c=e.centerText,l=e.children,a=e.compact,s=e.disabled,p=e.fitContentWidth,f=e.inverted,h=e.keyTextGroups,m=e.keyTextsPosition,v=void 0===m?kn.RIGHT:m,b=e.linkProps,g=e.loading,x=e.mutedDisabled,y=e.onClick,j=e.type,k=void 0===j?wn.BUTTON:j,w=e.useModelTheme,C=(0,H.Z)(e,Tn),P=b||{},Z=P.as,I=P.href,E=Z||I?Bn:An,D=(0,d.useMemo)((function(){if(!h)return null;var e=(0,u.Z)({},v===kn.RIGHT?"ml":"mr",l?1:0);return(0,O.jsx)(In.Z,_n(_n({},e),{},{children:(0,O.jsx)(T,{borderless:f,disabled:s,keyTextGroups:h,mutedDisabled:x})}))}),[l,s,f,h,v,x]),_=((0,d.useContext)(Zn)||{}).sharedProps;return(0,O.jsx)(On,_n(_n({},C),{},{buildChildren:function(e){var u=e.eventProperties,d=e.eventType,h=e.logEvent,m=e.onClick,y=e.userProperties,j=(0,O.jsxs)(E,_n(_n(_n({},C),w?_:{}),{},{center:c,compact:a,bold:w||o,borderless:w||i,disabled:s||x,fitContentWidth:p,inverted:f,noHover:!m&&!(Z||I)&&k===wn.BUTTON,onClick:function(e){gn(h,d,{eventProperties:u,userProperties:y}),null===m||void 0===m||m(e)},type:Z||I?null:k,useModelTheme:w,withIcon:!!n,children:[r&&!g&&(0,O.jsxs)(O.Fragment,{children:[r,(0,O.jsx)(In.Z,{mr:1})]}),v===kn.LEFT&&D,(0,O.jsxs)(U.Z,{alignItems:"center",children:[n&&(0,O.jsx)(n,{inverted:!f,muted:s||x,size:2.5*S.iI}),n&&l&&(0,O.jsx)(In.Z,{mr:1}),g&&(0,O.jsx)(Nn,{children:(0,O.jsx)(Sn.Z,{inverted:!f})}),!g&&l]}),v===kn.RIGHT&&D&&(0,O.jsx)(In.Z,{ml:1,children:D}),t&&!g&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(In.Z,{ml:t?1:0}),t]})]}));return!Z&&!I||s||x?j:(0,O.jsx)(Ge(),_n(_n({},b),{},{passHref:!0,children:j}))},disabled:s||x,linkProps:b,onClick:y}))},Ln=t(50079),Mn=t(96510);function zn(e,n){var t=e.map((function(e){return String(e)})),r=e.includes(N.PQ),o=e.includes(N.zX),i=e.includes(N.XR),c=N.xU.map((function(e){return String(e)})),u=N.vk.map((function(e){return String(e)})),a=N.Tr.map((function(e){return String(e)})),s=Object.entries(n).find((function(e){var n=(0,l.Z)(e,2),s=n[0];return n[1]&&!t.includes(String(s))&&(!o||!u.includes(String(s)))&&(!r||!c.includes(String(s)))&&(!i||!a.includes(String(s)))}));return e.every((function(e){return n[e]}))&&!s}function Hn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Un(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Hn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Wn=function(e){var n=e.addNewBlock,t=e.filePath,r=(e.pipeline,e.setFilesTouched),o=(0,d.useState)(null),c=o[0],a=o[1],s=Ln.ZP.file_contents.detail(t).data;(0,d.useEffect)((function(){null!==s&&void 0!==s&&s.file_content&&a(s.file_content)}),[s]);var f=(0,d.useState)(null===c||void 0===c?void 0:c.content),h=f[0],m=f[1],v=(0,d.useState)(!1),b=v[0],g=v[1],x=(0,p.Db)(Ln.ZP.file_contents.useUpdate(null===c||void 0===c?void 0:c.path),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(){return!0},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),y=(0,l.Z)(x,1)[0],j=function(e,n){y({file_content:Un(Un({},n),{},{content:e})}),r((function(e){return Un(Un({},e),{},(0,u.Z)({},null===n||void 0===n?void 0:n.path,!1))})),g(!1)},k=(0,d.useMemo)((function(){return new RegExp(Object.keys(te).map((function(e){return".(".concat(e,")$")})).join("|"))}),[]),w=(0,d.useMemo)((function(){var e;return null===c||void 0===c||null===(e=c.path.match(k)[0])||void 0===e?void 0:e.split(".")[1]}),[k,c]),C=(0,d.useMemo)((function(){if(null!==c&&void 0!==c&&c.path)return(0,O.jsx)(We,{autoHeight:!0,language:te[w],onSave:function(e){j(e,c)},onChange:function(e){m(e),r((function(e){return Un(Un({},e),{},(0,u.Z)({},null===c||void 0===c?void 0:c.path,!0))})),g(!0)},selected:!0,textareaFocused:!0,value:null===c||void 0===c?void 0:c.content,width:"100%"})}),[c,w,j,r]),P=w===q.PY&&le(c.path.split("/"))!==i.SCRATCHPAD&&(0,O.jsx)(In.Z,{p:2,children:(0,O.jsx)(Fn,{inline:!0,onClick:function(){return n({type:le(c.path.split("/")),uuid:ue(c.path.split("/"))})},uuid:"FileEditor/AddToCurrentPipeline",children:"Add to current pipeline"})}),Z="FileEditor/".concat(null===c||void 0===c?void 0:c.path),I=(0,F.y)(),S=I.registerOnKeyDown,E=I.unregisterOnKeyDown;return(0,d.useEffect)((function(){return function(){E(Z)}}),[E,Z]),S(Z,(function(e,n,t){if(zn([N.zX,N.Um],n))e.preventDefault(),j(h,c);else if(b&&zn([N.zX,N.hS],n)){e.preventDefault();var r="".concat(c.path," has changes that are unsaved. ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[h,c,j,b]),(0,O.jsxs)(O.Fragment,{children:[C,P]})},Kn=t(47999),Gn=y.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-y3uzxv-0"})(["padding:","px;&:hover{cursor:pointer;","}",""],S.iI,(function(e){return"\n      background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")}));function Xn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xn(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qn=function(e){var n=e.fetchFileTree,t=e.interruptKernel,r=e.restartKernel,o=e.savePipelineContent,i=e.setMessages,c=(0,f.useRouter)(),a=(0,d.useState)(null),s=a[0],h=a[1],m=(0,d.useRef)(null),v=(0,d.useRef)(null),b=(0,p.Db)(Ln.ZP.pipelines.useCreate(),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(e){var t=e.pipeline.uuid;c.push("/pipelines/[...slug]","/pipelines/".concat(t)),n()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),g=(0,l.Z)(b,1)[0],y=[{label:function(){return"New pipeline"},onClick:function(){return g({pipeline:{name:(0,ge.Y6)()}})},uuid:"new pipeline"},{label:function(){return"Save pipeline"},keyTextGroups:[[N.RJ,N.SS]],onClick:function(){return o()},uuid:"save pipeline"}],k=[{label:function(){return"Interrupt kernel"},keyTextGroups:[[N.kA],[N.kA]],onClick:function(){return t()},uuid:"Interrupt kernel"},{label:function(){return"Restart kernel"},keyTextGroups:[[N.t_[N.OC]],[N.t_[N.OC]]],onClick:function(){return r()},uuid:"Restart kernel"},{label:function(){return"Clear all outputs"},onClick:function(){return i((function(e){return Object.keys(e).reduce((function(e,n){return Vn(Vn({},e),{},(0,u.Z)({},n,[]))}),{})}))},uuid:"Clear all outputs"}],w="FileHeaderMenu/index",C=(0,F.y)(),P=C.registerOnKeyDown,Z=C.unregisterOnKeyDown;return(0,d.useEffect)((function(){return function(){Z(w)}}),[Z,w]),P(w,(function(e,n,t){null!==s&&(n[N.QK]?h((function(e){return 0===e?1:e-1})):n[N.DY]&&h((function(e){return 1===e?0:e+1})))}),[s,h]),(0,O.jsx)(Kn.Z,{onClickOutside:function(){return h(null)},open:!0,style:{position:"relative"},children:(0,O.jsxs)(x.Z,{children:[(0,O.jsxs)("div",{style:{position:"relative"},children:[(0,O.jsx)(Gn,{highlighted:0===s,onClick:function(){return h((function(e){return 0===e?null:0}))},onMouseEnter:function(){return h((function(e){return null!==e?0:null}))},ref:m,children:(0,O.jsx)(j.ZP,{children:"File"})}),(0,O.jsx)(z,{items:y,onClickCallback:function(){return h(null)},open:0===s,parentRef:m,uuid:"FileHeaderMenu/file_items"})]}),(0,O.jsxs)("div",{style:{position:"relative"},children:[(0,O.jsx)(Gn,{highlighted:1===s,onClick:function(){return h((function(e){return 1===e?null:1}))},onMouseEnter:function(){return h((function(e){return null!==e?1:null}))},ref:v,children:(0,O.jsx)(j.ZP,{children:"Run"})}),(0,O.jsx)(z,{items:k,onClickCallback:function(){return h(null)},open:1===s,parentRef:v,uuid:"FileHeaderMenu/run_items"})]})]})})},Yn=t(57384),Qn=t(82944),Jn=t(60328),$n=(0,y.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),et=y.default.div.withConfig({displayName:"TooltipWrapper__ContainerStyle",componentId:"sc-1dd57l8-0"})(["",""],$n),nt=y.default.span.withConfig({displayName:"TooltipWrapper__ContainerSpanStyle",componentId:"sc-1dd57l8-1"})(["",""],$n),tt=y.default.a.withConfig({displayName:"TooltipWrapper__HoverStyle",componentId:"sc-1dd57l8-2"})([""," "," border-radius:50%;"," "," &:active,&:focus{outline:none;}",""],(0,se.eR)(),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return!e.block&&"\n    display: inline-block;\n  "}),(function(e){return e.block&&"\n    display: block;\n  "}),(function(e){return!e.noHoverOutline&&"\n    &:hover {\n      cursor: pointer;\n\n      box-shadow:\n        0 0 0 ".concat(w.PV,"px ").concat((0,Jn.W)(e),",\n        0 0 0 ").concat(w.PV+w.q2,"px ").concat((e.theme.interactive||k.Z.interactive).hoverOverlay,";\n    }\n  ")})),rt=y.default.span.withConfig({displayName:"TooltipWrapper__BasicStyle",componentId:"sc-1dd57l8-3"})([""]),ot=y.default.div.withConfig({displayName:"TooltipWrapper__ContentStyle",componentId:"sc-1dd57l8-4"})(["position:absolute;z-index:3;"," "," "," "," "," "," "," "," ",""],(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).base,";\n  ")}),(function(e){return e.appearAbove&&!e.size&&"\n    bottom: 0;\n  "}),(function(e){return e.appearAbove&&e.size&&"\n    bottom: ".concat(e.size+w.PV+w.q2,"px;\n  ")}),(function(e){return e.appearBefore&&"\n    right: 0;\n  "}),(function(e){return e.leftPosition&&"\n    left: ".concat(e.leftPosition,"px;\n  ")}),(function(e){return!e.leftPosition&&e.rightPosition&&"\n    right: 0px;\n  "}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n  ")}),(function(e){return e.widthFitContent&&"\n    width: max-content;\n  "}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}));var it=function(e){var n=e.alignLeft,t=e.appearAbove,r=e.appearBefore,o=e.autoWidth,i=e.basic,c=e.block,l=e.center,u=e.children,a=e.content,s=e.inline,p=e.minWidth,f=e.noHoverOutline,h=e.size,m=void 0===h?2*S.iI:h,v=e.topOffset,b=e.widthFitContent,g=(0,d.useState)(!1),x=g[0],y=g[1],j=(0,d.useState)(!1),k=j[0],w=j[1],C=(p-m)/-2,P=s?nt:et,Z=i?rt:tt,I=(0,O.jsx)(Z,{block:c,href:"#",noHoverOutline:f,onClick:function(e){return e.preventDefault()},onMouseEnter:function(){return y(!0)},size:m,children:u});return(0,d.useEffect)((function(){var e=setInterval((function(){return w(!0)}),1e3);return x||clearInterval(e),function(){return clearInterval(e)}}),[w,x]),(0,O.jsxs)(P,{onMouseLeave:function(){y(!1),w(!1)},size:m,children:[I,k&&(0,O.jsx)(ot,{appearAbove:t,appearBefore:r,leftPosition:l?C:null,minWidth:o?p:null,rightPosition:n,size:m,topOffset:v,widthFitContent:b,children:a})]})},ct=["autoWidth","children","default","description","inverted","keyboardShortcuts","label","maxWidth","muted","size","warning","widthFitContent"];function lt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ut(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?lt(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var at=42*S.iI,st=((0,y.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),(0,y.css)(["border-radius:","px;"," "," ",""],w.BG,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).popup,";\n\n    background-color: ").concat((e.theme.background||k.Z.background).popup,";\n  ")}),(function(e){return e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(at,"px;\n  ")}))),dt=y.default.div.withConfig({displayName:"Tooltip__LabelStyle",componentId:"sc-allmdq-0"})([""," padding:","px ","px;"],st,.75*S.iI,1*S.iI),pt=y.default.div.withConfig({displayName:"Tooltip__DescriptionStyle",componentId:"sc-allmdq-1"})([""," padding:","px ","px;"],st,1.5*S.iI,2*S.iI);var ft=function(e){var n=e.autoWidth,t=e.children,r=e.default,o=e.description,i=e.inverted,c=e.keyboardShortcuts,l=e.label,u=e.maxWidth,a=e.muted,s=e.size,p=void 0===s?2*S.iI:s,f=e.warning,h=e.widthFitContent,m=(0,H.Z)(e,ct),v=o||l||"",b=o?pt:dt,g=Math.min(u||at,v.length*S.Fo),y=[];null===c||void 0===c||c.forEach((function(e,n){n>=1&&y.push((0,O.jsx)(j.ZP,{default:!0,children:"+"})),y.push(e)}));var k=y.map((function(e,n){var t="keyboard-shortcut-".concat(n);return"string"===typeof e?(0,O.jsx)("span",{children:e},t):d.cloneElement(e,{key:t})}));return(0,O.jsx)(it,ut(ut({},m),{},{autoWidth:n,content:(0,O.jsx)(b,{autoWidth:n,width:u,widthFitContent:h,children:(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsx)(j.ZP,{whiteSpaceNormal:!0,children:v}),k.length>=1&&(0,O.jsx)(j.ZP,{muted:!0,children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),k.length>=1&&k]})}),minWidth:g,noHoverOutline:!!t,size:p,widthFitContent:h,children:t||(0,O.jsx)(D.kI,{default:r,inverted:i,muted:a,size:p,warning:f})}))},ht=["bold","defaultColor","description","disableWordBreak","inputValue","inputWidth","invertedTheme","label","menuOpen","monospace","muted","onClick","notRequired","selectedTextProps","small","stacked","tooltipProps","value"];function mt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?mt(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var bt=y.default.div.withConfig({displayName:"LabelWithValueClicker__LabelStyle",componentId:"sc-1hzpn4h-0"})(["margin-bottom:","px;"],.25*S.iI),gt=y.default.div.withConfig({displayName:"LabelWithValueClicker__DescriptionStyle",componentId:"sc-1hzpn4h-1"})([""]);var xt=function(e){var n=e.bold,t=void 0===n||n,r=e.defaultColor,o=e.description,i=e.disableWordBreak,c=e.inputValue,l=e.inputWidth,u=e.invertedTheme,a=e.label,s=e.menuOpen,p=void 0!==s&&s,f=e.monospace,h=e.muted,m=e.onClick,v=e.notRequired,b=e.selectedTextProps,g=e.small,y=e.stacked,k=e.tooltipProps,w=e.value,C=(0,H.Z)(e,ht),P=(0,d.useRef)(null),Z=(0,d.useState)(!1),I=Z[0],S=Z[1],E=(0,d.useState)(!1),T=E[0],D=E[1],_=a&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(j.ZP,{bold:t,inverted:u,lineHeight:20,monospace:f,muted:h,small:g,children:a}),k&&(0,O.jsx)(In.Z,{ml:1,children:(0,O.jsx)(ft,vt({muted:!0},k))})]}),R=(0,O.jsxs)(O.Fragment,{children:[w&&(0,O.jsx)(En.Z,{block:!0,danger:null===b||void 0===b?void 0:b.danger,fullWidth:!0,muted:h,onClick:function(){m(),P.current&&P.current.focus(),S(!0)},preventDefault:!0,sameColorAsText:h||!(null!==b&&void 0!==b&&b.primary)&&!(null!==b&&void 0!==b&&b.danger)&&!(null!==b&&void 0!==b&&b.warning),underline:null===b||void 0===b?void 0:b.underline,warning:null===b||void 0===b?void 0:b.warning,children:(0,O.jsx)(j.ZP,vt(vt({inverted:u,muted:h},b),{},{disableWordBreak:i,monospace:f,small:g,width:l,children:w}))}),(0,O.jsx)(Qn.Z,vt(vt({},C),{},{basic:!0,defaultColor:r,invertedTheme:u,monospace:f,onBlur:function(e){S(!1),C.onBlur&&C.onBlur(e),T||D(!0)},onFocus:function(e){S(!0),C.onFocus&&C.onFocus(e)},ref:P,small:g,value:c,visible:!w}))]}),A=o&&(0,O.jsx)(gt,{children:(0,O.jsx)(j.ZP,{dangerouslySetInnerHTML:{__html:o},monospace:f,muted:!0,small:g})});return(0,O.jsxs)(O.Fragment,{children:[y&&(0,O.jsxs)(O.Fragment,{children:[_&&(0,O.jsxs)(bt,{children:[(0,O.jsx)(x.Z,{alignItems:"center",fullHeight:!1,fullWidth:!0,children:_}),A]}),R]}),!y&&(0,O.jsxs)(x.Z,{alignItems:"center",fullWidth:!0,children:[_&&(0,O.jsxs)(O.Fragment,{children:[_,(0,O.jsx)(In.Z,{ml:1})]}),(0,O.jsx)(U.Z,{flex:"1",children:R})]}),T&&!I&&!w&&!p&&!v&&(0,O.jsx)(j.ZP,{danger:!0,small:g,children:"This field is required."})]})},yt=t(37391),jt=64*S.iI,kt=3*S.cd*S.iI,wt=kt,Ot=35*S.iI,Ct=.5*S.iI,Pt=13*S.iI,Zt=3*S.cd*S.iI,It=(y.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1lxpneo-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Ot,"px;\n    width: calc(100% - ").concat(Ot,"px);\n  ")})),y.default.div.withConfig({displayName:"indexstyle__TabStyle",componentId:"sc-1lxpneo-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],w.n_,w.n_,1*S.iI,2*S.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||k.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*S.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")})),(0,y.css)(["height:calc(100% - ","px);position:fixed;top:","px;z-index:2;",""],Zt,Zt,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).sidePanel,";\n  ")}))),St=(0,y.css)([""," height:100%;overflow:auto;position:relative;z-index:2;"],yt.w5),Et=(0,y.css)(["height:calc(100% + ","px);position:absolute;top:-","px;width:","px;z-index:6;&:hover{","}"," ",""],Zt,Zt,Ct,(function(e){return!e.disabled&&"\n      border-color: ".concat((e.theme.text||k.Z.text).fileBrowser," !important;\n    ")}),(function(e){return!e.disabled&&"\n    cursor: col-resize;\n  "}),(function(e){return e.active&&!e.disabled&&"\n    border-color: ".concat((e.theme.text||k.Z.text).fileBrowser," !important;\n  ")})),Tt=y.default.div.withConfig({displayName:"indexstyle__AsideHeaderStyle",componentId:"sc-1lxpneo-2"})(["border-bottom:1px solid transparent;height:","px;position:fixed;top:0;z-index:4;"," "," ",""],Zt,(0,yt.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).sidePanel,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||k.Z.borders).medium," !important;\n  ")})),Dt=y.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-1lxpneo-3"})([""," left:0;"],It),_t=y.default.div.withConfig({displayName:"indexstyle__BeforeInnerStyle",componentId:"sc-1lxpneo-4"})(["",""],St),Rt=y.default.aside.withConfig({displayName:"indexstyle__AfterStyle",componentId:"sc-1lxpneo-5"})([""," right:0;"],It),At=y.default.div.withConfig({displayName:"indexstyle__AfterInnerStyle",componentId:"sc-1lxpneo-6"})(["",""],St),Bt=y.default.div.withConfig({displayName:"indexstyle__DraggableStyle",componentId:"sc-1lxpneo-7"})([""," "," ",""],Et,(function(e){return"undefined"!==typeof e.left&&"\n    border-left: 1px solid transparent;\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    border-right: 1px solid transparent;\n    right: ".concat(e.right,"px;\n  ")})),Nt=y.default.div.withConfig({displayName:"indexstyle__MainWrapper",componentId:"sc-1lxpneo-8"})(["height:100%;position:fixed;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeArea,";\n  ")})),Ft=y.default.div.withConfig({displayName:"indexstyle__MainContentStyle",componentId:"sc-1lxpneo-9"})(["position:fixed;z-index:2;",""],(function(e){return"\n    height: calc(100% - ".concat(e.headerOffset||0,"px);\n    top: ").concat(e.headerOffset||0,"px;\n  ")})),Lt=y.default.div.withConfig({displayName:"indexstyle__MainContentInnerStyle",componentId:"sc-1lxpneo-10"})([""," height:100%;overflow:auto;"],yt.w5),Mt=300,zt=y.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],Mt,Mt),Ht=y.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeArea,";\n  ")})),Ut=y.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;position:sticky;top:0;width:100%;z-index:5;",""],Zt,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).codeArea,";\n    border-bottom: 1px solid ").concat((e.theme.borders||k.Z.borders).light,";\n  ")})),Wt=y.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["border-left:1px solid transparent;height:100%;padding:","px ","px;"," "," ",""],S.iI,S.cd*S.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||k.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||k.Z.borders).light," !important;\n  ")})),Kt=t(33766);var Gt,Xt,Vt=function(e){var n=e.filePaths,t=e.filesTouched,r=e.isBusy,o=e.isPipelineUpdating,i=e.kernel,c=e.pipeline,l=e.pipelineContentTouched,u=e.pipelineLastSaved,a=(e.restartKernel,e.selectedFilePath),s=e.updatePipelineName,p=(0,d.useContext)(y.ThemeContext),f=i||{},h=f.alive,m=f.name,v=(0,d.useState)(!1),b=v[0],g=v[1],w=(0,d.useState)(""),C=w[0],P=w[1];(0,d.useEffect)((function(){null!==c&&void 0!==c&&c.uuid&&P(c.uuid)}),[null===c||void 0===c?void 0:c.uuid]);var Z,I=(0,d.useMemo)((function(){return n.map((function(e){return decodeURIComponent(e)}))}),[n]);Z=l?"Unsaved changes":o?"Saving changes...":u?"Last saved ".concat((0,ge.JX)(Number(u)/1e3)):"All changes saved";var E=(0,d.useMemo)((function(){return(0,O.jsx)(xt,{bold:!1,inputValue:C,notRequired:!0,onBlur:function(){return setTimeout((function(){return g(!1)}),300)},onChange:function(e){P(e.target.value),e.preventDefault()},onClick:function(){return g(!0)},onFocus:function(){return g(!0)},stacked:!0,value:b?null:(null===c||void 0===c?void 0:c.uuid)||""})}),[b,C,c]),T=(0,d.useMemo)((function(){return(0,O.jsxs)(U.Z,{alignItems:"center",children:[(0,O.jsx)(Y,{color:r?(p||k.Z).borders.info:h?(p||k.Z).borders.success:(p||k.Z).borders.danger,size:S.iI}),(0,O.jsx)(In.Z,{mr:1}),(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsxs)(j.ZP,{children:["Pipeline:\xa0",a&&(null===c||void 0===c?void 0:c.uuid)]}),!a&&E]}),(0,O.jsx)(In.Z,{mr:3})]})}),[h,r,c,E,a,p]);return(0,O.jsx)(Ut,{children:(0,O.jsxs)(x.Z,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,O.jsxs)(x.Z,{alignItems:"center",fullHeight:!0,justifyContent:"flex-start",children:[(0,O.jsxs)(In.Z,{px:S.cd,children:[a&&(0,O.jsx)(En.Z,{noHoverUnderline:!0,noOutline:!0,onClick:a?function(){return(0,Kt.u)({file_path:null})}:null,preventDefault:!0,children:T}),!a&&(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsx)(ft,{block:!0,label:h?"".concat(m," kernel is ").concat(r?"busy":"alive"):"Kernel is dead",size:null,widthFitContent:!0,children:T}),b&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(En.Z,{onClick:function(){s(C),g(!1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),null===I||void 0===I?void 0:I.map((function(e){var n=a===encodeURIComponent(e);return(0,O.jsx)(x.Z,{flexDirection:"column",fullHeight:!0,justifyContent:"flex-end",onClick:function(t){t.preventDefault(),n||(0,Kt.u)({file_path:encodeURIComponent(e)})},children:(0,O.jsx)(Wt,{selected:n,children:(0,O.jsxs)(x.Z,{alignItems:"center",fullHeight:!0,children:[!t[e]&&(0,O.jsx)(D.iU,{muted:!n,size:1.5*S.iI}),t[e]&&(0,O.jsx)(ft,{label:"Unsaved changes",size:null,widthFitContent:!0,children:(0,O.jsx)("div",{style:{padding:1},children:(0,O.jsx)(Y,{borderColor:(p||k.Z).borders.danger,size:1.25*S.iI})})}),(0,O.jsx)(In.Z,{mr:1}),(0,O.jsx)(j.ZP,{muted:!n,children:e}),(0,O.jsx)(In.Z,{mr:2}),n&&(0,O.jsx)(ft,{label:"Close",size:null,widthFitContent:!0,children:(0,O.jsx)(En.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var n=(0,je.Od)(I,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,Kt.u)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})},preventDefault:!0,children:(0,O.jsx)(D.x8,{size:1.25*S.iI})})}),!n&&(0,O.jsx)("div",{style:{width:1.25*S.iI}})]})})},e)}))]}),!a&&(0,O.jsx)(In.Z,{px:S.cd,children:(0,O.jsx)(j.ZP,{muted:!0,children:Z})})]})})};!function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(Gt||(Gt={})),function(e){e.IMAGE_PNG="image/png",e.TABLE="table",e.TEXT="text",e.TEXT_PLAIN="text/plain"}(Xt||(Xt={}));var qt,Yt=[Xt.TEXT,Xt.TEXT_PLAIN];!function(e){e.STATUS="status",e.STREAM="stream"}(qt||(qt={}));var Qt=t(56085),Jt=t(16910);var $t,er,nr=function(e){var n=e.children,t=e.compact,r=e.items,o=e.open,i=e.onClickOutside,c=e.parentRef,l=e.uuid;return(0,O.jsx)(Kn.Z,{onClickOutside:i,open:!0,children:(0,O.jsxs)("div",{style:{position:"relative",zIndex:100},children:[(0,O.jsx)("div",{ref:c,children:n}),(0,O.jsx)(z,{compact:t,items:r,onClickCallback:i,open:o,parentRef:c,uuid:l})]})})};!function(e){e.BIGQUERY="bigquery",e.FILE="file",e.GENERIC="generic",e.POSTGRES="postgres",e.REDSHIFT="redshift",e.S3="s3",e.SNOWFLAKE="snowflake"}(er||(er={}));var tr=($t={},(0,u.Z)($t,er.BIGQUERY,"Google BigQuery"),(0,u.Z)($t,er.FILE,"Local file"),(0,u.Z)($t,er.GENERIC,"Generic (no template)"),(0,u.Z)($t,er.POSTGRES,"PostgreSQL"),(0,u.Z)($t,er.REDSHIFT,"Amazon Redshift"),(0,u.Z)($t,er.S3,"Amazon S3"),(0,u.Z)($t,er.SNOWFLAKE,"Snowflake"),$t),rr=[er.GENERIC,er.FILE,er.BIGQUERY,er.POSTGRES,er.REDSHIFT,er.S3,er.SNOWFLAKE],or=S.cd*S.iI,ir=y.default.div.withConfig({displayName:"indexstyle__IconContainerStyle",componentId:"sc-oyfjzc-0"})(["align-items:center;border-radius:","px;border:1px solid transparent;display:flex;justify-content:center;"," "," "," "," "," ",""],w.BG,(function(e){return e.border&&"\n    border: 1px dotted ".concat((e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return e.blue&&"\n    background-color: ".concat(de(i.DATA_LOADER,e).accent,";\n  ")}),(function(e){return e.purple&&"\n    background-color: ".concat(de(i.TRANSFORMER,e).accent,";\n  ")}),(function(e){return e.yellow&&"\n    background-color: ".concat(de(i.DATA_EXPORTER,e).accent,";\n  ")}),(function(e){return!e.compact&&"\n    height: ".concat(or+S.iI/2,"px;\n    width: ").concat(or+S.iI/2,"px;\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(or/2+S.iI,"px;\n    width: ").concat(or/2+S.iI,"px;\n  ")}));function cr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function lr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?cr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):cr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ur=function(e){var n=e.addNewBlock,t=e.compact,r=(0,d.useState)(null),o=r[0],c=r[1],l=(0,d.useRef)(null),u={compact:t,inline:!0},a=rr.map((function(e){return{label:function(){return tr[e]},onClick:function(){n({config:{data_source:e===er.GENERIC?null:e},type:i.DATA_LOADER})},uuid:e}}));return(0,O.jsxs)(x.Z,{inline:!0,children:[(0,O.jsx)(Fn,lr(lr({},u),{},{beforeElement:(0,O.jsx)(ir,{compact:t,purple:!0,children:(0,O.jsx)(D.mm,{size:t?or/2:or})}),onClick:function(e){e.preventDefault(),n({type:i.TRANSFORMER})},uuid:"AddNewBlocks/Transformer",children:"Transformer"})),(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(nr,{items:a,onClickOutside:function(){return c(null)},open:1===o,parentRef:l,uuid:"data_loader_button",children:(0,O.jsx)(Fn,lr(lr({},u),{},{beforeElement:(0,O.jsx)(ir,{blue:!0,compact:t,children:(0,O.jsx)(D.mm,{size:t?or/2:or})}),onClick:function(e){e.preventDefault(),c((function(e){return 1===e?null:1}))},uuid:"AddNewBlocks/Data_loader",children:"Data loader"}))}),(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(Fn,lr(lr({},u),{},{beforeElement:(0,O.jsx)(ir,{compact:t,yellow:!0,children:(0,O.jsx)(D.mm,{inverted:!0,size:t?or/2:or})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_EXPORTER})},uuid:"AddNewBlocks/Data_exporter",children:"Data exporter"})),(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(Fn,lr(lr({},u),{},{beforeElement:(0,O.jsx)(ir,{border:!0,compact:t,children:(0,O.jsx)(D.mm,{size:t?or/2:or})}),onClick:function(e){e.preventDefault(),n({type:i.SCRATCHPAD})},uuid:"AddNewBlocks/Scratchpad",children:"Scratchpad"}))]})},ar=t(89565),sr=t.n(ar),dr=t(62976),pr=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-n38rkq-0"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;overflow:hidden;"," ",""],pe,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).table,";\n  ")}),(function(e){return!e.executedAndIdle&&"\n    border-bottom-left-radius: ".concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),fr=y.default.div.withConfig({displayName:"indexstyle__OutputRowStyle",componentId:"sc-n38rkq-1"})(["padding-left:","px;padding-right:","px;"," ",""],68,S.iI*S.cd,(function(e){return e.first&&"\n    padding-top: ".concat(S.iI*S.cd,"px;\n  ")}),(function(e){return e.last&&"\n    padding-bottom: ".concat(S.iI*S.cd,"px;\n  ")})),hr=y.default.div.withConfig({displayName:"indexstyle__ExtraInfoStyle",componentId:"sc-n38rkq-2"})([""," border-bottom-style:solid;border-bottom-width:2px;border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;",""],pe,(function(e){return"\n    background-color: ".concat((e.theme.borders||k.Z.borders).light,";\n    border-bottom-left-radius: ").concat(w.n_,"px;\n    border-bottom-right-radius: ").concat(w.n_,"px;\n  ")})),mr=y.default.div.withConfig({displayName:"indexstyle__ExtraInfoContentStyle",componentId:"sc-n38rkq-3"})(["padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;"],S.iI,68,S.iI*S.cd,S.iI),vr=y.default.div.withConfig({displayName:"indexstyle__ExtraInfoBorderStyle",componentId:"sc-n38rkq-4"})(["height:1px;width:100%;",""],(function(e){return"\n    border-top: 1px solid ".concat((e.theme.borders||k.Z.borders).medium,";\n  ")}));function br(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?br(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):br(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xr=function(e){var n=e.block,t=e.hasError,r=e.isInProgress,o=e.mainContainerWidth,i=e.messages,c=e.runCount,l=e.runEndTime,u=e.runStartTime,a=e.selected,s=n.status,p=n.type,f=(0,d.useMemo)((function(){return(null===i||void 0===i?void 0:i.length)||0}),[i]),m=(i[0].type,h.EXECUTED===s||!r&&0===c&&f>=1||!r&&c>=1&&l>=u),v=(0,d.useCallback)((function(e){var n=e.columns,t=e.index,r=e.rows;return r.length>=1&&(0,O.jsx)(dr.Z,{columns:n,disableScrolling:!a,maxHeight:49.5*S.iI,index:t,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:r,width:o-(2+S.cd*S.iI*2+2+yt.nn)})}),[a,o]),b=/\[__internal_output__\]/,g=function(e){return Array.isArray(e)?e.join("\n"):e},y=(0,d.useMemo)((function(){return i.reduce((function(e,n){var t=e.at(-1);return Yt.includes(null===t||void 0===t?void 0:t.type)&&(null===t||void 0===t?void 0:t.type)===n.type&&!g(null===n||void 0===n?void 0:n.data).match(b)?t.data+=g(n.data):Yt.includes(null===n||void 0===n?void 0:n.type)&&!g(null===n||void 0===n?void 0:n.data).match(b)?e.push(gr(gr({},n),{},{data:g(n.data)})):e.push(gr({},n)),e}),[])}),[i]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(pr,{blockType:p,executedAndIdle:m,hasError:t,selected:a,children:null===y||void 0===y?void 0:y.map((function(e,n){var t=e.data,r=e.type;if(t&&0!==(null===t||void 0===t?void 0:t.length)){var o=[],i=(o=(o=Array.isArray(t)?t:[t]).filter((function(e){return e}))).length;return o.map((function(e,t){var o,c={first:0===n&&0===t,last:n===f-1&&t===i-1};if("string"===typeof e&&e.match(b)){var l=e.replace(b,"");if((0,ge.Pb)(l)){var u=JSON.parse(l),a=u.data,s=u.type;Xt.TABLE===s&&(o=v(a))}}else r===Xt.TABLE?o=v((0,ge.Pb)(e)?JSON.parse(e):e):Yt.includes(r)?o=(0,O.jsx)(fr,gr(gr({},c),{},{children:(0,O.jsx)(j.ZP,{monospace:!0,preWrap:!0,children:(0,O.jsx)(sr(),{children:e})})})):r===Xt.IMAGE_PNG&&(o=(0,O.jsx)("div",{style:{backgroundColor:"white"},children:(0,O.jsx)("img",{alt:"Image ".concat(n," from code output"),src:"data:image/png;base64, ".concat(e)})}));return(0,O.jsx)("div",{children:o},"code-output-".concat(n,"-").concat(t))}))}}))}),m&&(0,O.jsxs)(hr,{blockType:p,hasError:t,selected:a,children:[(0,O.jsx)(vr,{}),(0,O.jsx)(mr,{children:(0,O.jsx)(x.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:(0,O.jsx)(ft,{appearAbove:!0,appearBefore:!0,block:!0,label:c>=1&&u?"Last run at ".concat(new Date(u.valueOf()).toLocaleString()):t?"Block executed with errors":"Block executed successfully",size:null,widthFitContent:!0,children:(0,O.jsxs)(x.Z,{alignItems:"center",children:[c>=1&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(j.ZP,{small:!0,children:[(Number(l)-Number(u))/1e3,"s"]}),(0,O.jsx)(In.Z,{mr:1})]}),!t&&(0,O.jsx)(D.Jr,{size:2*S.iI,success:!0}),t&&(0,O.jsx)(Y,{danger:!0,size:2*S.iI,children:(0,O.jsx)(j.ZP,{bold:!0,monospace:!0,small:!0,children:"!"})})]})})})})]})]})},yr=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-knskck-0"})(["border-radius:","px;margin-top:","px;padding:","px;position:absolute;right:-","px;z-index:1;",""],w.BG,1.5*S.iI,S.iI,S.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).defaultBackground,";\n  ")}));var jr=function(e){e.addWidget;var n=e.block,t=e.deleteBlock,r=e.executionState,o=e.interruptKernel,i=e.runBlock,c=n.all_upstream_blocks_executed,l=void 0===c||c,u=n.type,a=n.uuid,s=(0,d.useRef)(null),p=(0,d.useRef)(null),f=(0,d.useState)(!1),h=f[0],m=f[1],v=(0,d.useState)(!1),b=v[0],g=v[1],w=(0,d.useContext)(y.ThemeContext),C=Gt.IDLE!==r,P=de(u,{theme:w}).accent;return(0,O.jsx)(yr,{children:(0,O.jsxs)(x.Z,{alignItems:"center",flexDirection:"column",children:[Gt.QUEUED===r&&(0,O.jsx)(Sn.Z,{color:(w||k.Z).content.active,type:"cylon"}),Gt.BUSY===r&&(0,O.jsx)(Sn.Z,{color:(w||k.Z).content.active}),!C&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(ft,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,O.jsxs)(j.ZP,{children:["Run block \xa0 \xa0",(0,O.jsx)(T,{inline:!0,keyTextGroups:[[N.RJ,N.Lz]],monospace:!0,uuidForKey:a})]}),size:3*S.iI,widthFitContent:!0,children:(0,O.jsx)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){l?i():m(!0)},children:(0,O.jsx)(Y,{color:P,size:3*S.iI,children:(0,O.jsx)(D.Py,{black:!0,size:1.5*S.iI})})})}),(0,O.jsx)(Kn.Z,{disableEscape:!0,onClickOutside:function(){return m(!1)},open:h,children:(0,O.jsx)(z,{items:[{label:function(){return"Execute block"},onClick:function(){return i()},uuid:"execute_block"},{label:function(){return"Execute with upstream blocks"},onClick:function(){return i({runUpstream:!0})},uuid:"execute_upstream"}],left:25*-S.iI,onClickCallback:function(){return m(!1)},open:h,parentRef:s,topOffset:2*-S.iI,uuid:"execute_actions",width:25*S.iI})})]}),!1,(0,O.jsx)(In.Z,{mt:S.cd,children:(0,O.jsx)(ft,{appearBefore:!0,default:!0,label:(0,O.jsxs)(j.ZP,{children:["Delete block and file \xa0 \xa0",(0,O.jsx)(T,{inline:!0,monospace:!0,keyTextGroups:[[N.jW],[N.jW]],uuidForKey:a})]}),size:2.5*S.iI,widthFitContent:!0,children:(0,O.jsx)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return t(n)},children:(0,O.jsx)(D.rF,{size:2.5*S.iI})})})}),C&&(0,O.jsx)(In.Z,{mt:S.cd,children:(0,O.jsx)(ft,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,O.jsxs)(j.ZP,{children:["Interrupt kernel \xa0 \xa0",(0,O.jsx)(T,{inline:!0,monospace:!0,keyTextGroups:[[N.kA],[N.kA]],uuidForKey:a})]}),size:2.5*S.iI,widthFitContent:!0,children:(0,O.jsx)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return o()},children:(0,O.jsx)(Y,{borderSize:1.5,size:2.5*S.iI,children:(0,O.jsx)(D.x8,{size:1*S.iI})})})})}),(0,O.jsx)("div",{ref:p,children:(0,O.jsx)(In.Z,{mt:S.cd,children:(0,O.jsx)(ft,{appearBefore:!0,default:!0,label:(0,O.jsx)(j.ZP,{children:"More actions"}),size:2.5*S.iI,widthFitContent:!0,children:(0,O.jsx)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return g(!b)},children:(0,O.jsx)(Y,{borderSize:1.5,size:2.5*S.iI,children:(0,O.jsx)(D.mH,{size:S.iI})})})})})}),(0,O.jsx)(Kn.Z,{disableEscape:!0,onClickOutside:function(){return g(!1)},open:b,children:(0,O.jsx)(z,{items:[{label:function(){return"Execute with upstream blocks"},onClick:function(){return i({runUpstream:!0})},uuid:"execute_upstream"}],left:25*-S.iI,onClickCallback:function(){return g(!1)},open:b,parentRef:p,topOffset:6*S.iI,uuid:"FileHeaderMenu/file_items",width:25*S.iI})})]})})};var kr=function(e){var n=e.children,t=e.compact,r=e.items,o=e.open,i=e.onClickOutside,c=e.parentRef,l=e.uuid;return(0,O.jsx)(Kn.Z,{onClickOutside:i,open:!0,children:(0,O.jsxs)("div",{style:{position:"relative",zIndex:100},children:[(0,O.jsx)("div",{ref:c,children:n}),(0,O.jsx)(z,{compact:t,items:r,onClickCallback:i,open:o,parentRef:c,uuid:l})]})})};function wr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Or(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Cr(e,n){var t,r=e.addNewBlock,o=e.addWidget,c=e.block,a=e.blockRefs,s=e.blocks,f=e.defaultValue,h=void 0===f?"":f,m=e.deleteBlock,v=e.executionState,k=e.fetchFileTree,w=e.fetchPipeline,C=e.height,P=e.interruptKernel,Z=e.mainContainerRef,I=e.mainContainerWidth,E=e.messages,T=void 0===E?[]:E,_=e.noDivider,R=e.onChange,A=e.pipeline,B=e.runBlock,L=e.runningBlocks,M=e.selected,z=e.setAnyInputFocused,H=e.setEditingBlock,W=e.setSelected,K=e.setTextareaFocused,G=e.textareaFocused,X=(0,d.useContext)(y.ThemeContext),V=(0,d.useState)(!1),q=V[0],Q=V[1],J=(0,d.useState)(!1),$=J[0],ee=J[1],ne=(0,d.useState)(h),te=ne[0],re=ne[1],oe=(0,d.useState)(null),ie=oe[0],ce=oe[1],le=(0,d.useState)(!1),ue=le[0],ae=le[1],se=(0,d.useState)(c.uuid),pe=se[0],xe=se[1],ye=(0,d.useState)(0),ke=ye[0],we=ye[1],Oe=(0,d.useState)(null),Ce=Oe[0],Pe=Oe[1],Ze=(0,d.useState)(null),Ie=Ze[0],Se=Ze[1],Ee=(0,d.useRef)(null),Te=(0,d.useMemo)((function(){return(0,je.HK)(s,(function(e){return e.uuid}))}),[s]),De=(0,d.useCallback)((function(e){var n=e||{},t=n.code,r=n.runUpstream;B({block:c,code:t||te,runUpstream:r||!1}),we(1+Number(ke)),Pe(null)}),[c,te,ke,B,we,Pe]),_e=(0,Ne.Z)(T);(0,d.useEffect)((function(){(null===_e||void 0===_e||!_e.length)&&(null===T||void 0===T?void 0:T.length)>=1&&Se(Number(new Date))}),[T,_e,Se]);var Re=!!L.find((function(e){return e.uuid===c.uuid}))||(null===T||void 0===T?void 0:T.length)>=1&&v!==Gt.IDLE,Ae=(0,Ne.Z)(v);(0,d.useEffect)((function(){v===Gt.IDLE&&v!==Ae&&Pe(Number(new Date))}),[v,Ae,Pe]);var Be=(0,d.useCallback)((function(e){var n=e.editorRect,t=(n.height,n.top),r=e.position.lineNumber;if(null!==Z&&void 0!==Z&&Z.current){var o=Z.current.getBoundingClientRect().height,i=21*r;if(t+i>o){var c=Z.current.scrollTop+(i-o+t);Z.current.scrollTo(0,c)}else if(i+t<21){var l=Z.current.scrollTop+(i+t-21);Z.current.scrollTo(0,l)}}}),[Z]),Fe=(0,d.useMemo)((function(){return(null===ie||void 0===ie?void 0:ie.length)>=0?ie.map((function(e){return{data:e,execution_state:Gt.IDLE,type:Xt.TEXT_PLAIN}})):T.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[ie,T]),Le=!!Fe.find((function(e){return e.error})),Me=de(c.type,{theme:X}).accent,ze=(null===c||void 0===c||null===(t=c.upstream_blocks)||void 0===t?void 0:t.length)||0,He=(0,d.useMemo)((function(){return{blockType:c.type,hasError:Le,selected:M}}),[c.type,Le,M]),Ue=Fe.length>=1,Ke=(0,d.useCallback)((function(){M||(z(!1),W(!0))}),[z,W]),Ge=(0,p.Db)(Ln.ZP.blocks.pipelines.useUpdate(null===A||void 0===A?void 0:A.uuid,c.uuid),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(e){var n=e.block.content;ae(!1),w(),k(),re(n)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){var n=(0,Mn.qQ)(e).messages;ce(n)}}),Xe=(0,l.Z)(Ge,1)[0],Ve="CodeBlock/".concat(c.uuid),qe=(0,F.y)(),Ye=qe.registerOnKeyDown,Qe=qe.unregisterOnKeyDown;(0,d.useEffect)((function(){return function(){Qe(Ve)}}),[Qe,Ve]),Ye(Ve,(function(e,n,t){ue&&String(t[0])===String(N.Uq)&&String(t[1])!==String(N.zX)?Xe({block:Or(Or({},c),{},{name:pe})}):M&&(zn([N.zX,N.Uq],n)||zn([N.PQ,N.Uq],n)?De():zn([N.XR,N.Uq],n)&&(e.preventDefault(),r({type:c.type}).then((function(){De()}))))}),[r,c,ue,pe,De,M,Xe]);var Je,$e=(0,d.useMemo)((function(){return(0,O.jsx)(We,{autoHeight:!0,height:C,onChange:function(e){re(e),null===R||void 0===R||R(e)},onDidChangeCursorPosition:Be,placeholder:"Start typing here...",selected:M,setSelected:W,setTextareaFocused:K,shortcuts:[function(e,n){return function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"executeCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.Enter],label:"Run selected block",precondition:null,run:function(){return n()}}}(e,(function(){De(n.getValue())}))}],textareaFocused:G,value:te,width:"100%"})}),[te,C,M,G]),en=(0,d.useMemo)((function(){return Ue&&(0,O.jsx)(xr,Or(Or({},He),{},{block:c,isInProgress:Re,mainContainerWidth:I,messages:Fe,runCount:ke,runEndTime:Ce,runStartTime:Ie,selected:M}))}),[c,He,Ue,Re,I,Fe,ke,Ce,Ie,M]);return(0,O.jsxs)("div",{ref:n,style:{position:"relative"},children:[(0,O.jsxs)(x.Z,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:S.iI/2},children:[(0,O.jsxs)(U.Z,{alignItems:"center",flex:1,children:[(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsx)(Y,{color:Me,size:1.5*S.iI,square:!0}),(0,O.jsx)(In.Z,{mr:1}),(0,O.jsx)(kr,{compact:!0,items:(Je=c,(0,u.Z)({},i.SCRATCHPAD,[{items:g.map((function(e){return{label:function(){return b[e]},onClick:function(){return Xe({block:Or(Or({},Je),{},{type:e})})},uuid:"block_menu/scratchpad/convert_to/".concat(e)}})),label:function(){return"Convert to"},uuid:"block_menu/scratchpad/convert_to"}])[Je.type]),onClickOutside:function(){return ee(!1)},open:$,parentRef:Ee,uuid:"CodeBlock/block_menu",children:(0,O.jsxs)(j.ZP,{color:Me,monospace:!0,children:[i.DATA_EXPORTER===c.type&&(0,O.jsx)(O.Fragment,{children:"DATA EXPORTER"}),i.DATA_LOADER===c.type&&(0,O.jsx)(O.Fragment,{children:"DATA LOADER\xa0"}),i.SCRATCHPAD===c.type&&(0,O.jsx)(O.Fragment,{children:"SCRATCHPAD\xa0"}),i.TRANSFORMER===c.type&&(0,O.jsx)(O.Fragment,{children:"TRANSFORMER\xa0"})]})}),i.SCRATCHPAD===c.type&&(0,O.jsx)(Jn.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return ee(!0)},transparent:!0,children:(0,O.jsx)(D.K5,{muted:!0})}),(0,O.jsx)(In.Z,{mr:1})]}),(0,O.jsx)(In.Z,{mr:S.cd}),(0,O.jsx)(D.iU,{size:1.5*S.iI}),(0,O.jsx)(In.Z,{mr:1}),(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsx)(xt,{bold:!1,inputValue:pe,monospace:!0,muted:!0,notRequired:!0,onBlur:function(){return setTimeout((function(){return ae(!1)}),300)},onChange:function(e){xe(e.target.value),e.preventDefault()},onClick:function(){z(!0),ae(!0)},onFocus:function(){z(!0),ae(!0)},stacked:!0,value:!ue&&c.uuid}),ue&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(En.Z,{onClick:function(){return Xe({block:Or(Or({},c),{},{name:pe})})},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),i.SCRATCHPAD!==c.type&&(0,O.jsx)("div",{children:(0,O.jsx)(ft,{appearBefore:!0,block:!0,label:"\n                ".concat((0,ge._6)("parent block",ze),". ").concat(0===ze?"Click to select 1 or more blocks to depend on.":"Edit parent blocks.","\n              "),size:null,widthFitContent:!0,children:(0,O.jsx)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e;W(!0),H({upstreamBlocks:{block:c,values:null===(e=c.upstream_blocks)||void 0===e?void 0:e.map((function(e){return{uuid:e}}))}})},children:(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsxs)(j.ZP,{monospace:ze>=1,underline:0===ze,children:[0===ze&&"Click to set parent blocks",ze>=1&&(0,ge._6)("parent block",ze)]}),(0,O.jsx)(In.Z,{mr:1}),(0,O.jsx)(D.Kq,{size:2*S.iI})]})})})})]}),(M||Re)&&(0,O.jsx)(jr,{addWidget:o,block:c,deleteBlock:m,executionState:v,interruptKernel:P,runBlock:De}),(0,O.jsxs)(fe,{onClick:function(){return Ke()},children:[(0,O.jsxs)(he,Or(Or({},He),{},{className:M&&G?"selected":null,hasOutput:Ue,children:[c.upstream_blocks.length>=1&&(0,O.jsxs)(be,{children:[(0,O.jsx)(j.ZP,{small:!0,children:"Positional arguments for decorated function:"}),(0,O.jsxs)(In.Z,{mt:1,children:[(0,O.jsxs)(j.ZP,{monospace:!0,muted:!0,small:!0,children:[i.DATA_EXPORTER===c.type&&"@data_exporter",i.DATA_LOADER===c.type&&"@data_loader",i.TRANSFORMER===c.type&&"@transformer"]}),(0,O.jsxs)(j.ZP,{monospace:!0,muted:!0,small:!0,children:["def ",(i.DATA_EXPORTER===c.type?"export_data":i.DATA_LOADER===c.type&&"load_data")||i.TRANSFORMER===c.type&&"transform_df","(",c.upstream_blocks.map((function(e,n){return"df_".concat(n+1)})).join(", "),"):"]}),c.upstream_blocks.map((function(e,n){var t=Te[e],r=de(null===t||void 0===t?void 0:t.type,{theme:X}).accent;return(0,O.jsxs)("div",{children:[(0,O.jsxs)(j.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:["\xa0\xa0\xa0\xa0df_",n+1]})," ",(0,O.jsx)(j.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"\u2192"})," ",(0,O.jsx)(En.Z,{color:r,onClick:function(){var e,n,r=null===a||void 0===a||null===(e=a.current)||void 0===e?void 0:e["".concat(null===t||void 0===t?void 0:t.type,"s/").concat(null===t||void 0===t?void 0:t.uuid,".py")];null===r||void 0===r||null===(n=r.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,O.jsx)(j.ZP,{color:r,inline:!0,monospace:!0,small:!0,children:e})})]},e)}))]})]}),$e]})),en]}),!_&&(0,O.jsxs)(me,{onMouseEnter:function(){return Q(!0)},onMouseLeave:function(){return Q(!1)},children:[q&&(0,O.jsx)(ur,{addNewBlock:r,compact:!0}),(0,O.jsx)(ve,{className:"block-divider-inner"})]})]})}var Pr=d.forwardRef(Cr);function Zr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ir(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Zr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Sr=function(e){var n=e.addNewBlockAtIndex,t=e.addWidget,r=e.blockRefs,o=e.blocks,c=void 0===o?[]:o,l=e.deleteBlock,a=e.fetchFileTree,s=e.fetchPipeline,p=e.interruptKernel,f=(e.isPipelineUpdating,e.kernel,e.mainContainerRef),h=e.mainContainerWidth,m=e.messages,v=e.pipeline,b=e.pipelineContentTouched,g=(e.pipelineLastSaved,e.restartKernel),x=e.runningBlocks,y=void 0===x?[]:x,j=e.savePipelineContent,k=e.selectedBlock,w=e.setContentByBlockUUID,C=e.setEditingBlock,P=e.setMessages,Z=e.setPipelineContentTouched,I=e.setRunningBlocks,E=e.setSelectedBlock,T=(0,d.useState)(!1),D=T[0],_=T[1],R=(0,d.useState)(!1),A=R[0],B=R[1],L=(0,d.useState)(!1),M=L[0],z=L[1],H=(0,d.useState)(!0),U=H[0],W=H[1],K=(0,Qt.ZP)("ws://localhost:6789/websocket/",{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),G=K.lastMessage,X=(K.readyState,K.sendMessage);(0,d.useEffect)((function(){if(G){var e=JSON.parse(G.data),n=e.execution_state,t=e.uuid;P((function(n){var r=n[t]||[];return Ir(Ir({},n),{},(0,u.Z)({},t,r.concat(e)))})),Gt.IDLE===n&&I((function(e){return e.filter((function(e){var n=e.uuid;return t!==n}))})),Z(!0)}}),[G,P,Z,I]);var V=(0,d.useCallback)((function(e){var n=e.block,t=e.code,r=e.runUpstream,o=void 0!==r&&r;if(t){var i=n.uuid;y.find((function(e){var n=e.uuid;return i===n}))||(X(JSON.stringify({code:t,pipeline_uuid:null===v||void 0===v?void 0:v.uuid,uuid:i,run_upstream:o})),P((function(e){return delete e[i],e})),B(!1),I((function(e){return e.find((function(e){var n=e.uuid;return i===n}))?e:e.concat(n)}))),s()}}),[s,v,y,X,P,I,B]),q=(0,d.useMemo)((function(){return y.reduce((function(e,n,t){return Ir(Ir({},e),{},(0,u.Z)({},n.uuid,Ir(Ir({},n),{},{priority:t})))}),{})}),[y]),Y=(0,Ne.Z)(k),Q=(0,d.useMemo)((function(){return c.length}),[c]),J="PipelineDetail/index",$=(0,F.y)(),ee=$.registerOnKeyDown,ne=$.unregisterOnKeyDown;(0,d.useEffect)((function(){return function(){ne(J)}}),[ne,J]),ee(J,(function(e,t,r){if(b&&zn([N.zX,N.hS],t)){e.preventDefault();"undefined"!==typeof location&&window.confirm("You have changes that are unsaved. Click cancel and save your changes before reloading page.")&&location.reload()}else if(zn([N.zX,N.Um],t))e.preventDefault(),j();else if(A)t[N.vP]?B(!1):b||N.Z1.find((function(e){return t[e]}))||Z(!0);else{if(k){var o=c.findIndex((function(e){var n=e.uuid;return k.uuid===n}));t[N.vP]?E(null):r[0]===N.xD&&r[1]===N.xD?p():r[0]===N.l1&&r[1]===N.l1&&-1!==o?(l(k),setTimeout((function(){o===c.length-1?E(c[o-1]):c.length>=0?E(c[o+1]):E(null)}),100)):t[N.Bu]&&o>=1?E(c[o-1]):t[N.kD]&&o<=Q-2?E(c[o+1]):zn([N.Uq],t)?B(!0):!D&&zn([N.zH],t)?n({type:i.SCRATCHPAD},o,E):!D&&zn([N.Fv],t)&&n({type:i.SCRATCHPAD},o+1,E)}else Y&&t[N.Uq]&&E(Y);r[0]===N.OC&&r[1]===N.OC&&g()}}),[n,D,c,p,Q,b,g,j,k,Y,Z,E,B,A]),(0,d.useEffect)((function(){var e=setInterval((function(){b&&j()}),5e3);return function(){clearInterval(e)}}),[b,j]);var te=(0,d.useCallback)((function(e,n){w((0,u.Z)({},e,n)),Z(!0)}),[w,Z]);return(0,d.useEffect)((function(){setTimeout((function(){return z(!0)}),600)}),[v]),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(zt,{children:U&&(0,O.jsx)(Jt.Z,{classNames:"pipeline-detail",in:M,onEntered:function(){return setTimeout((function(){return W(!1)}),Mt)},timeout:1,children:(0,O.jsx)(Ht,{})})}),(0,O.jsxs)(In.Z,{mt:1,px:S.cd,children:[c.map((function(e,o){var i=e.type,u=e.uuid,b=(null===k||void 0===k?void 0:k.uuid)===u,g=q[u],x=g?0===g.priority?Gt.BUSY:Gt.QUEUED:Gt.IDLE,j="".concat(i,"s/").concat(u,".py");return r.current[j]=(0,d.createRef)(),(0,O.jsx)(Pr,{addNewBlock:function(e){return B(!0),n(e,o+1,E)},addWidget:t,block:e,blockRefs:r,blocks:c,defaultValue:e.content,deleteBlock:function(e){l(e),_(!1)},executionState:x,fetchFileTree:a,fetchPipeline:s,interruptKernel:p,mainContainerRef:f,mainContainerWidth:h,messages:m[u],noDivider:o===Q-1,onChange:function(e){return te(u,e)},pipeline:v,ref:r.current[j],runBlock:V,runningBlocks:y,selected:b,setAnyInputFocused:_,setEditingBlock:C,setSelected:function(n){return E(!0===n?e:null)},setTextareaFocused:B,textareaFocused:b&&A},u)})),(0,O.jsx)(In.Z,{mt:S.cd,children:(0,O.jsx)(ur,{addNewBlock:function(e){n(e,Q,E),B(!0)}})})]})]})},Er=t(70001),Tr=t(47256),Dr=t(11754);var _r=function(e){var n=e.afterWidth,t=e.features,r=e.insightsOverview,o=e.statistics,i=r.correlations,c=void 0===i?[]:i,u=n-(2*S.cd*S.iI+yt.nn),a=function(e){var n=[];return{heatmapData:null===e||void 0===e?void 0:e.map((function(e,t){var r=e.correlations,o=e.feature.uuid;n.push({label:o});var i=r[0].y.map((function(e){var n=e.value;return(0,ge.QV)(n)}));return i.splice(t,0,1),i})),xyLabels:n}}(c),s=a.heatmapData,d=a.xyLabels,p=function(e,n){return(0,je.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:1-n["".concat(e.uuid,"/null_value_rate")]}})),"value")}(t,o),f=function(e,n){return(0,je.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:n["".concat(e.uuid,"/count_distinct")]}})),"value")}(t,o),h=function(e,n){return(0,je.YC)(null===e||void 0===e?void 0:e.map((function(e){var t=Object.entries(n["".concat(e.uuid,"/value_counts")]||{})[0]||[],r=(0,l.Z)(t,2),o=r[0],i=r[1];return{feature:e,percentage:Number(i)/n.count,value:o}})),"percentage")}(t,o);return(0,O.jsxs)(x.Z,{flexDirection:"column",children:[(null===p||void 0===p?void 0:p.length)>=1&&(0,O.jsx)(Dr.Z,{headerTitle:"Data completion",width:u,children:(0,O.jsx)(Er.Z,{data:p.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,ge.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),(null===f||void 0===f?void 0:f.length)>=1&&(0,O.jsx)(Dr.Z,{headerTitle:"Number of unique values",width:u,children:(0,O.jsx)(Er.Z,{data:f.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;return"".concat(n," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),h.length>=1&&(0,O.jsx)(Dr.Z,{headerTitle:"Distribution of values",width:u,children:(0,O.jsx)(Er.Z,{data:h.map((function(e){var n=e.feature,t=e.percentage;return{feature:n,value:e.value,x:t,y:n.uuid}})),height:Math.max(3*h.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.value,t=e.x;return"".concat(n," is ").concat((0,ge.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),c&&(null===s||void 0===s?void 0:s.length)>=1&&(0,O.jsx)(Dr.Z,{headerTitle:"Correlations",children:(0,O.jsx)(In.Z,{p:1,children:(0,O.jsx)(Tr.Z,{countMidpoint:0,data:s,height:8*S.iI*d.length,minCount:-1,xLabels:d,yLabels:d})})})]})},Rr=t(77555),Ar=t(51774),Br=t.n(Ar),Nr=(S.iI,[i.DATA_EXPORTER]),Fr=y.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["div:only-child{","}",""],yt.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),Lr=y.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border:2px solid transparent;border-radius:","px;min-width:fit-content;"," "," ",""],w.BG,(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.content||k.Z.content).active,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.disabled&&"\n    opacity: 0.5;\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}));var Mr=function(e){var n=e.block,t=e.children,r=e.disabled,o=e.hasFailed,i=e.isInProgress,c=e.isQueued,l=e.isSuccessful,u=(e.onClick,e.selected),a=(0,d.useContext)(y.ThemeContext),s=n.type,p=n.uuid,f=!(i||c||o||l),h=l&&!(i||c),m=o&&!(i||c),v="";return f?v="No status":h?v="Successful execution":m?v="Failed execution":i&&(v="Currently executiing"),(0,O.jsx)(Lr,{backgroundColor:de(s,{theme:a}).accent,disabled:r,selected:u,children:(0,O.jsx)(In.Z,{p:1,children:(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsxs)(x.Z,{alignItems:"center",justifyContent:"center",style:{height:2*S.iI,width:2*S.iI},title:v,children:[i&&(0,O.jsx)(Sn.Z,{color:(a||k.Z).content.active,small:!0}),h&&(0,O.jsx)(D.Jr,{size:2*S.iI,success:!0}),m&&(0,O.jsx)(D.x8,{danger:!0,size:1.5*S.iI}),f&&(0,O.jsx)(Y,{borderSize:1,size:1*S.iI})]}),(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(x.Z,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,O.jsx)(j.ZP,{inverted:Nr.includes(s),monospace:!0,small:!0,children:t})})]})})},p)};function zr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Hr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?zr(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ur=Br()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Canvas);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Wr=Br()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Node);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Kr=Br()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Edge);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});Br()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.MarkerArrow);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Br()((0,c.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(4434),t.e(5987),t.e(278)]).then(t.t.bind(t,74529,23));case 2:return n=e.sent,e.abrupt("return",n.Port);case 4:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});var Gr=function(e){var n=e.blockRefs,t=e.editingBlock,r=e.fetchPipeline,o=e.height,c=e.pipeline,u=e.runningBlocks,a=e.selectedBlock,s=e.setEditingBlock,f=e.setSelectedBlock,m=(0,d.useContext)(y.ThemeContext),v=(null===t||void 0===t?void 0:t.upstreamBlocks)||{},b=v.block,g=v.values,k=void 0===g?[]:g,w=(0,d.useMemo)((function(){return k.length}),[k]),C=(0,d.useMemo)((function(){var e;return(null===c||void 0===c||null===(e=c.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return i.SCRATCHPAD!==n})))||[]}),[null===c||void 0===c?void 0:c.blocks]),P=(0,d.useMemo)((function(){return(0,je.HK)(C,(function(e){return e.uuid}))}),[C]),Z=((0,d.useMemo)((function(){return(0,je.HK)(k,(function(e){return e.uuid}))}),[k]),(0,d.useMemo)((function(){return(0,je.HK)(u,(function(e){return e.uuid}))}),[u])),I=(0,p.Db)(Ln.ZP.blocks.pipelines.useUpdate(null===c||void 0===c?void 0:c.uuid,null===b||void 0===b?void 0:b.uuid),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(){s({upstreamBlocks:null}),r()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),E=(0,l.Z)(I,2),T=E[0],D=E[1].isLoading,_=(0,d.useCallback)((function(e){var t=e.type,r=e.uuid;if(f(e),null!==n&&void 0!==n&&n.current){var o,i=n.current["".concat(t,"s/").concat(r,".py")];null===i||void 0===i||null===(o=i.current)||void 0===o||o.scrollIntoView()}}),[n,f]),R=(0,d.useCallback)((function(e){s((function(n){var t=n.upstreamBlocks.values||[],r=t.findIndex((function(n){var t=n.uuid;return e.uuid===t}));return Hr(Hr({},n),{},{upstreamBlocks:Hr(Hr({},n.upstreamBlocks),{},{values:r>=0?(0,je.oM)(t,r):t.concat(e)})})}))}),[s]),A=(0,d.useMemo)((function(){var e={};return C.forEach((function(n){n.upstream_blocks.forEach((function(t){e[t]||(e[t]=[]),e[t].push(n)}))})),e}),[C]),B=(0,d.useMemo)((function(){var e=[],n=[];return C.forEach((function(t){var r=t.upstream_blocks,o=void 0===r?[]:r,i=t.uuid,c=A[i],l=[];c&&l.push.apply(l,(0,Rr.Z)(c.map((function(e){return{height:10,id:"".concat(i,"-").concat(e.uuid,"-from"),side:"SOUTH",width:10}})))),null===o||void 0===o||o.forEach((function(e){l.push({height:10,id:"".concat(e,"-").concat(i,"-to"),side:"NORTH",width:10}),n.push({from:e,fromPort:"".concat(e,"-").concat(i,"-from"),id:"".concat(e,"-").concat(i),to:i,toPort:"".concat(e,"-").concat(i,"-to")})})),e.push({data:{block:t},height:37,id:i,ports:l,width:t.uuid.length*S.KF+5*S.iI+((null===b||void 0===b?void 0:b.uuid)===t.uuid?19*S.KF:0)})})),{edges:n,nodes:e}}),[b,C]),N=B.edges,F=B.nodes;return(0,O.jsxs)(O.Fragment,{children:[b&&(0,O.jsxs)(In.Z,{my:3,px:S.cd,children:[(0,O.jsxs)(In.Z,{mb:S.cd,children:[(0,O.jsxs)(j.ZP,{children:["Select parent block(s) for ",(0,O.jsx)(j.ZP,{color:de(b.type,{theme:m}).accent,inline:!0,monospace:!0,children:b.uuid}),":"]}),(0,O.jsx)(In.Z,{mt:1,children:k.map((function(e,n){var t,r=e.uuid;return(0,O.jsxs)(j.ZP,{color:de(null===(t=P[r])||void 0===t?void 0:t.type,{theme:m}).accent,inline:!0,monospace:!0,children:[r,w>=2&&n<=w-2?(0,O.jsx)(j.ZP,{inline:!0,children:",\xa0"}):null]},r)}))})]}),(0,O.jsxs)(x.Z,{alignItems:"center",children:[(0,O.jsx)(Fn,{compact:!0,inline:!0,loading:D,onClick:function(){return T({block:Hr(Hr({},b),{},{upstream_blocks:k.map((function(e){return e.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,O.jsx)(In.Z,{ml:1}),(0,O.jsx)(Fn,{compact:!0,inline:!0,noBackground:!0,onClick:function(){return s({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})]}),(0,O.jsx)(Fr,{height:o-10*S.iI,children:(0,O.jsx)(Ur,{arrow:null,disabled:!1,edge:function(e){var n,t=P[e.source];return(0,O.jsx)(Kr,Hr(Hr({},e),{},{style:{stroke:null===(n=de(null===t||void 0===t?void 0:t.type,{theme:m}))||void 0===n?void 0:n.accent}}))},edges:N,fit:!0,node:function(e){return(0,O.jsx)(Wr,Hr(Hr({},e),{},{linkable:!1,onClick:function(e,n){var t=n.data.block;(null===b||void 0===b?void 0:b.uuid)===t.uuid||(b?R(t):_(t))},port:null,style:{fill:"transparent",stroke:"transparent",strokeWidth:0},children:function(e){var n,t,r=e.node.data.block;return(0,O.jsx)("foreignObject",{height:e.height,style:{pointerEvents:"none"},width:e.width,x:0,y:0,children:(0,O.jsxs)(Mr,{block:r,disabled:(null===b||void 0===b?void 0:b.uuid)===r.uuid,hasFailed:h.FAILED===r.status,isInProgress:Z[r.uuid]&&(null===(n=u[0])||void 0===n?void 0:n.uuid)===r.uuid,isQueued:Z[r.uuid]&&(null===(t=u[0])||void 0===t?void 0:t.uuid)!==r.uuid,isSuccessful:h.EXECUTED===r.status,selected:b?(0,je.sE)(k,(function(e){return e.uuid===r.uuid})):(null===a||void 0===a?void 0:a.uuid)===r.uuid,children:[r.uuid,(null===b||void 0===b?void 0:b.uuid)===r.uuid&&" (currently editing)"]},r.uuid)})}}))},nodes:F,zoomable:!0})})]})},Xr=t(19537),Vr=t(73199),qr=t.n(Vr),Yr=t(71735),Qr=t(65292);var Jr,$r=function(e){var n=e.language,t=e.maxWidth,r=e.showLineNumbers,o=e.small,i=e.source,c=e.wrapLines,l=(0,d.useContext)(y.ThemeContext);return(0,O.jsx)(qr(),{source:i,renderers:{code:function(e){var i=e.value;return(0,O.jsx)(Yr.Z,{customStyle:{backgroundColor:(l.background||k.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:Le.Vp,fontSize:o?12:14,marginBottom:0,marginTop:0,paddingBottom:2*S.iI,paddingTop:2*S.iI,maxWidth:t},lineNumberStyle:{color:(l.content||k.Z.content).muted},language:n,showLineNumbers:r,style:Qr._4,useInlineStyles:!0,wrapLines:c,children:i})}}})},eo=t(64866),no=t(21764);function to(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ro(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?to(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):to(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(Jr||(Jr={}));var oo=function(e){var n,t=e.children,r=e.copiedText,o=e.iconPosition,i=void 0===o?Jr.LEFT:o,c=e.inverted,l=e.linkProps,u=e.linkText,a=e.muted,s=e.small,d=e.toastMessage,p=e.withCopyIcon;return t?n=(0,O.jsx)("span",{children:t}):p&&(n=(0,O.jsx)(En.Z,ro(ro({href:"#",inline:!0,muted:a,preventDefault:!0,sameColorAsText:!0,small:s},l),{},{children:(0,O.jsxs)(x.Z,{alignItems:"center",children:[i===Jr.LEFT&&(0,O.jsx)(In.Z,{mr:1,children:(0,O.jsx)(x.Z,{alignItems:"center",children:(0,O.jsx)(D.CK,{inverted:c,muted:a})})}),u&&(0,O.jsx)(j.ZP,{inverted:c,muted:a,small:s,children:u}),i===Jr.RIGHT&&(0,O.jsx)(In.Z,{ml:1,children:(0,O.jsx)(x.Z,{alignItems:"center",children:(0,O.jsx)(D.CK,{inverted:c,muted:a})})})]})}))),(0,O.jsx)(eo.CopyToClipboard,{onCopy:function(){return no.Am.success(d||"Successfully copied to clipboard.",{position:no.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})},io=function(e,n,t){return"\n    ".concat(t," = get_variable('").concat(e,"', '").concat(n,"', '").concat(t,"')\n")};var co,lo,uo=function(e){var n=e.blockRefs,t=e.blocks,r=e.globalVariables,o=e.setSelectedBlock,c=(0,d.useContext)(y.ThemeContext),l=(0,d.useMemo)((function(){return(0,je.HK)(t,(function(e){return e.uuid}))}),[t]);return(0,O.jsxs)(In.Z,{p:S.cd,children:[(0,O.jsx)(In.Z,{mb:S.cd,children:(0,O.jsxs)(j.ZP,{children:["The variables listed below can be used in any ",(0,O.jsx)(j.ZP,{bold:!0,inline:!0,monospace:!0,children:i.SCRATCHPAD})," block."]})}),(0,O.jsx)(In.Z,{mb:S.cd,children:(0,O.jsx)(j.ZP,{children:"To load the variable, use the following syntax:"})}),(0,O.jsx)($r,{language:"python",small:!0,source:"\n    from mage_ai.data_preparation.variable_manager import (\n        get_variable,\n    )\n\n\n    df = get_variable(\n        'pipeline_uuid',\n        'block_uuid',\n        'variable_name',\n    )\n"}),null===r||void 0===r?void 0:r.map((function(e){var t,r=e.block.uuid,u=e.pipeline,a=e.variables,s=l[r];if(s&&i.SCRATCHPAD!==s.type){var d=de(s.type,{theme:c}).accent,p=null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t["".concat(s.type,"s/").concat(r,".py")];return(0,O.jsxs)(In.Z,{mt:8,children:[(0,O.jsx)(x.Z,{alignItems:"center",children:(0,O.jsxs)(j.ZP,{children:["The following variables were defined in the block ",(0,O.jsx)(En.Z,{noHoverUnderline:!0,preventDefault:!0,onClick:function(){var e,n;o(s),null===p||void 0===p||null===(e=p.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e)},children:(0,O.jsx)(j.ZP,{color:d,inline:!0,monospace:!0,children:r})}),":"]})}),null===a||void 0===a?void 0:a.map((function(e){return(0,O.jsxs)(In.Z,{mt:2,children:[(0,O.jsx)($r,{language:"python",small:!0,source:io(u.uuid,r,e)}),(0,O.jsx)(oo,{copiedText:(n=u.uuid,t=r,o=e,"from mage_ai.data_preparation.variable_manager import get_variable\n\n\n".concat(io(n,t,o).trim(),"\n")),linkText:"Copy code",muted:!0,small:!0,withCopyIcon:!0})]},"".concat(r,"-").concat(e));var n,t,o}))]},r)}}))]})},ao=t(92506),so="sideview";!function(e){e.CHARTS="charts",e.DATA="data",e.GRAPHS="graphs",e.REPORTS="reports",e.TREE="tree",e.VARIABLES="variables"}(lo||(lo={}));var po=[lo.DATA,lo.REPORTS,lo.TREE],fo=[lo.DATA,lo.REPORTS,lo.GRAPHS],ho=[{key:lo.TREE,label:"Tree"},{key:lo.DATA,label:"Data"},{key:lo.REPORTS,label:"Reports"},{key:lo.GRAPHS,label:"Graphs"},{key:lo.VARIABLES,label:"Variables"}],mo=(co={},(0,u.Z)(co,lo.CHARTS,D.er),(0,u.Z)(co,lo.DATA,D.t1),(0,u.Z)(co,lo.GRAPHS,D.er),(0,u.Z)(co,lo.REPORTS,D.Do),(0,u.Z)(co,lo.TREE,D.BJ),(0,u.Z)(co,lo.VARIABLES,D.KJ),co),vo=t(32151),bo=2*S.iI,go=(S.iI,vo.O$+3*S.iI+Me.dN),xo=y.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],Zt,bo,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),yo=y.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*S.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "})),jo=t(43313),ko=t(84779);var wo=t(24141);var Oo=function(e){var n=e.activeView,t=e.afterWidth,r=e.blockRefs,o=e.blocks,i=e.editingBlock,c=e.fetchPipeline,u=e.globalVariables,a=e.insights,s=e.metadata,f=e.pipeline,h=e.runningBlocks,m=e.sampleData,v=e.selectedBlock,b=e.setEditingBlock,g=e.setSelectedBlock,y=e.statistics,k=(0,wo.i)().height,w=Zt+yt.nn,C=null===f||void 0===f?void 0:f.uuid,P=(0,d.useState)(!1),Z=P[0],I=P[1],E=(0,d.useState)(null),T=E[0],_=E[1],R=((null===i||void 0===i?void 0:i.upstreamBlocks)||{}).block,A=(null===m||void 0===m?void 0:m.columns)||[],B=(null===m||void 0===m?void 0:m.rows)||[],N=(null===s||void 0===s?void 0:s.column_types)||{},F=null===A||void 0===A?void 0:A.map((function(e){return{columnType:N[e],uuid:e}})),L=(null===a||void 0===a?void 0:a[1])||{},M=(0,d.useMemo)((function(){return(0,je.HK)((null===a||void 0===a?void 0:a[0])||[],(function(e){return e.feature.uuid}))}),[a]),z=function(e){var n=e.statistics,t=Object.keys(n),r=Array(jo.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(jo.Dy.includes(e)){var t=jo.CC[e],o=n[e],i=o,c=!1,l=[2,3],u=jo.Ub[e],a=jo.oH[e],s=jo.OD[e];if(jo.y_.includes(e))c=!0,l=[2,1,2];else if(e in jo.Sq){o=(0,ko.Jw)(o,0);var d=jo.Sq[e];i=n[d]}var p={columnFlexNumbers:l,name:t,progress:c,rate:i,successDirection:a,warning:s};jo.y_.includes(e)||(p.value=o),r[u]=p}})),r)}({statistics:y}),H=function(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,o=Object.keys(r);if(0===o.length)return null;var i=Object.values(t),c=i.length,l=[];l.push({name:"Column count",successDirection:jo.oH.column_count,value:(0,ge.x6)(c)}),o.forEach((function(e){if(jo.Zu.includes(e)){var n=jo.CC[e],t=r[e],o=jo.OD[e];l.push({name:n,successDirection:jo.oH[e],value:(0,ge.x6)(t),warning:o})}}));var u=(0,vo.QO)(i),a=u.countCategory,s=u.countDatetime,d=u.countNumerical;return l.push({name:"Categorical Features",rate:a/c,value:(0,ge.x6)(a)},{name:"Numerical Features",rate:d/c,value:(0,ge.x6)(d)},{name:"Datetime Features",rate:s/c,value:(0,ge.x6)(s)}),l}({columnTypes:N,statistics:y}),U=m&&a&&Object.keys(y).length>0,W=(0,d.useCallback)((0,vo.Fk)({columnTypes:N,columns:A,insightsByFeatureUUID:M,insightsOverview:L,noColumnLinks:!0,statistics:y}),[N,A,M,L,y]),K=(0,d.useMemo)((function(){return(0,O.jsx)(uo,{blockRefs:r,blocks:o,globalVariables:u,setSelectedBlock:g})}),[null===r||void 0===r?void 0:r.current,o,u,g]),G=(0,p.Db)(Ln.ZP.execute.pipelines.useCreate(C),{onError:function(e){var n=(0,Mn.qQ)(e).messages;null===_||void 0===_||_(n),c()},onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(){c(),null===_||void 0===_||_(null),I(!0),setTimeout((function(){I(!1)}),2500)}})}}),X=(0,l.Z)(G,2),V=X[0],q=X[1].isLoading;return(0,O.jsxs)(O.Fragment,{children:[n===lo.TREE&&(null===T||void 0===T?void 0:T.length)>=1&&(0,O.jsxs)(In.Z,{mb:3,mt:2,mx:2,children:[(0,O.jsxs)(x.Z,{justifyContent:"space-between",children:[(0,O.jsx)(j.ZP,{bold:!0,danger:!0,children:"Errors"}),(0,O.jsx)(Jn.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return _(null)},transparent:!0,children:(0,O.jsx)(D.x8,{muted:!0})})]}),null===T||void 0===T?void 0:T.map((function(e){return(0,O.jsx)(In.Z,{pb:1,children:(0,O.jsx)(j.ZP,{monospace:!0,xsmall:!0,children:e})},e)}))]}),(0,O.jsxs)(xo,{fullWidth:po.includes(n),children:[n===lo.TREE&&(0,O.jsxs)(O.Fragment,{children:[!R&&(0,O.jsx)(In.Z,{p:2,children:(0,O.jsx)(Jn.Z,{beforeIcon:(0,O.jsx)(D.JM,{inverted:!0,size:2*S.iI}),loading:q,onClick:function(){return V()},success:!0,children:(0,O.jsx)(j.ZP,{bold:!0,inverted:!0,primary:Z,children:Z?"Successfully executed!":"Execute pipeline"})})}),(0,O.jsx)(Gr,{blockRefs:r,editingBlock:i,fetchPipeline:c,height:k-w,pipeline:f,runningBlocks:h,selectedBlock:v,setEditingBlock:b,setSelectedBlock:g})]}),n===lo.DATA&&A.length>0&&(0,O.jsx)(dr.Z,{columnHeaderHeight:go,columns:A,height:k-w,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,renderColumnHeader:W,rows:B,width:t}),n===lo.REPORTS&&(0,O.jsx)(yo,{noPadding:!v||!U,children:(0,O.jsxs)(x.Z,{flexDirection:"column",fullWidth:!0,children:[z&&(0,O.jsx)(ao.Z,{stats:z,title:"Quality metrics"}),H&&(0,O.jsx)(In.Z,{mt:S.cd,children:(0,O.jsx)(ao.Z,{stats:H,title:"Statistics"})}),F.length>0&&(0,O.jsx)(In.Z,{mt:S.cd,children:(0,O.jsx)(Xr.Z,{features:F,statistics:y})})]})}),n===lo.GRAPHS&&(0,O.jsx)(yo,{noPadding:!v||!U,children:(0,O.jsx)(_r,{afterWidth:t,features:F,insightsOverview:L,statistics:y})}),lo.VARIABLES===n&&u&&K,v&&U?null:fo.includes(n)&&(0,O.jsx)(x.Z,{alignItems:"center",justifyContent:"center",verticalHeight:90,verticalHeightOffset:w,width:t,children:(0,O.jsx)(j.ZP,{center:!0,default:!0,disableWordBreak:!0,large:!0,monospace:!0,children:v?!U&&"No data or insights available":"Select a block for insights"})})]})]})},Co=t(1887),Po=t.n(Co),Zo=t(57639);var Io=function(e){var n=e.after,t=e.afterHeader,r=e.afterHidden,o=e.afterMousedownActive,i=e.afterWidth,c=e.before,l=e.beforeHeader,u=e.beforeHidden,a=e.beforeMousedownActive,s=e.beforeWidth,p=e.children,f=e.mainContainerHeader,h=e.mainContainerRef,m=e.setAfterHidden,v=e.setAfterMousedownActive,b=e.setAfterWidth,g=e.setBeforeHidden,y=e.setBeforeMousedownActive,j=e.setBeforeWidth,k=(0,wo.i)().width,w=(0,d.useRef)(null),C=(0,d.useRef)(null),P=(0,d.useRef)(null),Z=(0,d.useRef)(null),I=(0,d.useCallback)((function(){var e=!r;m(e),(0,ae.t8)(ae.zg,e)}),[r,m]),E=(0,d.useCallback)((function(){var e=!u;g(e),(0,ae.t8)(ae.Uu,e)}),[u,g]);(0,d.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===P||void 0===P||null===(n=P.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(k){var r=e.x;r+Pt>k-i&&(r=k-i-Pt),j(Math.max(r,wt))}},c=function(e){var n,t;e.offsetX>=e.target.offsetWidth-Ct&&e.offsetX<=e.target.offsetWidth+Ct&&(y(!0),e.preventDefault(),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},l=function(){var e,n;y(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===Z||void 0===Z||null===(e=Z.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",l,!1),function(){var e,n,t,r;null===Z||void 0===Z||null===(e=Z.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",l,!1),l()}}),[i,P,Z,y,j,k]),(0,d.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===w||void 0===w||null===(n=w.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(k){var r=k-e.x;r+Pt>k-s&&(r=k-s-Pt),b(Math.max(r,kt))}},i=function(e){var n,t;e.offsetX>=-1*Ct&&e.offsetX<=Ct&&(v(!0),e.preventDefault(),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},c=function(){var e,n;v(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",c,!1),function(){var e,n,t,r;null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",c,!1),c()}}),[s,w,C,v,b,k]);var T=r?4*S.iI:i,_=u?4*S.iI:s;return(0,O.jsxs)(Zo.Z,{children:[(o&&!r||a&&!u)&&(0,O.jsx)(Po(),{children:(0,O.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                body {\n                  cursor: col-resize;\n                }\n              "}})}),c&&(0,O.jsxs)(Dt,{style:{width:_},children:[(0,O.jsx)(Bt,{active:a,disabled:u,ref:Z,right:0}),(0,O.jsx)(Tt,{style:{width:_},visible:u,children:(0,O.jsxs)(x.Z,{alignItems:"center",fullWidth:!0,fullHeight:!0,justifyContent:"space-between",children:[(0,O.jsxs)(U.Z,{children:[(0,O.jsx)(In.Z,{pl:u?1:0}),!u&&l]}),(0,O.jsxs)(U.Z,{children:[(0,O.jsx)(ft,{block:!0,label:u?"Show sidebar":"Hide sidebar",size:null,widthFitContent:!0,children:(0,O.jsxs)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return E()},children:[u&&(0,O.jsx)(D._Q,{neutral:!0,size:2*S.iI}),!u&&(0,O.jsx)(D.s$,{neutral:!0,size:2*S.iI})]})},u?"before-is-hidden":"before-is-visible"),(0,O.jsx)(In.Z,{pr:u?1:2})]})]})}),(0,O.jsx)(_t,{ref:P,children:!u&&c})]}),(0,O.jsxs)(Nt,{style:{left:_,width:"calc(100% - ".concat(_+T,"px)")},children:[f,(0,O.jsx)(Ft,{headerOffset:f?Zt:null,style:{width:"calc(100% - ".concat(_+T,"px)")},children:(0,O.jsx)(Lt,{ref:h,children:p})})]}),n&&(0,O.jsxs)(Rt,{style:{width:T},children:[(0,O.jsx)(Bt,{active:o,disabled:r,left:0,ref:C}),(0,O.jsx)(Tt,{style:{width:T},visible:r,children:(0,O.jsxs)(x.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:[(0,O.jsxs)(U.Z,{children:[(0,O.jsx)(In.Z,{pl:r?1:2}),(0,O.jsxs)(Jn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I()},children:[r&&(0,O.jsx)(D.s$,{neutral:!0,size:2*S.iI}),!r&&(0,O.jsx)(D._Q,{neutral:!0,size:2*S.iI})]})]}),!r&&t]})}),(0,O.jsx)(At,{ref:w,children:!r&&n})]})]})},So=t(59e3);function Eo(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function To(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Eo(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Eo(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Do(e){var n,t,r,o=e.pipeline,c=(0,f.useRouter)(),a=(0,wo.i)(),s=a.height,h=a.width,m=(0,d.useState)((0,ae.U2)(ae.L8,jt)),v=m[0],b=m[1],g=(0,d.useState)(null),y=g[0],j=g[1],k=(0,d.useState)((0,ae.U2)(ae.J3,Ot)),w=k[0],C=k[1],P=(0,d.useState)(!!(0,ae.U2)(ae.zg)),Z=P[0],I=P[1],E=(0,d.useState)(!!(0,ae.U2)(ae.Uu)),T=E[0],D=E[1],_=(0,d.useState)(!1),R=_[0],A=_[1],B=(0,d.useState)(!1),N=B[0],F=B[1],L=(0,d.useState)(null),M=L[0],z=L[1],H=(0,d.useState)([]),W=H[0],K=H[1],G=(0,d.useState)({}),X=G[0],V=G[1],q=(0,So.iV)(),Y=q.sideview,Q=q.file_path,J=(0,d.useMemo)((function(){var e=q["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[q]),$=(0,d.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,Kt.u)((0,u.Z)({},so,e),{pushHistory:n})}),[Y]);(0,d.useEffect)((function(){Y||$(lo.TREE,!1)}),[Y]);var ee=(0,d.useRef)({}),ne=(0,d.useRef)({}),te=(0,d.useRef)(null),re=o.uuid,oe=(0,Ne.Z)(re),ie=(0,d.useCallback)((function(e){ne.current=To(To({},ne.current),e)}),[ne]),ce=(0,d.useState)(null),le=ce[0],ue=ce[1];(0,d.useEffect)((function(){null===te||void 0===te||!te.current||R||N||ue(te.current.getBoundingClientRect().width)}),[R,N,Z,v,T,w,null===te||void 0===te?void 0:te.current,ue,h]),(0,d.useEffect)((function(){R||(j(v),(0,ae.t8)(ae.L8,v))}),[R,v,j]),(0,d.useEffect)((function(){N||(0,ae.t8)(ae.J3,w)}),[N,w]);var se=(0,d.useState)(null),de=se[0],pe=se[1],fe=(0,d.useState)(!1),he=fe[0],me=fe[1],ve=Ln.ZP.variables.pipelines.list(!Z&&re),be=ve.data,xe=ve.mutate,ye=null===be||void 0===be?void 0:be.variables,ke=(0,d.useState)([]),we=ke[0],Oe=ke[1],Ce=(0,d.useState)({upstreamBlocks:null}),Pe=Ce[0],Ze=Ce[1],Ie=(0,d.useState)([]),Se=Ie[0],De=Ie[1],_e=(0,d.useState)(null),Ae=_e[0],Be=_e[1],Fe=(0,d.useCallback)((function(){Ze({upstreamBlocks:{block:null,values:[]}}),$e({}),me(!1),pe(null),De([]),Be(null)}),[]);(0,d.useEffect)((function(){re!==oe&&(ne.current={})}),[re,oe]);var Le=Ln.ZP.blocks.pipelines.outputs.detail(!Z&&re,(null===Ae||void 0===Ae?void 0:Ae.type)!==i.SCRATCHPAD&&(null===Ae||void 0===Ae?void 0:Ae.uuid)),Me=Le.data,ze=Le.mutate,He=null===Me||void 0===Me||null===(n=Me.outputs)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.sample_data,Ue=Ln.ZP.blocks.pipelines.analyses.detail(!Z&&re,(null===Ae||void 0===Ae?void 0:Ae.type)!==i.SCRATCHPAD&&(null===Ae||void 0===Ae?void 0:Ae.uuid)),We=Ue.data,Ke=Ue.mutate,Ge=(null===We||void 0===We||null===(r=We.analyses)||void 0===r?void 0:r[0])||{},Xe=Ge.insights,Ve=Ge.metadata,qe=Ge.statistics,Ye=void 0===qe?{}:qe;(0,d.useEffect)((function(){0===Se.length&&(Ke(),ze(),xe())}),[Ke,ze,xe,Se]),(0,d.useEffect)((function(){var e;null!==(e=Pe.upstreamBlocks)&&void 0!==e&&e.block&&(I(!1),$(lo.TREE))}),[Pe.upstreamBlocks]);var Qe=(0,d.useState)({}),Je=Qe[0],$e=Qe[1],en=Ln.ZP.pipelines.detail(re),nn=en.data,tn=(en.isLoading,en.mutate),rn=Ln.ZP.files.list(),on=rn.data,cn=rn.mutate,ln=null===nn||void 0===nn?void 0:nn.pipeline,un=Ln.ZP.kernels.list({},{refreshInterval:5e3,revalidateOnFocus:!0}),an=un.data,sn=un.mutate,dn=null===an||void 0===an?void 0:an.kernels,pn=null===dn||void 0===dn?void 0:dn[0],fn=(0,d.useCallback)((function(e){var n=encodeURIComponent(e),t=(0,So.iV)()["file_paths[]"]||[];Array.isArray(t)||(t=[t]),t.includes(n)||t.push(n),(0,Kt.u)({"file_paths[]":t,file_path:n})}),[]);(0,d.useEffect)((function(){z(Q)}),[Q]),(0,d.useEffect)((function(){(0,je.fS)(J,W)||K(J)}),[J]);var hn=(0,p.Db)(Ln.ZP.pipelines.useUpdate(re,{update_content:!0}),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(){return me(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),mn=(0,l.Z)(hn,2),vn=mn[0],bn=mn[1].isLoading,gn=(0,p.Db)(Ln.ZP.pipelines.useUpdate(re)),xn=(0,l.Z)(gn,1)[0],yn=(0,d.useCallback)((function(e){return xn({pipeline:{name:e}}).then((function(e){(0,Mn.wD)(e,{callback:function(e){var n=e.pipeline.uuid;c.push("/pipelines/".concat(n)),cn()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[cn,xn,c]),jn=(0,d.useCallback)((function(){return pe(new Date),vn({pipeline:To(To({},ln),{},{blocks:we.map((function(e){return To(To({},e),{},{content:ne.current[e.uuid]||e.content,outputs:i.SCRATCHPAD===e.type&&Je[e.uuid]?Je[e.uuid].map((function(n,t){return{text_data:JSON.stringify(n),variable_uuid:"".concat(e.uuid,"_").concat(t)}})):e.outputs})}))})})}),[we,ne.current,Je,ln,pe,vn]),kn=(0,p.Db)((function(e){var n=e.uuid;return Ln.ZP.blocks.pipelines.useDelete(re,n)()}),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(e){var n=e.block,t=n.type,r=n.uuid;Oe((function(e){return(0,je.oM)(e,e.findIndex((function(e){var n=e.uuid;return r===n})))})),tn(),t===i.SCRATCHPAD&&cn()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;$e((function(e){return To(To({},e),{},(0,u.Z)({},t.block_uuid,r.map((function(e){return{data:e,type:Xt.TEXT_PLAIN}}))))}))}})}}),wn=(0,l.Z)(kn,1)[0],On=(0,p.Db)((function(e){var n=e.type,t=e.uuid;return Ln.ZP.blocks.useDelete(encodeURIComponent("".concat(n,"/").concat(t)))()}),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(){tn(),cn()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r),alert("Error deleting block file. Check that there are no downstream blocks, then try again.")}})}}),Cn=(0,l.Z)(On,1)[0],Pn=(0,p.Db)(Ln.ZP.restart.kernels.useCreate(null===pn||void 0===pn?void 0:pn.id),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(){return sn()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),Zn=(0,l.Z)(Pn,1)[0],Sn=(0,p.Db)(Ln.ZP.interrupt.kernels.useCreate(null===pn||void 0===pn?void 0:pn.id),{onSuccess:function(e){return(0,Mn.wD)(e,{callback:function(e){},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),En=(0,l.Z)(Sn,1)[0],Tn=((0,d.useCallback)((function(){window.confirm("Do you want to restart the kernel? All variables will be cleared.")&&Zn()}),[Zn]),(0,p.Db)(Ln.ZP.blocks.pipelines.useCreate(re))),Dn=(0,l.Z)(Tn,1)[0],_n=(0,d.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,ge.Y6)();return Dn({block:To({name:r,priority:n},e)}).then((function(e){(0,Mn.wD)(e,{callback:function(){var r=e.data.block;Oe((function(e){return(0,je.Hk)(r,n,e)})),null===t||void 0===t||t(r),cn(),tn()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[Dn,Oe]),Rn=(0,p.Db)(Ln.ZP.widgets.pipelines.useCreate(re)),An=(0,l.Z)(Rn,1)[0],Bn=(0,d.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,ge.Y6)();return An({widget:To({name:r,priority:n,type:i.CHART},e)}).then((function(e){return(0,Mn.wD)(e,{callback:function(){var n=e.data.widget;console.log(e),null===t||void 0===t||t(n),cn(),tn()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[An]);(0,d.useEffect)((function(){oe!==re&&Oe([])}),[re,oe]),(0,d.useEffect)((function(){"undefined"!==typeof(null===ln||void 0===ln?void 0:ln.blocks)&&Oe(ln.blocks)}),[null===ln||void 0===ln?void 0:ln.blocks]),(0,d.useEffect)((function(){if(!we.length&&"undefined"!==typeof(null===ln||void 0===ln?void 0:ln.blocks)){var e={};ne.current={},ln.blocks.forEach((function(n){var t=n.content,r=n.outputs,o=n.uuid;r.length>=1&&(e[o]=r.map((function(e){var n=e.sample_data,t=e.text_data,r=e.type;return n?{data:n,type:r}:t?JSON.parse(t):t}))),ne.current[o]=t})),$e((function(n){return To(To({},e),n)}))}}),[we,null===ln||void 0===ln?void 0:ln.blocks,Oe,$e]);var Nn=(0,d.useCallback)((function(e,n,t){var r=we.find((function(t){var r=t.type,o=t.uuid;return r===n&&o===e}));if(r){if(Be(r),null!==ee&&void 0!==ee&&ee.current){var o,i=ee.current["".concat(r.type,"s/").concat(r.uuid,".py")];null===i||void 0===i||null===(o=i.current)||void 0===o||o.scrollIntoView()}}else fn(t)}),[we]),zn=(0,d.useRef)(null),Hn=(0,d.useMemo)((function(){return(0,O.jsx)(Re,{areaRef:zn,deleteBlockFile:Cn,enableContextItem:!0,type:Ee.FILE_BROWSER,children:(0,O.jsx)(Te,{files:null===on||void 0===on?void 0:on.files,onSelectBlockFile:Nn,openFile:fn,openPipeline:function(e){Fe(),c.push("/pipelines/[...slug]","/pipelines/".concat(e))},ref:zn})})}),[null===on||void 0===on?void 0:on.files,Nn]),Un=(0,d.useMemo)((function(){return(0,O.jsx)(Oo,{activeView:Y,afterWidth:y,blockRefs:ee,blocks:we,editingBlock:Pe,fetchPipeline:tn,globalVariables:ye,insights:Xe,metadata:Ve,pipeline:ln,runningBlocks:Se,sampleData:He,selectedBlock:Ae,setEditingBlock:Ze,setSelectedBlock:Be,statistics:Ye,views:ho})}),[Y,y,ee,we,Pe,tn,ye,Xe,Ve,ln,Se,He,Ae,Ze,Ye]),Kn=(0,d.useMemo)((function(){return(0,O.jsx)(Sr,{addNewBlockAtIndex:_n,addWidget:function(e){return Bn(e,0)},blockRefs:ee,blocks:we,deleteBlock:wn,fetchFileTree:cn,fetchPipeline:tn,interruptKernel:En,isPipelineUpdating:bn,kernel:pn,mainContainerRef:te,mainContainerWidth:le,messages:Je,pipeline:ln,pipelineContentTouched:he,pipelineLastSaved:de,restartKernel:Zn,runningBlocks:Se,savePipelineContent:jn,selectedBlock:Ae,setContentByBlockUUID:ie,setEditingBlock:Ze,setMessages:$e,setPipelineContentTouched:me,setRunningBlocks:De,setSelectedBlock:Be})}),[_n,Bn,ee,we,wn,cn,tn,En,bn,pn,te,le,Je,ln,he,de,Zn,Se,jn,Ae,ie,Ze,$e,me,De,Be]),Gn=(0,d.useMemo)((function(){return(0,O.jsx)(Vt,{filePaths:W,filesTouched:X,isBusy:Se.length>=1,isPipelineUpdating:bn,kernel:pn,pipeline:ln,pipelineContentTouched:he,pipelineLastSaved:de,restartKernel:Zn,selectedFilePath:M,updatePipelineName:yn})}),[X,bn,pn,ln,he,de,Zn,Se,M,W,yn]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Yn.Z,{title:null===ln||void 0===ln?void 0:ln.name}),(0,O.jsxs)(Io,{after:Un,afterHeader:(0,O.jsxs)(x.Z,{alignItems:"center",fullWidth:!0,justifyContent:"space-between",children:[(0,O.jsx)(U.Z,{children:ho.map((function(e){var n=e.key,t=e.label,r=n===Y,o=mo[n];return(0,O.jsx)(In.Z,{pl:1,children:(0,O.jsx)(Fn,{beforeElement:(0,O.jsx)(o,{}),blackBorder:!0,compact:!0,onClick:function(){return $(n)},selected:r,uuid:n,children:t})},n)}))}),!1]}),afterHidden:Z,afterMousedownActive:R,afterWidth:v,before:Hn,beforeHeader:(0,O.jsx)(qn,{fetchFileTree:cn,interruptKernel:En,restartKernel:Zn,savePipelineContent:jn,setMessages:$e}),beforeHidden:T,beforeMousedownActive:N,beforeWidth:w,mainContainerHeader:Gn,mainContainerRef:te,setAfterHidden:I,setAfterMousedownActive:A,setAfterWidth:b,setBeforeHidden:D,setBeforeMousedownActive:F,setBeforeWidth:C,children:[!M&&Kn,null===J||void 0===J?void 0:J.map((function(e){return(0,O.jsx)("div",{style:{display:M===e?null:"none"},children:(0,O.jsx)(Wn,{addNewBlock:function(e){_n(e,we.length,Be,e.uuid),c.push("/pipelines/".concat(re))},filePath:e,pipeline:ln,setFilesTouched:V})},e)})),(0,O.jsx)(In.Z,{pb:Math.max(Math.floor(s/2/S.iI),0)})]})]})}Do.getInitialProps=function(){var e=(0,c.Z)(s().mark((function e(n){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.slug,Array.isArray(t)&&(r=t[0]),e.abrupt("return",{pipeline:{uuid:r}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var _o=Do},26039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[...slug]",function(){return t(91643)}])}},function(e){e.O(0,[4259,240,3602,2946,9668,9102,79,9774,2888,179],(function(){return n=26039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);