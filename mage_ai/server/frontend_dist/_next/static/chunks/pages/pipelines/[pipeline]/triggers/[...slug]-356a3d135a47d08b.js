(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{90659:function(e,n,t){"use strict";var r=t(67403),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var t,o,c,l,u,s,a=!1;n||(n={}),t=n.debug||!1;try{if(c=r(),l=document.createRange(),u=document.getSelection(),(s=document.createElement("span")).textContent=e,s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),n.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){t&&console.warn("unable to use e.clipboardData"),t&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[n.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(n.format,e);n.onCopy&&(r.preventDefault(),n.onCopy(r.clipboardData))})),document.body.appendChild(s),l.selectNodeContents(s),u.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");a=!0}catch(d){t&&console.error("unable to copy using execCommand: ",d),t&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),a=!0}catch(d){t&&console.error("unable to copy using clipboardData: ",d),t&&console.error("falling back to prompt"),o=function(e){var n=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,n)}("message"in n?n.message:"Copy to clipboard: #{key}, Enter"),window.prompt(o,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(l):u.removeAllRanges()),s&&document.body.removeChild(s),c()}return a}},11984:function(e,n,t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.CopyToClipboard=void 0;var i=l(t(82684)),o=l(t(90659)),c=["text","onCopy","options","children"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function d(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,n){return f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},f(e,n)}function h(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=v(e);if(n){var i=v(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return m(this,t)}}function m(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var j=function(e){!function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&f(e,n)}(u,e);var n,t,r,l=h(u);function u(){var e;d(this,u);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return b(g(e=l.call.apply(l,[this].concat(t))),"onClick",(function(n){var t=e.props,r=t.text,c=t.onCopy,l=t.children,u=t.options,s=i.default.Children.only(l),a=(0,o.default)(r,u);c&&c(r,a),s&&s.props&&"function"===typeof s.props.onClick&&s.props.onClick(n)})),e}return n=u,(t=[{key:"render",value:function(){var e=this.props,n=(e.text,e.onCopy,e.options,e.children),t=a(e,c),r=i.default.Children.only(n);return i.default.cloneElement(r,s(s({},t),{},{onClick:this.onClick}))}}])&&p(n.prototype,t),r&&p(n,r),Object.defineProperty(n,"prototype",{writable:!1}),u}(i.default.PureComponent);n.CopyToClipboard=j,b(j,"defaultProps",{onCopy:void 0,options:void 0})},64866:function(e,n,t){"use strict";var r=t(11984).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},67403:function(e){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],r=0;r<e.rangeCount;r++)t.push(e.getRangeAt(r));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach((function(n){e.addRange(n)})),n&&n.focus()}}},28358:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(82684),i=t(60328),o=t(67971),c=t(10919),l=t(86673),u=t(19711),s=t(10503),a=t(46313),d=t(23831),p=t(49125),f=a.default.div.withConfig({displayName:"indexstyle__ErrorPopupStyle",componentId:"sc-aqfw6f-0"})(["bottom:0;left:0;max-height:100vh;max-width:100vw;overflow:auto;padding:","px;position:fixed;z-index:100;",""],p.iI*p.cd,(function(e){return"\n    background-color: ".concat((e.theme.background||d.Z.background).page,";\n    border-right: 1px solid ").concat((e.theme.accent||d.Z.accent).negative,";\n    border-top: 1px solid ").concat((e.theme.accent||d.Z.accent).negative,";\n  ")})),h=t(28598);var m=function(e){var n=e.displayMessage,t=e.errors,a=e.onClose,d=e.response,p=(0,r.useState)(!1),m=p[0],g=p[1],v=t.messages,b=((null===d||void 0===d?void 0:d.error)||{}).errors;return(0,h.jsxs)(f,{children:[(0,h.jsx)(o.Z,{justifyContent:"flex-end",children:(0,h.jsx)(i.Z,{iconOnly:!0,noBorder:!0,noPadding:!0,onClick:a,title:"Close errors",children:(0,h.jsx)(s.x8,{})})}),(0,h.jsxs)(l.Z,{mt:1,children:[(0,h.jsx)(u.ZP,{bold:!0,large:!0,children:"Error"}),n&&(0,h.jsx)(l.Z,{mt:1,children:(0,h.jsx)(u.ZP,{default:!0,children:n})}),(null===v||void 0===v?void 0:v.length)&&(0,h.jsx)(l.Z,{mt:1,children:v.map((function(e){return(0,h.jsx)(u.ZP,{default:!0,monospace:!0,dangerouslySetInnerHTML:{__html:e.replaceAll(" ","&nbsp;")}},e)}))})]}),b&&(0,h.jsxs)(l.Z,{mt:3,children:[(0,h.jsxs)(u.ZP,{bold:!0,large:!0,children:["Stack trace (",(0,h.jsxs)(c.Z,{muted:!0,onClick:function(){return g((function(e){return!e}))},preventDefault:!0,children:[m?"hide":"show"," stack trace"]}),")"]}),m&&(0,h.jsx)(l.Z,{mt:1,children:b.map((function(e){return(0,h.jsx)(u.ZP,{default:!0,monospace:!0,dangerouslySetInnerHTML:{__html:e.replaceAll(" ","&nbsp;")}},e)}))})]})]})}},70543:function(e,n,t){"use strict";t.d(n,{b:function(){return r}});var r="edit"},2850:function(e,n,t){"use strict";t.d(n,{M:function(){return c}});var r=t(46313),i=t(23831),o=t(3055),c=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);",""],o.Mz,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.borders||i.Z.borders).medium,";\n  ")}))},56681:function(e,n,t){"use strict";t.d(n,{G:function(){return x},Z:function(){return y}});var r=t(12757),i=t(82394),o=t(26304),c=t(1583),l=t(22673),u=t(86532),s=t(86673),a=t(19711),d=t(17903),p=t(49125),f=t(19395),h=t(28598),m=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b={uuid:"Run details"},j={uuid:"Dependency tree"},x=[j,b];function y(e){var n=e.height,t=e.heightOffset,i=e.pipeline,g=e.selectedRun,y=e.selectedTab,O=e.setSelectedTab,Z=v({},(0,o.Z)(e,m));g?Z.blockStatus=(0,f.I)(null===g||void 0===g?void 0:g.block_runs):Z.noStatus=!0;var P=null===g||void 0===g?void 0:g.variables,w=[];P&&JSON.stringify(P,null,2).split("\n").forEach((function(e){w.push("    ".concat(e))}));var _=g&&[["Run ID",null===g||void 0===g?void 0:g.id],["Variables",(0,h.jsx)(l.Z,{language:"json",small:!0,source:w.join("\n")})]],S=g&&(0,h.jsx)(s.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:_.map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return[(0,h.jsx)(a.ZP,{monospace:!0,muted:!0,children:t}),(0,h.jsx)(a.ZP,{monospace:!0,textOverflow:!0,children:i})]})),uuid:"LogDetail"})}),C=y&&O;return(0,h.jsxs)(h.Fragment,{children:[C&&(0,h.jsx)(s.Z,{py:p.cd,children:(0,h.jsx)(c.Z,{onClickTab:O,selectedTabUUID:null===y||void 0===y?void 0:y.uuid,tabs:x})}),(!C||j.uuid===(null===y||void 0===y?void 0:y.uuid))&&(0,h.jsx)(u.Z,v(v({},Z),{},{height:n,heightOffset:(t||0)+(C?76:0),pipeline:i})),b.uuid===(null===y||void 0===y?void 0:y.uuid)&&S]})}},58122:function(e,n,t){"use strict";t.d(n,{CL:function(){return f},FS:function(){return h},JZ:function(){return g},e7:function(){return v},v0:function(){return p},wx:function(){return m}});var r=t(12757),i=t(82394),o=t(43313),c=t(93348),l=t(32151),u=t(5679),s=t(84779);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e){var n=e.statistics,t=Object.keys(n),r=Array(o.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(o.Dy.includes(e)){var t=o.CC[e],i=n[e],c=i,l=!1,u=[2,3],a=o.Ub[e],d=o.oH[e],p=o.OD[e];if(o.y_.includes(e))l=!0,u=[2,1,2];else if(e in o.Sq){i=(0,s.Jw)(i,0);var f=o.Sq[e];c=n[f]}var h={columnFlexNumbers:u,name:t,progress:l,rate:c,successDirection:d,warning:p};o.y_.includes(e)||(h.value=i),r[a]=h}})),r)}function f(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,i=Object.keys(r);if(0===i.length)return null;var c=Object.values(t),s=c.length,a=[];a.push({name:"Column count",successDirection:o.oH.column_count,value:(0,u.x6)(s)}),i.forEach((function(e){if(o.Zu.includes(e)){var n=o.CC[e],t=r[e],i=o.OD[e];a.push({name:n,successDirection:o.oH[e],value:(0,u.x6)(t),warning:i})}}));var d=(0,l.QO)(c),p=d.countCategory,f=d.countDatetime,h=d.countNumerical;return a.push({name:"Categorical Features",rate:p/s,value:(0,u.x6)(p)},{name:"Numerical Features",rate:h/s,value:(0,u.x6)(h)},{name:"Datetime Features",rate:f/s,value:(0,u.x6)(f)}),a}function h(e){return"string"===typeof e?e:JSON.stringify(e)}function m(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return d(d({},e),{},{value:h(n)})}))}function g(e,n){return n===c.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===c.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function v(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),o=t[0],c=t[1],l=c;try{l=JSON.parse(c)}catch(u){}return d(d({},e),{},(0,i.Z)({},o,l))}),{}):e}},18025:function(e,n,t){"use strict";t.d(n,{J:function(){return u},U:function(){return l}});var r=t(46313),i=t(23831),o=t(73942),c=t(49125),l=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-m7tlau-0"})(["border-radius:","px;border-style:solid;border-width:2px;height:","px;margin-right:","px;padding:","px;width:","px;"," ",""],o.TR,14*c.iI,c.cd*c.iI,c.cd*c.iI,40*c.iI,(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light,";\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.interactive||i.Z.interactive).linkPrimary,";\n  ")})),u=r.default.div.withConfig({displayName:"indexstyle__DateSelectionContainer",componentId:"sc-m7tlau-1"})(["border-radius:","px;padding:","px;"," "," ",""],o.n_,c.tr,(function(e){return"\n    background-color: ".concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.absolute&&"\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: ".concat(2.5*c.iI,"px;\n  ")}),(function(e){return e.topPosition&&"\n    top: -".concat(42*c.iI,"px;\n  ")}))},93348:function(e,n,t){"use strict";t.d(n,{U5:function(){return l},Xm:function(){return i},Z4:function(){return u},fq:function(){return c}});var r,i,o=t(82394);!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(i||(i={}));var c,l,u=(r={},(0,o.Z)(r,i.API,(function(){return"API"})),(0,o.Z)(r,i.EVENT,(function(){return"event"})),(0,o.Z)(r,i.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly"}(l||(l={}))},2713:function(e,n,t){"use strict";var r=t(82394),i=t(44495),o=t(67971),c=t(55378),l=t(86673),u=t(19711),s=t(18025),a=t(49125),d=t(24224),p=t(28598);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.selectedDate,t=e.selectedTime,r=e.setSelectedDate,f=e.setSelectedTime,m=e.topPosition;return(0,p.jsxs)(s.J,{absolute:!0,topPosition:m,children:[(0,p.jsx)(i.ZP,{onChange:r,value:n}),(0,p.jsx)(l.Z,{mb:2}),(0,p.jsxs)(o.Z,{alignItems:"center",children:[(0,p.jsx)(u.ZP,{default:!0,large:!0,children:"Time (UTC):"}),(0,p.jsx)(l.Z,{pr:2}),(0,p.jsx)(c.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),f((function(n){return h(h({},n),{},{hour:e.target.value})}))},paddingRight:5*a.iI,placeholder:"HH",value:null===t||void 0===t?void 0:t.hour,children:(0,d.m5)(24,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"hour_".concat(e))}))}),(0,p.jsx)(l.Z,{px:1,children:(0,p.jsx)(u.ZP,{bold:!0,large:!0,children:":"})}),(0,p.jsx)(c.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),f((function(n){return h(h({},n),{},{minute:e.target.value})}))},paddingRight:5*a.iI,placeholder:"MM",value:null===t||void 0===t?void 0:t.minute,children:(0,d.m5)(60,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"minute_".concat(e))}))})]})]})}},22673:function(e,n,t){"use strict";var r=t(82684),i=t(73199),o=t.n(i),c=t(71735),l=t(46313),u=t(65292),s=t(23831),a=t(2005),d=t(49125),p=t(28598);n.Z=function(e){var n=e.language,t=e.maxWidth,i=e.showLineNumbers,f=e.small,h=e.source,m=e.wrapLines,g=(0,r.useContext)(l.ThemeContext);return(0,p.jsx)(o(),{source:h,renderers:{code:function(e){var r=e.value;return(0,p.jsx)(c.Z,{customStyle:{backgroundColor:(g.background||s.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:a.Vp,fontSize:f?12:14,marginBottom:0,marginTop:0,paddingBottom:2*d.iI,paddingTop:2*d.iI,maxWidth:t},lineNumberStyle:{color:(g.content||s.Z.content).muted},language:n,showLineNumbers:i,style:u._4,useInlineStyles:!0,wrapLines:m,children:r})}}})}},65730:function(e,n,t){"use strict";var r,i=t(82394),o=(t(82684),t(64866)),c=t(21764),l=t(67971),u=t(10919),s=t(86673),a=t(19711),d=t(46261),p=t(10503),f=t(49125),h=t(28598);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={})),n.Z=function(e){var n,t=e.children,i=e.copiedText,m=e.iconPosition,v=void 0===m?r.LEFT:m,b=e.inverted,j=e.linkProps,x=e.linkText,y=e.monospace,O=e.muted,Z=e.small,P=e.toastMessage,w=e.withCopyIcon;return t?n=(0,h.jsx)("span",{children:t}):w&&(n=(0,h.jsx)(u.Z,g(g({href:"#",inline:!0,muted:O,preventDefault:!0,sameColorAsText:!0,small:Z},j),{},{children:(0,h.jsxs)(l.Z,{alignItems:"center",children:[v===r.LEFT&&(0,h.jsx)(s.Z,{mr:x?1:0,children:(0,h.jsx)(l.Z,{alignItems:"center",children:(0,h.jsx)(p.CK,{inverted:b,muted:O,size:2*f.iI})})}),x&&(0,h.jsx)(a.ZP,{inverted:b,monospace:y,muted:O,small:Z,children:x}),v===r.RIGHT&&(0,h.jsx)(s.Z,{ml:x?1:0,children:(0,h.jsx)(l.Z,{alignItems:"center",children:(0,h.jsx)(p.CK,{inverted:b,muted:O})})})]})}))),(0,h.jsx)(d.Z,{block:!0,label:"Copy",size:null,widthFitContent:!0,children:(0,h.jsx)(o.CopyToClipboard,{onCopy:function(){return c.Am.success(P||"Successfully copied to clipboard.",{position:c.Am.POSITION.BOTTOM_RIGHT,toastId:i})},text:i,children:n})})}},1583:function(e,n,t){"use strict";var r=t(82684),i=t(60328),o=t(67971),c=t(882),l=t(86673),u=t(99994),s=t(49125),a=t(28598);n.Z=function(e){var n=e.contained,t=e.onClickTab,d=e.selectedTabUUID,p=e.tabs,f=(0,r.useMemo)((function(){var e=p.length,n=[];return p.forEach((function(r,p){var f=r.Icon,h=r.IconSelected,m=r.label,g=r.uuid,v=g===d,b=v&&h||f,j=m?m():g,x=(0,a.jsxs)(o.Z,{alignItems:"center",children:[b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{default:!v,size:2*s.iI}),(0,a.jsx)(l.Z,{mr:1})]}),j]});p>=1&&e>=2&&n.push((0,a.jsx)("div",{style:{marginLeft:1.5*s.iI}},"spacing-".concat(g))),v?n.push((0,a.jsx)(c.Z,{backgroundGradient:u.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,onClick:function(){return t(r)},paddingUnitsHorizontal:2,paddingUnitsVertical:1.25,children:x},g)):n.push((0,a.jsx)("div",{style:{padding:4},children:(0,a.jsx)(i.Z,{borderLess:!0,default:!0,onClick:function(){return t(r)},outline:!0,children:x},"button-tab-".concat(g))}))})),n}),[t,d,p]),h=(0,a.jsx)(o.Z,{alignItems:"center",children:f});return n?h:(0,a.jsx)("div",{style:{paddingLeft:s.cd*s.iI,paddingRight:s.cd*s.iI},children:h})}},55378:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=t(82684),c=t(46313),l=t(69898),u=t(31969),s=t(49125),a=t(28598),d=["beforeIcon","children","label","placeholder"];function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=c.default.select.withConfig({displayName:"Select__SelectStyle",componentId:"sc-q6ezu2-0"})(["",' background-image:url("data:image/svg+xml;utf8,','");background-repeat:no-repeat;background-position:-webkit-calc(100% - ',"px) center;background-position:calc(100% - ","px) center;padding-right:","px;&:hover{cursor:pointer;}"," "," "," ",""],l.p,"\n  <svg width='12' height='12' viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'>\n    <path\n      clip-rule='evenodd'\n      d='M8.0015 11.7109L14.0022 5.71017L12.588 4.29597L7.99485 8.88914L3.40754 4.34482L2 5.76567L8.0015 11.7109Z'\n      fill='%23B4B8C0'\n      fill-rule='evenodd'\n    />\n  </svg>",s.iI,s.iI,2.5*s.iI,(function(e){return!e.hasContent&&!e.showPlaceholder&&"\n    color: ".concat((e.theme.content||u.Z.content).muted,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.color&&"\n    color: ".concat(e.color,";\n  ")}),(function(e){return e.showPlaceholder&&"\n    color: ".concat((e.theme.content||u.Z.content).inverted,";\n  ")})),m=function(e,n){var t=e.beforeIcon,r=e.children,o=e.label,c=e.placeholder,u=(0,i.Z)(e,d);return(0,a.jsx)(l.Z,f(f({},u),{},{beforeIcon:t,input:(0,a.jsxs)(h,f(f({},u),{},{children:[(o||c)&&(0,a.jsx)("option",{disabled:!0,selected:!0,value:"",children:o||c}),r]})),label:o,placeholder:c,ref:n,setContentOnMount:!0,showLabelRequirement:function(e){return!!e.content}}))};n.Z=o.forwardRef(m)},82944:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=t(82684),c=t(46313),l=t(69898),u=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var d=c.default.input.withConfig({displayName:"TextInput__TextInputStyle",componentId:"sc-1ii4qtc-0"})(["",""],l.p),p=function(e,n){var t=(0,i.Z)({},e);return(0,u.jsx)(l.Z,a(a({},t),{},{input:(0,u.jsx)(d,a({},t)),ref:n}))};n.Z=o.forwardRef(p)},29284:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ce}});var r,i=t(12757),o=t(77837),c=t(82394),l=t(38860),u=t.n(l),s=t(82684),a=t(83455),d=t(34376),p=t(60328),f=t(34744),h=t(67971),m=t(87372),g=t(51099),v=t(38965),b=t(55084),j=t(93348),x=t(86673),y=t(17903),O=t(19711),Z=t(41374),P=t(56681),w=t(2850),_=t(49125),S=t(10503),C=t(59920),I=t(24224);!function(e){e.AWS="aws_event"}(r||(r={}));var k=[{label:function(){return"AWS"},uuid:r.AWS}],E=(0,I.HK)(k,(function(e){return e.uuid})),D=t(58122),T=t(7715),N=t(96510),M=t(66653),R=t(59e3),A=t(28598);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){var n=e.fetchPipelineSchedule,t=e.pipeline,r=e.pipelineSchedule,o=e.variables,c=(0,d.useRouter)(),l=(t||{}).uuid,u=r||{},I=u.id,k=u.event_matchers,L=u.name,F=u.schedule_interval,H=u.schedule_type,z=u.start_time,q=u.status,V=u.variables,X=void 0===V?{}:V,B=(0,R.iV)(),W=Z.ZP.pipeline_runs.pipeline_schedules.list(I,{_limit:30,_offset:30*(null!==B&&void 0!==B&&B.page?B.page:0)},{refreshInterval:3e3,revalidateOnFocus:!0}),J=W.data,G=W.mutate,K=(0,s.useMemo)((function(){return(null===J||void 0===J?void 0:J.pipeline_runs)||[]}),[J]),Y=(0,s.useMemo)((function(){return(null===J||void 0===J?void 0:J.total_count)||[]}),[J]),Q=(0,s.useState)(null),$=Q[0],ee=Q[1],ne=(0,s.useMemo)((function(){var e=null!==B&&void 0!==B&&B.page?B.page:0;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(b.Z,{fetchPipelineRuns:G,onClickRow:function(e){return ee((function(n){var t=K[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:K,selectedRun:$}),(0,A.jsx)(x.Z,{p:2,children:(0,A.jsx)(g.Z,{page:Number(e),maxPages:9,onUpdate:function(e){var n=Number(e),t=U(U({},B),{},{page:n>=0?n:0});c.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(l,"/triggers/").concat(I,"?").concat((0,R.uM)(t)))},totalPages:Math.ceil(Y/30)})})]})}),[G,t,K,$]),te=(0,s.useState)(P.G[0]),re=te[0],ie=te[1],oe=(0,a.Db)((function(e){return Z.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:e})}),{onSuccess:function(e){return(0,N.wD)(e,{callback:function(){n()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),ce=(0,i.Z)(oe,2),le=ce[0],ue=ce[1].isLoading,se=(0,s.useMemo)((function(){return j.fq.ACTIVE===q}),[q]),ae=(0,s.useMemo)((function(){var e,n={default:!0,size:1.5*_.iI},t=[[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.VW,U({},n)),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Trigger type"})]},"trigger_type_label"),(0,A.jsx)(O.ZP,{monospace:!0,children:null===(e=j.Z4[H])||void 0===e?void 0:e.call(j.Z4)},"trigger_type")],[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.rs,U({},n)),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Status"})]},"trigger_status_label"),(0,A.jsx)(O.ZP,{danger:!se,monospace:!0,success:se,children:q},"trigger_status")]];return F&&t.push([(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.Pf,U({},n)),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Frequency"})]},"trigger_frequency_label"),(0,A.jsx)(O.ZP,{monospace:!0,children:F.replace("@","")},"trigger_frequency")]),z&&t.push([(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.aw,U({},n)),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Start date"})]},"trigger_start_date_label"),(0,A.jsx)(O.ZP,{monospace:!0,children:z},"trigger_start_date")]),(0,A.jsx)(y.Z,{columnFlex:[null,1],rows:t})}),[se,F,z,H]),de=(0,s.useMemo)((function(){return X||{}}),[X]),pe=(0,s.useMemo)((function(){var e,n=[];return(0,T.Qr)(de)?n=(0,D.wx)(o,(function(e){return"global"===e.uuid})):Object.entries(de).forEach((function(e){var t=(0,i.Z)(e,2),r=t[0],o=t[1];n.push({uuid:r,value:(0,D.FS)(o)})})),"undefined"!==typeof(n=(0,D.JZ)(n||[],H))&&null!==(e=n)&&void 0!==e&&e.length?(0,A.jsx)(y.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,t=e.value;return[(0,A.jsx)(O.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,A.jsx)(O.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[H,X,o]),fe=(0,s.useMemo)((function(){return(0,A.jsx)(y.Z,{columnFlex:[null,1],columns:[{uuid:"Provider"},{uuid:"Event"}],rows:null===k||void 0===k?void 0:k.map((function(e,n){var t=e.event_type,r=e.name;return[(0,A.jsx)(O.ZP,{default:!0,monospace:!0,children:E[t].label()},"".concat(t,"_").concat(n,"_label")),(0,A.jsx)(O.ZP,{monospace:!0,children:r},"".concat(t,"_").concat(n,"_name"))]}))})}),[k]);return(0,A.jsxs)(v.Z,{afterHidden:!$,before:(0,A.jsxs)(w.M,{children:[(0,A.jsxs)(x.Z,{mb:_.HN,pt:_.cd,px:_.cd,children:[(0,A.jsxs)(x.Z,{mb:_.cd,children:[j.Xm.TIME===H&&(0,A.jsx)(S.kO,{size:5*_.iI}),j.Xm.EVENT===H&&(0,A.jsx)(S.Jp,{size:5*_.iI}),!H&&(0,A.jsx)(S.VW,{size:5*_.iI})]}),(0,A.jsx)(m.Z,{children:L})]}),(0,A.jsx)(x.Z,{px:_.cd,children:(0,A.jsx)(m.Z,{level:5,children:"Settings"})}),(0,A.jsx)(f.Z,{light:!0,mt:1,short:!0}),ae,(null===k||void 0===k?void 0:k.length)>=1&&(0,A.jsxs)(x.Z,{my:_.HN,children:[(0,A.jsx)(x.Z,{px:_.cd,children:(0,A.jsx)(m.Z,{level:5,children:"Events"})}),(0,A.jsx)(f.Z,{light:!0,mt:1,short:!0}),fe]}),pe&&(0,A.jsxs)(x.Z,{my:_.HN,children:[(0,A.jsx)(x.Z,{px:_.cd,children:(0,A.jsx)(m.Z,{level:5,children:"Runtime variables"})}),(0,A.jsx)(f.Z,{light:!0,mt:1,short:!0}),pe]})]}),beforeWidth:34*_.iI,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(l,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return L},linkProps:{as:"/pipelines/".concat(l,"/triggers/").concat(I),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],buildSidekick:function(e){return(0,P.Z)(U(U({},e),{},{selectedRun:$,selectedTab:re,setSelectedTab:ie}))},pageName:C.M.TRIGGERS,pipeline:t,subheader:(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(p.Z,{beforeIcon:se?(0,A.jsx)(S.dz,{size:2*_.iI}):(0,A.jsx)(S.Py,{inverted:!0,size:2*_.iI}),danger:se,loading:ue,onClick:function(e){(0,M.j)(e),le({id:I,status:se?j.fq.INACTIVE:j.fq.ACTIVE})},outline:!0,success:!se,children:se?"Pause trigger":"Start trigger"}),(0,A.jsx)(x.Z,{mr:_.cd}),(0,A.jsx)(p.Z,{linkProps:{as:"/pipelines/".concat(l,"/triggers/").concat(I,"/edit"),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit trigger"})]}),title:function(){return L},uuid:"triggers/detail",children:[(0,A.jsx)(x.Z,{mt:_.cd,px:_.cd,children:(0,A.jsx)(m.Z,{level:5,children:"Runs for this trigger"})}),(0,A.jsx)(f.Z,{light:!0,mt:_.cd,short:!0}),ne]})},H=t(77555),z=t(2713),q=t(47999),V=t(22673),X=t(65730),B=t(28358),W=t(93461),J=t(10919),G=t(26304),K=t(46313),Y=t(23831),Q=t(2005),$=t(31012),ee=["children","large","lineHeight","ordered"];function ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var re=(0,K.css)([""," "," "," "," "," "," "," "," "," ",""],(function(e){return!e.muted&&"\n    color: ".concat((e.theme.content||Y.Z.content).default,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.content||Y.Z.content).muted,";\n  ")}),(function(e){return e.inverted&&"\n    color: ".concat((e.theme.content||Y.Z.content).inverted,";\n  ")}),(function(e){return e.color&&"\n    color: ".concat(e.color,";\n  ")}),(function(e){return!e.monospace&&"\n    font-family: ".concat(Q.ry,";\n  ")}),(function(e){return e.monospace&&"\n    font-family: ".concat(Q.Vp,";\n  ")}),(function(e){return e.large&&"\n    ".concat($.x_,"\n  ")}),(function(e){return!e.large&&!e.small&&"\n    ".concat($.i3,"\n  ")}),(function(e){return e.small&&"\n    ".concat($.J5,"\n  ")}),(function(e){return e.lineHeight&&"\n    line-height: ".concat(e.lineHeight,"px !important;\n  ")})),ie=K.default.ul.withConfig({displayName:"List__UnorderedListStyle",componentId:"sc-1f6yhbi-0"})(["",""],re),oe=K.default.ol.withConfig({displayName:"List__OrderedListStyle",componentId:"sc-1f6yhbi-1"})(["",""],re),ce=K.default.li.withConfig({displayName:"List__ListItemStyle",componentId:"sc-1f6yhbi-2"})(["",""],(function(e){return e.large&&e.marginTop&&"\n    margin-top: ".concat(1*_.iI,"px;\n  ")}));var le=function(e){var n=e.children,t=e.large,r=e.lineHeight,i=e.ordered,o=(0,G.Z)(e,ee),c=i?oe:ie;return(0,A.jsx)(c,te(te({large:t,lineHeight:r},o),{},{children:s.Children.map(n,(function(e,n){return(0,A.jsx)(ce,te(te({large:t,marginTop:n>=1},o),{},{children:s.cloneElement(e)}),e.props.key)}))}))},ue=t(98781),se=t(55378),ae=t(82944),de=t(69898),pe=["checked","onCheck"];function fe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function he(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var me=K.default.label.withConfig({displayName:"ToggleSwitch__ToggleSwitchStyle",componentId:"sc-179r5zs-0"})([""," position:relative;display:inline-block;width:","px;min-width:","px;height:",'px;& input[type="checkbox"]{display:none;}& span{position:absolute;cursor:',";background-color:",";border-radius:13px;",';top:0;right:0;bottom:0;left:0;transition:background-color 0.2s ease;}& span::before{position:absolute;content:"";left:2px;top:2px;width:22px;height:22px;background-color:#787A85;border-radius:50%;transition:transform 0.3s ease;}& input[type="checkbox"]:checked + span::before{transform:translateX(20px);}',""],de.p,46,46,26,(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?Y.Z.monotone.white:Y.Z.monotone.black}),(function(e){return e.disabled&&"border: 1px solid ".concat(Y.Z.monotone.grey200)}),(function(e){return!e.disabled&&'\n    & input[type="checkbox"]:checked + span {\n      background-color: #6AA1E0;\n    }\n\n    & input[type="checkbox"]:checked + span::before {\n      background-color: '.concat(Y.Z.monotone.white,";\n    }\n  ")})),ge=function(e,n){var t=e.checked,r=e.onCheck,i=(0,G.Z)(e,pe);return(0,A.jsx)(de.Z,he(he({},i),{},{input:(0,A.jsxs)(me,he(he({},i),{},{noBackground:!0,noBorder:!0,children:[(0,A.jsx)("input",{checked:t,type:"checkbox"}),(0,A.jsx)("span",{onClick:function(){return r((function(e){return!e}))}})]})),noBackground:!0,ref:n}))},ve=s.forwardRef(ge),be=t(18025),je=t(19395);function xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xe(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Oe=function(e){var n=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:j.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:j.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:j.Xm.API}];return e?n.slice(0,1):n};var Ze=function(e){var n=e.fetchPipelineSchedule,t=e.pipeline,r=e.pipelineSchedule,o=e.variables,l=(0,d.useRouter)(),u=null===t||void 0===t?void 0:t.uuid,g=null===r||void 0===r?void 0:r.id,b=(null===t||void 0===t?void 0:t.type)===ue.q.STREAMING,P=(0,s.useState)(null),w=P[0],E=P[1],M=(0,s.useState)([]),R=M[0],L=M[1],U=(0,s.useState)(!1),F=U[0],G=U[1],K=(0,s.useState)({}),Y=K[0],Q=K[1],$=(0,s.useState)(r),ee=$[0],ne=$[1],te=(0,s.useState)(!1),re=te[0],ie=te[1],oe=(0,s.useState)(null),ce=oe[0],de=oe[1],pe=(0,s.useMemo)((function(){return(0,D.wx)(o,(function(e){return"global"===e.uuid}))}),[o]),fe=ee||{},he=fe.name,me=fe.schedule_interval,ge=fe.schedule_type,xe=fe.start_time,Ze=fe.variables,Pe=void 0===Ze?{}:Ze,we=(0,s.useState)(null),_e=we[0],Se=we[1],Ce=(0,s.useState)({hour:"00",minute:"00"}),Ie=Ce[0],ke=Ce[1],Ee=Z.ZP.event_rules.detail("aws").data,De=(0,s.useMemo)((function(){return(null===Ee||void 0===Ee?void 0:Ee.event_rules)||[]}),[Ee]),Te=(0,s.useMemo)((function(){return(0,I.HK)(De,(function(e){return e.name}))}),[De]),Ne=(0,a.Db)(Z.ZP.pipeline_schedules.useUpdate(g),{onSuccess:function(e){return(0,N.wD)(e,{callback:function(){n(),l.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(u,"/triggers/").concat(g))},onErrorCallback:function(e,n){return E({errors:n,response:e})}})}}),Me=(0,i.Z)(Ne,2),Re=Me[0],Ae=Me[1].isLoading,Le=(0,s.useMemo)((function(){return Pe||{}}),[Pe]);(0,s.useEffect)((function(){if(xe){var e=xe.split(" ")[1];Se((0,je.e)(xe)),ke({hour:e.substring(0,2),minute:e.substring(3,5)})}}),[xe]),(0,s.useEffect)((function(){Le&&Object.keys(Le).length>0&&G(!0)}),[Le]),(0,s.useEffect)((function(){Q(F?null===pe||void 0===pe?void 0:pe.reduce((function(e,n){var t=n.uuid,r=n.value;return ye(ye({},e),{},(0,c.Z)({},t,Le[t]||r))}),{}):null)}),[pe,F]),(0,s.useEffect)((function(){r&&(L(r.event_matchers),Fe?(ne(ye(ye({},r),{},{schedule_interval:"custom"})),de(me)):ne(b?ye(ye({},r),{},{schedule_interval:j.U5.ONCE}):r))}),[r]);var Ue=(0,s.useCallback)((function(){var e=ye(ye({},(0,T.GL)(ee,["name","schedule_type"])),{},{event_matchers:[],schedule_interval:null,start_time:null,variables:(0,D.e7)(Y)});j.Xm.EVENT===ee.schedule_type?e.event_matchers=R:(e.schedule_interval=Fe?ce:ee.schedule_interval,e.start_time=_e&&null!==Ie&&void 0!==Ie&&Ie.hour&&null!==Ie&&void 0!==Ie&&Ie.minute?"".concat(_e.toISOString().split("T")[0]," ").concat(null===Ie||void 0===Ie?void 0:Ie.hour,":").concat(null===Ie||void 0===Ie?void 0:Ie.minute,":00"):null),Re({pipeline_schedule:e})}),[ce,_e,R,Y,ee,Ie,Re]),Fe=(0,s.useMemo)((function(){return me&&!Object.values(j.U5).includes(me)}),[me]),He=(0,s.useMemo)((function(){var e=[[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.KJ,{default:!0,size:1.5*_.iI}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Trigger name"})]},"trigger_name_detail"),(0,A.jsx)(ae.Z,{monospace:!0,onChange:function(e){e.preventDefault(),ne((function(n){return ye(ye({},n),{},{name:e.target.value})}))},placeholder:"Name this trigger",value:he},"trigger_name_input_detail")],[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.Pf,{default:!0,size:1.5*_.iI}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Frequency"})]},"frequency"),(0,A.jsxs)(se.Z,{monospace:!0,onChange:function(e){e.preventDefault();var n=e.target.value;ne((function(e){return ye(ye({},e),{},{schedule_interval:n})}))},placeholder:"Choose the frequency to run",value:me,children:[!me&&(0,A.jsx)("option",{value:""}),Object.values(j.U5).map((function(e){return(0,A.jsx)("option",{value:e,children:e.substring(1)},e)})),(0,A.jsx)("option",{value:"custom",children:"custom"},"custom")]},"frequency_input")],[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.aw,{default:!0,size:1.5*_.iI}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,A.jsxs)("div",{style:{minHeight:"".concat(5.75*_.iI,"px")},children:[!re&&(0,A.jsx)(ae.Z,{monospace:!0,onClick:function(){return ie((function(e){return!e}))},placeholder:"YYYY-MM-DD HH:MM",value:_e?"".concat(_e.toISOString().split("T")[0]," ").concat(null===Ie||void 0===Ie?void 0:Ie.hour,":").concat(null===Ie||void 0===Ie?void 0:Ie.minute):""}),(0,A.jsx)("div",{style:{width:"400px"},children:(0,A.jsx)(q.Z,{disableEscape:!0,onClickOutside:function(){return ie(!1)},open:re,style:{position:"relative"},children:(0,A.jsx)(z.Z,{selectedDate:_e,selectedTime:Ie,setSelectedDate:Se,setSelectedTime:ke,topPosition:!0})})})]},"start_time_input")]];return b&&e.splice(1,1),Fe&&e.splice(2,0,[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.EK,{default:!0,size:1.5*_.iI}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Cron expression"})]},"cron_expression"),(0,A.jsx)(ae.Z,{monospace:!0,onChange:function(e){e.preventDefault(),de(e.target.value)},placeholder:"* * * * *",value:ce},"cron_expression_input")]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.Z,{mb:2,px:_.cd,children:(0,A.jsx)(m.Z,{children:"Settings"})}),(0,A.jsx)(f.Z,{light:!0,short:!0}),(0,A.jsx)(y.Z,{columnFlex:[null,1],rows:e})]})}),[ce,_e,ee,re,Ie]),ze=(0,s.useCallback)((function(e,n){L((function(t){return Object.entries(n).forEach((function(n){var r=(0,i.Z)(n,2),o=r[0],c=r[1];t[e][o]=c})),(0,H.Z)(t)}))}),[L]),qe=(0,s.useMemo)((function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.Z,{mb:_.cd,px:_.cd,children:(0,A.jsx)(m.Z,{children:"Settings"})}),(0,A.jsx)(f.Z,{light:!0,short:!0}),(0,A.jsx)(y.Z,{columnFlex:[null,1],rows:[[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.KJ,{default:!0,size:1.5*_.iI}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Trigger name"})]},"trigger_name_event"),(0,A.jsx)(ae.Z,{monospace:!0,onChange:function(e){e.preventDefault(),ne((function(n){return ye(ye({},n),{},{name:e.target.value})}))},placeholder:"Name this trigger",value:he},"trigger_name_input_event")]]}),(0,A.jsxs)(x.Z,{mb:2,mt:5,px:_.cd,children:[(0,A.jsx)(m.Z,{children:"Events"}),(0,A.jsxs)(O.ZP,{muted:!0,children:["Add 1 or more event that will trigger this pipeline to run.",(0,A.jsx)("br",{}),"If you add more than 1 event, this pipeline will trigger if any of the events are received."]}),(0,A.jsxs)(x.Z,{mt:_.Mq,children:[(0,A.jsx)(O.ZP,{bold:!0,large:!0,children:"AWS events"}),(0,A.jsxs)(O.ZP,{muted:!0,children:["In order to retrieve all the possible AWS events you can trigger your pipeline from,",(0,A.jsx)("br",{}),"you\u2019ll need to set 3 environment variables (",(0,A.jsx)(J.Z,{href:"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html",openNewWindow:!0,underline:!0,children:"more info here"}),"):"]}),(0,A.jsx)(x.Z,{mt:1,children:(0,A.jsxs)(le,{monospace:!0,ordered:!0,children:[(0,A.jsx)(O.ZP,{monospace:!0,children:"AWS_REGION_NAME"}),(0,A.jsx)(O.ZP,{monospace:!0,children:"AWS_ACCESS_KEY_ID"}),(0,A.jsx)(O.ZP,{monospace:!0,children:"AWS_SECRET_ACCESS_KEY"})]})})]})]}),(0,A.jsx)(f.Z,{light:!0,short:!0}),(null===R||void 0===R?void 0:R.length)>=1&&(0,A.jsx)(y.Z,{alignTop:!0,columnFlex:[1,1,2,null],columns:[{uuid:"Provider"},{uuid:"Event"},{uuid:"Pattern"},{label:function(){return""},uuid:"delete"}],rows:null===R||void 0===R?void 0:R.map((function(e,n){var t=e.event_type,r=e.name,i=e.pattern,o=e.id||"".concat(t,"-").concat(r,"-").concat(n,"-").concat(JSON.stringify(i)),c=[];return i&&JSON.stringify(i,null,2).split("\n").forEach((function(e){c.push("    ".concat(e))})),[(0,A.jsxs)(se.Z,{monospace:!0,onChange:function(e){return ze(n,{event_type:e.target.value})},placeholder:"Event provider",value:t||"",children:[!t&&(0,A.jsx)("option",{value:""}),k.map((function(e){var n=e.label,t=e.uuid;return(0,A.jsx)("option",{value:t,children:n()},t)}))]},"event-provider-".concat(o)),(0,A.jsxs)(se.Z,{monospace:!0,onChange:function(e){var t,r=e.target.value,i=null===(t=Te[r])||void 0===t?void 0:t.event_pattern;ze(n,{name:r,pattern:i?JSON.parse(i):null})},placeholder:"Event name",value:r,children:[!r&&(0,A.jsx)("option",{value:""}),De.map((function(e){var n=e.name;return(0,A.jsx)("option",{value:n,children:n},n)}))]},"event-name-".concat(o)),i&&(0,A.jsx)(V.Z,{language:"json",small:!0,source:c.join("\n")}),(0,A.jsx)(p.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return L((function(e){return(0,I.oM)(e,n)}))},children:(0,A.jsx)(S.rF,{default:!0,size:2*_.iI})},"remove_event")]}))}),(0,A.jsx)(x.Z,{p:_.cd,children:(0,A.jsx)(p.Z,{beforeIcon:(0,A.jsx)(S.mm,{size:2*_.iI}),onClick:function(){return L((function(e){return e.concat({})}))},outline:!0,children:"Add event matcher"})})]})}),[R,De,he]),Ve=(0,s.useMemo)((function(){var e,n="".concat(window.origin,"/api/pipeline_schedules/").concat(null===r||void 0===r?void 0:r.id,"/pipeline_runs");return(e=window.location.port)&&(n=n.replace(e,"6789")),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(x.Z,{mb:_.cd,px:_.cd,children:(0,A.jsx)(m.Z,{children:"Settings"})}),(0,A.jsx)(f.Z,{light:!0,short:!0}),(0,A.jsx)(y.Z,{columnFlex:[null,1],rows:[[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(S.KJ,{default:!0,size:1.5*_.iI}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(O.ZP,{default:!0,children:"Trigger name"})]},"trigger_name_api"),(0,A.jsx)(ae.Z,{monospace:!0,onChange:function(e){e.preventDefault(),ne((function(n){return ye(ye({},n),{},{name:e.target.value})}))},placeholder:"Name this trigger",value:he},"trigger_name_input_api")]]}),(0,A.jsxs)(x.Z,{mb:2,mt:5,px:_.cd,children:[(0,A.jsx)(m.Z,{children:"Endpoint"}),(0,A.jsxs)(O.ZP,{muted:!0,children:["Make a ",(0,A.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"POST"})," request to the following endpoint:"]}),(0,A.jsx)(x.Z,{mt:_.Mq,children:(0,A.jsx)(X.Z,{copiedText:n,linkText:n,monospace:!0,withCopyIcon:!0})})]}),(0,A.jsxs)(x.Z,{mb:2,mt:5,px:_.cd,children:[(0,A.jsx)(m.Z,{children:"Payload"}),(0,A.jsx)(O.ZP,{muted:!0,children:"You can optionally include runtime variables in your request payload. These runtime variables are accessible from within each pipeline block."}),(0,A.jsx)(x.Z,{mt:_.Mq,children:(0,A.jsx)(X.Z,{withCopyIcon:!0,copiedText:'{\n  "pipeline_run": {\n    "variables": {\n      "key1": "value1",\n      "key2": "value2"\n    }\n  }\n}\n',children:(0,A.jsx)(V.Z,{language:"json",small:!0,source:'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\n'})})})]}),(0,A.jsxs)(x.Z,{mb:2,mt:5,px:_.cd,children:[(0,A.jsx)(m.Z,{children:"Sample cURL command"}),(0,A.jsx)(x.Z,{mt:_.Mq,children:(0,A.jsx)(V.Z,{language:"bash",small:!0,source:"\n    curl -X POST ".concat(n,' \\\n      --header \'Content-Type: application/json\' \\\n      --data \'\n    {\n      "pipeline_run": {\n        "variables": {\n          "key1": "value1",\n          "key2": "value2"\n        }\n      }\n    }\'\n')})})]})]})}),[he,r,"object"]),Xe=!ge||j.Xm.TIME===ge&&!(b&&_e||!b&&_e&&me)||j.Xm.EVENT===ge&&(!(null!==R&&void 0!==R&&R.length)||!R.every((function(e){var n=e.event_type,t=e.name;return n&&t}))),Be=(0,s.useMemo)((function(){return!(0,T.Qr)(pe)&&(0,A.jsxs)(x.Z,{p:_.cd,children:[(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(x.Z,{mr:2,children:(0,A.jsx)(ve,{checked:F,onCheck:G})}),(0,A.jsx)(O.ZP,{monospace:!0,muted:!0,children:"Overwrite global variables"})]}),F&&Y&&Object.entries(Y).length>0&&(0,A.jsx)(x.Z,{mt:2,children:(0,A.jsx)(y.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(Y).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return[(0,A.jsx)(O.ZP,{default:!0,monospace:!0,children:t},"variable_".concat(t)),(0,A.jsx)(ae.Z,{borderless:!0,monospace:!0,onChange:function(e){e.preventDefault(),Q((function(n){return ye(ye({},n),{},(0,c.Z)({},t,e.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:r},"variable_uuid_input_".concat(t))]}))})})]})}),[pe,F,Y,G]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(v.Z,{after:Be,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(u,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return null===r||void 0===r?void 0:r.name},linkProps:{as:"/pipelines/".concat(u,"/triggers/").concat(g),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],pageName:C.M.TRIGGERS,pipeline:t,subheader:(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(p.Z,{disabled:Xe,loading:Ae,onClick:Ue,outline:!0,primary:!0,children:"Save changes"}),(0,A.jsx)(x.Z,{mr:1}),(0,A.jsx)(p.Z,{linkProps:{href:"/pipelines/[pipeline]/triggers/[...slug]",as:"/pipelines/".concat(u,"/triggers/").concat(g)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null===r||void 0===r?void 0:r.name)},uuid:"triggers/edit",children:[(0,A.jsxs)(x.Z,{p:_.cd,children:[(0,A.jsxs)(x.Z,{mb:2,children:[(0,A.jsx)(m.Z,{children:"Trigger type"}),(0,A.jsx)(O.ZP,{muted:!0,children:"How would you like this pipeline to be triggered?"})]}),(0,A.jsx)(h.Z,{children:Oe(b).map((function(e){var n=e.label,t=e.description,r=e.uuid,i=ge===r,o=ge&&!i;return(0,A.jsx)(p.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){j.Xm.EVENT!==r||null!==R&&void 0!==R&&R.length||L([{}]),ne((function(e){return ye(ye({},e),{},{schedule_type:r})}))},children:(0,A.jsx)(be.U,{selected:i,children:(0,A.jsxs)(h.Z,{alignItems:"center",children:[(0,A.jsx)(W.Z,{children:(0,A.jsx)("input",{checked:i,type:"radio"})}),(0,A.jsx)(x.Z,{mr:_.cd}),(0,A.jsxs)(W.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,A.jsx)(m.Z,{bold:!0,default:!i&&!o,level:5,muted:!i&&o,children:n()}),(0,A.jsx)(O.ZP,{default:!i&&!o,leftAligned:!0,muted:o,children:t()})]})]})})},r)}))})]}),(0,A.jsxs)(x.Z,{mt:5,children:[j.Xm.TIME===ge&&He,j.Xm.EVENT===ge&&qe,j.Xm.API===ge&&Ve]})]}),w&&(0,A.jsx)(B.Z,ye(ye({},w),{},{onClose:function(){return E(null)}}))]})},Pe=t(70543);function we(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _e(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?we(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):we(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Se(e){var n=e.pipelineScheduleId,t=e.pipelineUUID,r=e.subpath,i=Z.ZP.variables.pipelines.list(t).data,o=null===i||void 0===i?void 0:i.variables,c=Z.ZP.pipeline_schedules.detail(n,{include_event_matchers:!0}),l=c.data,u=c.mutate,s=null===l||void 0===l?void 0:l.pipeline_schedule,a=Z.ZP.pipelines.detail(t).data,d=_e(_e({},null===a||void 0===a?void 0:a.pipeline),{},{uuid:t});return Pe.b===r?(0,A.jsx)(Ze,{fetchPipelineSchedule:u,pipeline:d,pipelineSchedule:s,variables:o}):(0,A.jsx)(F,{fetchPipelineSchedule:u,pipeline:d,pipelineSchedule:s,variables:o})}Se.getInitialProps=function(){var e=(0,o.Z)(u().mark((function e(n){var t,r,o,c,l,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,r=t.pipeline,o=t.slug,!Array.isArray(o)){e.next=4;break}return c=(0,i.Z)(o,2),l=c[0],s=c[1],e.abrupt("return",{pipelineScheduleId:l,pipelineUUID:r,subpath:s});case 4:return e.abrupt("return",{pipelineUUID:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Ce=Se},95488:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers/[...slug]",function(){return t(29284)}])}},function(e){e.O(0,[4259,2740,6674,1774,4804,3668,7619,4495,2874,1374,6182,1404,8965,9898,2151,5703,6673,9774,2888,179],(function(){return n=95488,e(e.s=n);var n}));var n=e.O();_N_E=n}]);