(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{7432:function(e,n,t){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[88849,8849],"./Birds of Paradise.json":[78097,8097],"./Blackboard.json":[88018,6115],"./Brilliance Black.json":[73835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[22508,2508],"./Clouds Midnight.json":[49566,9566],"./Clouds.json":[57951,7951],"./Cobalt.json":[80826,826],"./Cobalt2.json":[98256,8256],"./Dawn.json":[76958,6958],"./Dominion Day.json":[89307,9307],"./Dracula.json":[33453,3453],"./Dreamweaver.json":[19363,9363],"./Eiffel.json":[82481,2481],"./Espresso Libre.json":[44776,4776],"./GitHub.json":[10739,739],"./IDLE.json":[67947,7947],"./Katzenmilch.json":[81240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[25164,5164],"./MagicWB (Amiga).json":[76443,6443],"./Merbivore Soft.json":[99361,9361],"./Merbivore.json":[86042,6042],"./Monokai Bright.json":[14883,4883],"./Monokai.json":[34454,4454],"./Night Owl.json":[60261,261],"./Nord.json":[59785,9785],"./Oceanic Next.json":[58920,8920],"./Pastels on Dark.json":[38901,8901],"./Slush and Poppies.json":[26434,6434],"./Solarized-dark.json":[36116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[20440,440],"./Sunburst.json":[68018,8018],"./Textmate (Mac Classic).json":[15824,5824],"./Tomorrow-Night-Blue.json":[81150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[82545,2545],"./Tomorrow-Night.json":[99855,9855],"./Tomorrow.json":[34092,4092],"./Twilight.json":[93898,3898],"./Upstream Sunburst.json":[98807,8807],"./Vibrant Ink.json":[89927,9927],"./Xcode_default.json":[64042,4042],"./Zenburnesque.json":[33467,3467],"./iPlastic.json":[88277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[15729,5729],"./themelist.json":[79437,9437]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=7432,e.exports=o},3858:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Co}});var r,o,i,c,u=t(77837),a=t(12757),l=t(82394),s=t(38860),d=t.n(s),p=t(82684),f=t(83455);!function(e){e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.TRANSFORMER="transformer"}(i||(i={})),function(e){e.EXECUTED="executed",e.NOT_EXECUTED="not_executed"}(c||(c={}));var h,v=(r={},(0,l.Z)(r,i.DATA_EXPORTER,"Data exporter"),(0,l.Z)(r,i.DATA_LOADER,"Data loader"),(0,l.Z)(r,i.SCRATCHPAD,"Scratchpad"),(0,l.Z)(r,i.TRANSFORMER,"Transformer"),r),b=(o={},(0,l.Z)(o,i.DATA_EXPORTER,"DE"),(0,l.Z)(o,i.DATA_LOADER,"DL"),(0,l.Z)(o,i.SCRATCHPAD,"SP"),(0,l.Z)(o,i.TRANSFORMER,"TF"),o),m=t(77555),g=t(46313),x=t(67971),y=t(10919),j=t(86673),k=t(19711),w=t(1132),O=t(10512);!function(e){e.DATA_LOADERS="data_loaders",e.DATA_EXPORTERS="data_exporters",e.GLOBAL_VARIABLES="global_variables",e.PIPELINES="pipelines",e.SCRATCHPADS="scratchpads",e.TRANSFORMERS="transformers"}(h||(h={}));var C=t(49125),P=t(24224),Z=t(28598),S=g.default.div.withConfig({displayName:"FileTree__FileNodeStyle",componentId:"sc-mx8e6u-0"})(["align-items:center;display:flex;"," ",""],(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n  ")}),(function(e){return"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n    }\n  ")}));var T=function(e){var n,t=e.blockRefs,r=e.pipeline,o=e.setSelectedBlock,i=e.tree,c=(0,p.useContext)(g.ThemeContext);!function(e){e[e.CUSTOM_VAL=0]="CUSTOM_VAL",e[e.FALSE=1]="FALSE",e[e.TRUE=2]="TRUE",e[e.TOGGLE=3]="TOGGLE"}(n||(n={}));var u=(0,p.useState)(i),a=u[0],s=u[1],d=(0,p.useState)([]),f=d[0],v=d[1],b=(null===r||void 0===r?void 0:r.blocks)||[];(0,p.useEffect)((function(){return s(i)}),[i]);var T=function(e){!function(e,t){var r=[],o=t.key,i=t.type,c=t.value,u={children:JSON.parse(JSON.stringify(a)),name:"root"};!function t(u){var a;if((0,P.fS)(e,r)){var s,d=(s={},(0,l.Z)(s,n.TRUE,!0),(0,l.Z)(s,n.FALSE,!1),(0,l.Z)(s,n.TOGGLE,!u[o]),(0,l.Z)(s,n.CUSTOM_VAL,c),s);u[o]=d[i]}else null===(a=u.children)||void 0===a||a.forEach((function(e){r.push(e.name),t(e),r.pop()}))}(u),s(u.children)}((0,m.Z)(e),{key:"collapsed",type:n.TOGGLE}),v((0,m.Z)(e))},E=function(e,n){return function(r){return r.preventDefault(),function(e){var n,r=e.slice(1).join("/"),o=t.current[r];null===o||void 0===o||null===(n=o.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}(e),o(function(e,n){return e.find((function(e){var t=e.uuid;return function(e){return e.at(-1).slice(0,-3)}(n)===t}))}(b,e)),n?T(e):function(e){return v((0,m.Z)(e))}(e)}},I=0,D=[];return(0,Z.jsx)(x.Z,{flexDirection:"column",children:(0,Z.jsx)(j.Z,{pb:4,children:function e(n){I++;var t=null===n||void 0===n?void 0:n.map((function(n){var t=n.name,r=n.children,o=n.collapsed;D.push(t);var i=function(e,n){var t,r=e.at(-1);return"__init__.py"===r?{iconColor:((null===n||void 0===n?void 0:n.monotone)||w.Z.monotone).grey500,iconType:O.iU}:2===e.length?(t={},(0,l.Z)(t,h.DATA_LOADERS,{iconColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button1,iconType:O.I5,textColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button1}),(0,l.Z)(t,h.DATA_EXPORTERS,{iconColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button2,iconType:O.I5,textColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button2}),(0,l.Z)(t,h.GLOBAL_VARIABLES,{iconColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button3,iconType:O.I5,textColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button3}),(0,l.Z)(t,h.PIPELINES,{iconColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button4,iconType:O.I5,textColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button4}),(0,l.Z)(t,h.SCRATCHPADS,{iconColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button5,iconType:O.I5,textColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).button5}),(0,l.Z)(t,h.TRANSFORMERS,{iconColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).primary,iconType:O.I5,textColor:((null===n||void 0===n?void 0:n.chart)||w.Z.chart).primary}),t)[r]:void 0}(D,c)||{},u=i.iconColor,a=void 0===u?(c.content||w.Z.content).active:u,s=i.iconType,d=void 0===s?r?O.gt:O.iU:s,p=i.textColor,v=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(S,{highlighted:(0,P.fS)(D,f),children:[(0,Z.jsx)(j.Z,{mr:"".concat(r?2*I*C.iI-12:2*I*C.iI,"px")}),(0,Z.jsx)(y.Z,{fullWidth:!0,noColor:!0,noHoverUnderline:!0,noOutline:!0,onClick:E([].concat(D),!!r),children:(0,Z.jsx)(j.Z,{py:"".concat(.75*C.iI,"px"),children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[r&&(o?(0,Z.jsx)(O.ol,{muted:!0}):(0,Z.jsx)(O.K5,{muted:!0})),"\xa0",(0,Z.jsx)(d,{fill:a}),"\xa0",(0,Z.jsx)(k.ZP,{color:p,monospace:!0,muted:!(0,P.fS)(D,f),children:t})]})})})]}),r&&!o&&e(r)]});return D.pop(),v}));return I--,t}(a)})})},E=t(34376),I=t(47999),D=t(73942),_=(0,g.css)(["min-width:18px;padding-left:2px;padding-right:2px;"," "," "," "," "," ",""],(function(e){return!e.disabled&&"\n    background-color: ".concat((e.theme.content||w.Z.content).inverted,";\n  ")}),(function(e){return e.disabled&&"\n    // background-color: ".concat((e.theme.monotone||w.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.mutedDisabled&&"\n    opacity: 0.3;\n  "}),(function(e){return!e.borderless&&"\n    box-shadow: ".concat((e.theme.shadow||w.Z.shadow).tiny,";\n    padding-bottom: 3px;\n    padding-top: 3px;\n  ")}),(function(e){return e.borderless&&"\n    border-radius: ".concat(D.BG,"px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n  ")}),(function(e){return e.spacingLeft&&"\n    margin-left: ".concat(e.spacingLeft,"px;\n  ")})),B=g.default.kbd.withConfig({displayName:"KeyboardText__KbdStyle",componentId:"sc-18540m4-0"})(["",""],_),A=g.default.div.withConfig({displayName:"KeyboardText__DivStyle",componentId:"sc-18540m4-1"})(["",""],_);var R=function(e){var n=e.borderless,t=e.disabled,r=e.inline,o=e.keyText,i=e.monospace,c=e.mutedDisabled,u=e.spacingLeft,a=r?A:B,l=(0,p.useContext)(g.ThemeContext),s={};if(!n){var d,f;if(t)s.borderColor=null===(d=(null===l||void 0===l?void 0:l.monotone)||w.Z.monotone)||void 0===d?void 0:d.grey400;else s.borderColor=null===(f=(null===l||void 0===l?void 0:l.content)||w.Z.content)||void 0===f?void 0:f.active;s.borderRadius=D.BG,s.borderStyle="solid",s.borderWidth=1,s.overflow="hidden"}return(0,Z.jsx)(k.ZP,{center:!0,inline:!0,monospace:i,muted:t||c,style:s,xsmall:!0,children:(0,Z.jsx)(a,{borderless:n,disabled:t,mutedDisabled:c,spacingLeft:u,children:o})})},N=g.default.div.withConfig({displayName:"KeyboardTextGroup__SpacingStyle",componentId:"sc-1bx41p7-0"})([""," "," ",""],(function(e){return e.small&&"\n    margin-left: ".concat(.25*C.iI,"px;\n  ")}),(function(e){return!e.small&&"\n    margin-left: ".concat(.25*C.iI,"px;\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(.25*C.iI,"px;\n  ")}));var L=function(e){var n=e.borderless,t=e.disabled,r=e.keyTextGroups,o=e.inline,i=e.monospace,c=e.mutedDisabled,u=e.small,a=e.uuidForKey,l=[],s=[];return r.forEach((function(e,r){var o=[];e.forEach((function(e,r){s.push(e),r>=1&&o.push((0,Z.jsx)(N,{small:u},"spacing-".concat(e))),o.push((0,Z.jsx)(R,{borderless:n,disabled:t,inline:!0,keyText:e,monospace:i,mutedDisabled:c},"key-".concat(s.join("-"),"-").concat(a)))})),r>=1&&l.push((0,Z.jsx)(N,{marginRight:!0,children:(0,Z.jsx)(k.ZP,{monospace:i,muted:!0,small:!u,xsmall:u,children:"then"})},"then-".concat(r))),l.push.apply(l,o)})),(0,Z.jsx)(x.Z,{alignItems:"center",inline:o,children:l})},M=g.default.div.withConfig({displayName:"indexstyle__FlyoutMenuContainerStyle",componentId:"sc-1o7k6f4-0"})(["position:absolute;min-width:","px;",""],34*C.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||w.Z.shadow).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n    }\n  ")})),F=g.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1o7k6f4-1"})(["align-items:center;display:flex;justify-content:space-between;padding:","px;&:hover{cursor:default;}"," ",""],C.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n  ")})),z=t(16115),H=t(41150);var U=function(e){var n,t,r=e.items,o=e.onClickCallback,i=e.open,c=e.parentRef,u=e.uuid,a=(0,p.useState)([]),l=a[0],s=a[1],d=((null===c||void 0===c||null===(n=c.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height,f=(0,H.y)(),h=f.registerOnKeyDown,v=f.unregisterOnKeyDown;return(0,p.useEffect)((function(){return function(){v(u)}}),[v,u]),h(u,(function(e,n,t){if(i){var c=l[0];if(n[z.kD])"undefined"===typeof c||c===r.length-1?s([0]):s([c+1]);else if(n[z.Bu])s("undefined"===typeof c||0===c?[r.length-1]:[c-1]);else if(n[z.Uq]&&"undefined"!==typeof c){var u,a;null===(u=r[c])||void 0===u||null===(a=u.onClick)||void 0===a||a.call(u),null===o||void 0===o||o()}else r.forEach((function(e){var r=e.keyboardShortcutValidation;null===r||void 0===r||r({keyHistory:t,keyMapping:n})}))}}),[l,r,o,i,s]),(0,p.useEffect)((function(){i||s([])}),[i]),(0,Z.jsx)(M,{style:{display:i?null:"none",left:0,top:d},children:r.map((function(e,n){var t=e.keyTextGroups,r=e.label,i=e.onClick,c=e.uuid;return(0,Z.jsxs)(F,{highlighted:l[0]===n,onClick:function(e){e.preventDefault(),null===i||void 0===i||i(),null===o||void 0===o||o()},children:[(0,Z.jsx)(k.ZP,{children:r()}),t&&(0,Z.jsx)(L,{keyTextGroups:t})]},c)}))})},W=t(96040),K=t(55056),G=t.n(K),q=t(59e3),V=t(554);function X(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?X(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Y="DELETE",Q="GET",$="POST",ee="PUT";function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.body,r=(n.ctx,n.method),o=void 0===r?Q:r,i=n.query,c=void 0===i?{}:i,u=(n.token,{"Content-Type":"application/json"}),s={method:o};if(t){var d=t.file;if(d){d.name,d.size,d.type;var p=new FormData,f=Object.keys(t).filter((function(e){return"file"!==e}))[0];p.set("json_root_body",JSON.stringify((0,l.Z)({api_key:V.env.NEXT_PUBLIC_API_KEY},f,t[f]))),p.append("file",d),s.body=p,delete u["Content-Type"]}else s.body=JSON.stringify(J(J({},t),{},{api_key:V.env.NEXT_PUBLIC_API_KEY}))}s.headers=new Headers(u);var h=J(J({},(0,q.iV)(e)),c);V.env.NEXT_PUBLIC_API_KEY&&(h.api_key=V.env.NEXT_PUBLIC_API_KEY);var v=Object.entries(h).reduce((function(e,n){var t=(0,a.Z)(n,2),r=t[0],o=t[1];return e.concat("".concat(r,"=").concat(o))}),[]).join("&");return{data:s,headers:u,method:o,queryString:v,url:e.split("?")[0]}}function te(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=ne(e,n),r=t.data,o=t.queryString,i=t.url,c=o?"".concat(i,"?").concat(o):i;return fetch(c,r)}function re(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=ne(e,n),r=t.data,o=t.headers,i=t.method,c=t.queryString,u=t.url,a=c?"".concat(u,"?").concat(c):u;return G().request({data:r.body,headers:o,method:i,onUploadProgress:null===n||void 0===n?void 0:n.onUploadProgress,url:a})}function oe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return te(e,n).then((function(e){return e.json()}))}function ie(){var e,n="localhost",t="/CLOUD_NOTEBOOK_BASE_PATH_PLACEHOLDER_",r=n,o="http://",i="";(r=window.location.hostname)===n?r="".concat(r,":").concat(6789):(o="https://",null!==(e=window.location.protocol)&&void 0!==e&&e.match(/https/)||(o="http://"),window.location.port&&(r="".concat(r,":").concat(window.location.port)));return t.includes("CLOUD_NOTEBOOK_BASE_PATH_PLACEHOLDER")||(i=t),"".concat(o).concat(r).concat(i,"/api")}function ce(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c="".concat(ie(),"/").concat(e);return n&&(c="".concat(c,"/").concat(n)),t&&(c="".concat(c,"/").concat(t)),r&&(c="".concat(c,"/").concat(r)),i&&(c="".concat(c,"/").concat(i)),Object.values(o).length>=1&&(c="".concat(c,"?").concat((0,q.uM)(o))),c}function ue(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ue(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ue(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function le(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return re(ce(e),ae(ae({},t),{},{body:n,method:$}))}function se(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=ce(n,t,e);return re(i,ae(ae({},o),{},{body:r,method:$}))}function de(e,n,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=ce(n,t,e,r);return re(c,ae(ae({},i),{},{body:o,method:ee}))}function pe(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return te(ce(n,t),{ctx:e,query:r,method:Q})}function fe(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(ce(n),{ctx:e,query:t,method:Q})}function he(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return te(ce(t,r,n),{ctx:e,query:o,method:Q})}function ve(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=ce(e,n,null,null,r);return te(o,{body:t,method:ee})}function be(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,W.ZP)(n?ce(e,n):null,(function(e){return oe(e,{method:Q,query:t})}),r),i=o.data,c=o.error,u=o.mutate;return{data:i,error:c,mutate:u}}function me(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0,u=(0,W.ZP)(n&&(r?ce(t,r,e,n,o,c):null),(function(e){return oe(e,{method:Q,query:o})}),i),a=u.data,l=u.error,s=u.mutate;return{data:a,error:l,mutate:s}}function ge(e,n){return te(ce(e,n),{method:Y})}function xe(e,n,t,r){return te(ce(n,t,e,r),{method:Y})}function ye(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,W.ZP)(ce(e,null,null,null,n),(function(e){return oe(e)}),t),o=r.data,i=r.error,c=r.mutate;return{data:o,error:i,loading:!o&&!i,mutate:c}}function je(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=(0,W.ZP)(t?ce(n,t,e,null,r):null,(function(e){return oe(e)}),o),c=i.data,u=i.error,a=i.mutate;return{data:c,error:u,loading:!c&&!u,mutate:a}}function ke(e,n,t,r){return te(ce(n,t),{ctx:e,body:r,method:ee})}var we=t(96510);function Oe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Oe(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Pe="blocks",Ze="feature_sets",Se="kernels",Te="pipelines",Ee={};[["execute",Te],[Pe,Te],[Pe,Te,"analyses"],[Pe,Te,"outputs"],["columns",Ze],["downloads",Ze],[Ze],["files"],[Se],["interrupt",Se],["restart",Se],[Te],["status"],["variables",Te],["versions",Ze]].forEach((function(e){var n=(0,a.Z)(e,4),t=n[0],r=n[1],o=n[2],i=n[3];Ee[t]||(Ee[t]={deleteAsync:function(){var e=(0,u.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t,n);case 2:return r=e.sent,e.next=5,(0,we.pr)(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),detail:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return be(t,e,n,Ce(Ce({},i),r))},detailAsync:function(){var e=(0,u.Z)(d().mark((function e(n,r){var o,i,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,pe(n,t,r,o);case 3:return i=e.sent,e.next=6,(0,we.pr)(i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),updateAsync:function(){var e=(0,u.Z)(d().mark((function e(n,r,o){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(n,t,r,o);case 2:return i=e.sent,e.next=5,(0,we.pr)(i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),useUpdate:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=(0,u.Z)(d().mark((function r(o){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",ve(t,e,o,n));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}),o?(Ee[t][r][o]={},Ee[t][r][o].detail=function(e,n,c,u){return me(t,n,r,e,c,Ce(Ce({},i),u),o)}):r?(Ee[t][r]={},Ee[t][r].useCreate=function(e,n){return function(){var o=(0,u.Z)(d().mark((function o(i){return d().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",se(t,r,e,i,n));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},Ee[t][r].useCreateWithParentIdLater=function(e){return function(){var n=(0,u.Z)(d().mark((function n(o){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",se(t,r,o.parentId,o.body,e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ee[t][r].useUpdate=function(e,n,o){return function(){var i=(0,u.Z)(d().mark((function i(c){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",de(t,r,e,n,c,o));case 1:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},Ee[t][r].useDelete=function(e,n){return(0,u.Z)(d().mark((function o(){var i;return d().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,xe(t,r,e,n);case 2:return i=o.sent,o.next=5,(0,we.pr)(i);case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),o)})))},Ee[t][r].listAsync=function(){var e=(0,u.Z)(d().mark((function e(n,o){var i,c,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,he(n,t,r,o,i);case 3:return c=e.sent,e.next=6,(0,we.pr)(c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ee[t][r].list=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return je(t,r,e,n,Ce(Ce({},i),o))},Ee[t][r].detail=function(e,n,o,c){return me(t,n,r,e,o,Ce(Ce({},i),c))}):(Ee[t].create=function(){var e=(0,u.Z)(d().mark((function e(n,r){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t,n,r);case 2:return o=e.sent,e.next=5,(0,we.pr)(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Ee[t].useCreate=function(e){return function(){var n=(0,u.Z)(d().mark((function n(r){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",le(t,r,e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ee[t].listAsync=function(){var e=(0,u.Z)(d().mark((function e(n){var r,o,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,fe(n,t,r);case 3:return o=e.sent,e.next=6,(0,we.pr)(o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ee[t].list=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return ye(t,e,Ce(Ce({},i),n))})}));var Ie=Ee,De=g.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-y3uzxv-0"})(["padding:","px;&:hover{cursor:pointer;","}",""],C.iI,(function(e){return"\n      background-color: ".concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n  ")})),_e=t(29817);function Be(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ae(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Be(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Be(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Re=function(e){var n=e.interruptKernel,t=e.restartKernel,r=e.savePipelineContent,o=e.setMessages,i=(0,E.useRouter)(),c=(0,p.useState)(null),u=c[0],s=c[1],d=(0,p.useRef)(null),h=(0,p.useRef)(null),v=(0,f.Db)(Ie.pipelines.useCreate(),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(e){var n=e.pipeline.uuid;i.push("/pipelines/[...slug]","/pipelines/".concat(n))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),b=(0,a.Z)(v,1)[0],m=[{label:function(){return"New pipeline"},onClick:function(){return b({pipeline:{name:(0,_e.Y6)()}})},uuid:"new pipeline"},{label:function(){return"Save pipeline"},keyTextGroups:[[z.RJ,z.SS]],onClick:function(){return r()},uuid:"save pipeline"}],g=[{label:function(){return"Interrupt kernel"},keyTextGroups:[[z.kA],[z.kA]],onClick:function(){return n()},uuid:"Interrupt kernel"},{label:function(){return"Restart kernel"},keyTextGroups:[[z.t_[z.OC]],[z.t_[z.OC]]],onClick:function(){return t()},uuid:"Restart kernel"},{label:function(){return"Clear all outputs"},onClick:function(){return o((function(e){return Object.keys(e).reduce((function(e,n){return Ae(Ae({},e),{},(0,l.Z)({},n,[]))}),{})}))},uuid:"Clear all outputs"}],y="FileHeaderMenu/index",j=(0,H.y)(),w=j.registerOnKeyDown,O=j.unregisterOnKeyDown;return(0,p.useEffect)((function(){return function(){O(y)}}),[O,y]),w(y,(function(e,n,t){n[z.QK]?s((function(e){return 0===e?1:e-1})):n[z.DY]&&s((function(e){return 1===e?0:e+1}))}),[s]),(0,Z.jsx)(I.Z,{onClickOutside:function(){return s(null)},open:!0,style:{position:"relative"},children:(0,Z.jsxs)(x.Z,{children:[(0,Z.jsxs)("div",{style:{position:"relative"},children:[(0,Z.jsx)(De,{highlighted:0===u,onClick:function(){return s((function(e){return 0===e?null:0}))},onMouseEnter:function(){return s((function(e){return null!==e?0:null}))},ref:d,children:(0,Z.jsx)(k.ZP,{children:"File"})}),(0,Z.jsx)(U,{items:m,onClickCallback:function(){return s(null)},open:0===u,parentRef:d,uuid:"FileHeaderMenu/file_items"})]}),(0,Z.jsxs)("div",{style:{position:"relative"},children:[(0,Z.jsx)(De,{highlighted:1===u,onClick:function(){return s((function(e){return 1===e?null:1}))},onMouseEnter:function(){return s((function(e){return null!==e?1:null}))},ref:h,children:(0,Z.jsx)(k.ZP,{children:"Run"})}),(0,Z.jsx)(U,{items:g,onClickCallback:function(){return s(null)},open:1===u,parentRef:h,uuid:"FileHeaderMenu/run_items"})]})]})})},Ne=t(57384),Le=t(26304),Me=t(12691),Fe=t.n(Me),ze=t(93461),He=t(39421),Ue=t(56663),We=t.n(Ue),Ke=t(66757),Ge=t.n(Ke),qe=t(55361),Ve=t(91427);var Xe="current_group_id",Je="current_group",Ye="current_user";function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var n=We()(e),t=n.current_group_id;return{id:t}}var r=Ge().get(Je),o=He.Z.get(Xe,qe.Hu);if(r&&o)return r}function $e(){return Ge().get(Ye)}function en(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?en(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):en(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function tn(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nn(nn({},t),{},{groupId:null===(e=Qe())||void 0===e?void 0:e.id,id:null===(n=$e())||void 0===n?void 0:n.id})}var rn=t(86954);function on(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?on(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):on(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function un(){return[[rn.go,"initialAsPath"],[rn.iT,"initialPathname"],[rn.FT,"notificationTemplate"],[rn.Ll,"notificationUUID"],[rn.$m,"referringURL"]].reduce((function(e,n){var t=(0,a.Z)(n,2),r=t[0],o=t[1];return cn(cn({},e),{},(0,l.Z)({},o,He.Z.get(r,rn.vZ)))}),{})}var an=t(36283);function ln(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ln(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ln(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var dn="click",pn="button";function fn(e){var n,t,r=e.actionName,o=e.actionType,i=e.componentName,c=e.componentType,u=e.properties,a=e.screenName,l=(n=r||o,t=i||c,"".concat(a,".").concat(n,"_").concat(t)),s=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=un(),o=(null!==t&&void 0!==t&&t.width,window.innerWidth);return sn(sn(sn({},t),r),{},{groupId:null===(e=Qe())||void 0===e?void 0:e.id,partner_id:"Mage",screenSize:(0,an.Z3)(o),userId:null===(n=$e())||void 0===n?void 0:n.id})}(sn({actionType:o,componentType:c},u));return{eventProperties:s,eventType:l,userProperties:tn()}}function hn(e,n){null===e||void 0===e||e(n)}var vn=function(e){var n=e.children;return e.eventProperties,e.userProperties,n((function(e){return!1}))};function bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function mn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bn(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var gn,xn,yn=function(e){var n,t=e.buildChildren,r=e.disabled,o=e.eventActionName,i=void 0===o?dn:o,c=e.eventComponentName,u=void 0===c?pn:c,a=e.eventProperties,l=void 0===a?{}:a,s=e.eventScreenName,d=void 0===s?"generic":s,f=e.keyboardShortcutValidation,h=e.linkProps,v=e.onClick,b=e.openNewTab,m=e.requireKeyUp,g=e.uuid,x=(0,E.useRouter)(),y=(0,H.y)(),j=y.registerOnKeyDown,k=y.registerOnKeyUp,w=y.unregisterOnKeyDown,O=y.unregisterOnKeyUp;(0,p.useEffect)((function(){return function(){var e=m?O:w;null===e||void 0===e||e(g)}}),[m,w,O,g]),r||!v&&!h||(n=function(e){null===v||void 0===v||v(e),h&&(b?(window.open(h.as||h.href),e.preventDefault()):x.push(h.href,h.as))});var C=fn({actionName:i,actionType:dn,componentName:u,componentType:pn,properties:l,screenName:d}),P=C.eventType,S=C.eventProperties,T=C.userProperties;return(0,Z.jsx)(vn,{eventProperties:S,userProperties:T,children:function(e){var r=e.logEvent;f&&n&&(m?k:j)(g,(function(e,t,o){f({keyHistory:o,keyMapping:t})&&(hn(r,P,{eventProperties:mn(mn({},S),{},{usedKeyboardShortcut:!0}),userProperties:T}),n(e))}),[S,P,r,n,T]);return t({eventProperties:S,eventType:P,logEvent:r,onClick:n,userProperties:T})}})},jn={chatBubbleProps:null,graphicButtonProps:null,logoProps:null,mageImageUrl:null,mascotImageUrls:{base:null,castingSpell:null,chargingUp:null,thinking:null},sharedProps:null},kn=p.createContext(jn),wn=kn,On=t(54283),Cn=t(2005),Pn=t(31012),Zn=t(90880),Sn=["Icon","afterElement","beforeElement","bold","borderless","centerText","children","compact","disabled","fitContentWidth","inverted","keyTextGroups","keyTextsPosition","linkProps","loading","mutedDisabled","onClick","type","useModelTheme"];function Tn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function En(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Tn(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(gn||(gn={})),function(e){e.BUTTON="button",e.SUBMIT="submit"}(xn||(xn={}));var In=(0,g.css)([""," align-items:center;border:none;display:flex;flex-direction:row;position:relative;text-align:left;z-index:0;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(0,Zn.eR)(),(function(e){return!e.large1&&!e.large2&&"\n    ".concat(Pn.iD,"\n  ")}),(function(e){return e.small&&"\n    ".concat(Pn.HC,"\n  ")}),(function(e){return e.large1&&"\n    ".concat(Pn.ln,"\n  ")}),(function(e){return e.large2&&"\n    ".concat(Pn.QU,"\n  ")}),(function(e){return!e.inline&&"\n    width: 100%;\n  "}),(function(e){return e.shortWidth&&"\n    min-width: ".concat(28*C.iI,"px;\n  ")}),(function(e){return!e.wrapText&&"\n    white-space: nowrap;\n  "}),(function(e){return!e.secondary&&"\n    font-family: ".concat(Cn.ry,";\n    justify-content: space-between;\n  ")}),(function(e){return e.center&&"\n    justify-content: center;\n  "}),(function(e){return!e.noPadding&&!e.spacious&&!e.compact&&"\n    padding: ".concat(1.25*C.iI,"px ").concat(1.5*C.iI,"px;\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(.5*C.iI,"px ").concat(.75*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(.625*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(.625*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(.75*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(.75*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&!e.marketing&&"\n    padding: ".concat(2.25*C.iI,"px ").concat(3*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.marketing&&"\n    padding: ".concat(2.25*C.iI-2,"px ").concat(3*C.iI-2,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(1.125*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(1.125*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(1.5*C.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(1.5*C.iI,"px;\n  ")}),(function(e){return e.secondary&&"\n    flex-basis: content;\n    font-family: ".concat(Cn.nF,";\n    padding: 0;\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.bold&&"\n    font-family: ".concat(Cn.nF,";\n  ")}),(function(e){return!e.muted&&!e.inverted&&"\n    color: ".concat((e.theme.content||w.Z.content).active,";\n  ")}),(function(e){return!e.muted&&e.inverted&&"\n    color: ".concat((e.theme.content||w.Z.content).inverted,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.monotone||w.Z.monotone).grey300,";\n  ")}),(function(e){return e.warning&&"\n    color: ".concat((e.theme.brand||w.Z.brand).energy400,";\n  ")}),(function(e){return e.noHover&&"\n    &:hover {\n      cursor: default;\n    }\n  "}),(function(e){return e.blackBorder&&"\n    border: ".concat(D.YF,"px ").concat(D.M8," ").concat((e.theme.monotone||w.Z.monotone).black,";\n  ")}),(function(e){return!e.pill&&!e.borderless&&!e.compact&&"\n    border-radius: ".concat(D.n_,"px;\n  ")}),(function(e){return e.compact&&"\n    border-radius: ".concat(D.BG,"px;\n  ")}),(function(e){return!e.borderRadiusLeft&&!e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-radius: ".concat(5*C.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&!e.spacious&&"\n    border-bottom-left-radius: ".concat(5*C.iI,"px;\n    border-top-left-radius: ").concat(5*C.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-bottom-right-radius: ".concat(5*C.iI,"px;\n    border-top-right-radius: ").concat(5*C.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&e.spacious&&"\n    border-bottom-left-radius: ".concat(8*C.iI,"px;\n    border-top-left-radius: ").concat(8*C.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&e.spacious&&"\n    border-bottom-right-radius: ".concat(8*C.iI,"px;\n    border-top-right-radius: ").concat(8*C.iI,"px;\n  ")}),(function(e){return!e.noBackground&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.inverted&&!e.noBackground&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme.monotone||w.Z.monotone).black,";\n  ")}),(function(e){return!e.inverted&&!e.noBackground&&"\n    background-color: ".concat((e.theme.interactive||w.Z.interactive).defaultBackground,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||w.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.noBackground&&"\n    background-color: transparent !important;\n  "}),(function(e){return e.disabled&&e.inverted&&"\n    color: ".concat((e.theme.monotone||w.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.disabled&&!e.inverted&&"\n    color: ".concat((e.theme.monotone||w.Z.monotone).grey300," !important;\n  ")}),(function(e){return e.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.monotone||w.Z.monotone).black,";\n    color: ").concat((e.theme.monotone||w.Z.monotone).white,";\n  ")}),(function(e){return e.selected&&e.grey300&&"\n    background-color: ".concat((e.theme.monotone||w.Z.monotone).grey300,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.fire&&"\n    background-color: ".concat((e.theme.brand||w.Z.brand).fire400,";\n  ")}),(function(e){return e.useModelTheme&&"\n    color: ".concat((e.theme.monotone||w.Z.monotone).white,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.earth&&"\n    background-color: ".concat((e.theme.brand||w.Z.brand).earth400,";\n  ")}),(function(e){return e.primaryEnergy&&"\n    background-color: ".concat((e.theme.brand||w.Z.brand).energy400,";\n    border: none;\n    font-family: ").concat(Cn.nF,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.wind&&"\n    background-color: ".concat((e.theme.brand||w.Z.brand).wind400,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.water&&"\n    background-color: ".concat((e.theme.brand||w.Z.brand).water400,";\n  ")}),(function(e){return e.withIcon&&"\n    padding: ".concat(1.25*C.iI-1,"px !important;\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||w.Z.shadow).large,";\n  ")})),Dn=g.default.button.withConfig({displayName:"KeyboardShortcutButton__ButtonStyle",componentId:"sc-10tm4pj-0"})(["",""],In),_n=g.default.a.withConfig({displayName:"KeyboardShortcutButton__AnchorStyle",componentId:"sc-10tm4pj-1"})([""," ",""],In,y.R),Bn=g.default.span.withConfig({displayName:"KeyboardShortcutButton__SpanStyle",componentId:"sc-10tm4pj-2"})(["margin-right:","px;"],1*C.iI);var An,Rn,Nn,Ln=function(e){var n=e.Icon,t=e.afterElement,r=e.beforeElement,o=e.bold,i=e.borderless,c=e.centerText,u=e.children,a=e.compact,s=e.disabled,d=e.fitContentWidth,f=e.inverted,h=e.keyTextGroups,v=e.keyTextsPosition,b=void 0===v?gn.RIGHT:v,m=e.linkProps,g=e.loading,x=e.mutedDisabled,y=e.onClick,k=e.type,w=void 0===k?xn.BUTTON:k,O=e.useModelTheme,P=(0,Le.Z)(e,Sn),S=m||{},T=S.as,E=S.href,I=T||E?_n:Dn,D=(0,p.useMemo)((function(){if(!h)return null;var e=(0,l.Z)({},b===gn.RIGHT?"ml":"mr",u?1:0);return(0,Z.jsx)(j.Z,En(En({},e),{},{children:(0,Z.jsx)(L,{borderless:f,disabled:s,keyTextGroups:h,mutedDisabled:x})}))}),[u,s,f,h,b,x]),_=((0,p.useContext)(wn)||{}).sharedProps;return(0,Z.jsx)(yn,En(En({},P),{},{buildChildren:function(e){var l=e.eventProperties,p=e.eventType,h=e.logEvent,v=e.onClick,y=e.userProperties,k=(0,Z.jsxs)(I,En(En(En({},P),O?_:{}),{},{center:c,compact:a,bold:O||o,borderless:O||i,disabled:s||x,fitContentWidth:d,inverted:f,noHover:!v&&!(T||E)&&w===xn.BUTTON,onClick:function(e){hn(h,p,{eventProperties:l,userProperties:y}),null===v||void 0===v||v(e)},type:T||E?null:w,useModelTheme:O,withIcon:!!n,children:[r&&!g&&(0,Z.jsxs)(Z.Fragment,{children:[r,(0,Z.jsx)(j.Z,{mr:1})]}),b===gn.LEFT&&D,(0,Z.jsxs)(ze.Z,{alignItems:"center",children:[n&&(0,Z.jsx)(n,{inverted:!f,muted:s||x,size:2.5*C.iI}),n&&u&&(0,Z.jsx)(j.Z,{mr:1}),g&&(0,Z.jsx)(Bn,{children:(0,Z.jsx)(On.Z,{inverted:!f})}),!g&&u]}),b===gn.RIGHT&&D&&(0,Z.jsx)(j.Z,{ml:1,children:D}),t&&!g&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j.Z,{ml:t?1:0}),t]})]}));return!T&&!E||s||x?k:(0,Z.jsx)(Fe(),En(En({},m),{},{passHref:!0,children:k}))},disabled:s||x,linkProps:m,onClick:y}))};!function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(An||(An={})),function(e){e.IMAGE_PNG="image/png",e.TABLE="table",e.TEXT="text",e.TEXT_PLAIN="text/plain"}(Rn||(Rn={})),function(e){e.STATUS="status",e.STREAM="stream"}(Nn||(Nn={}));var Mn=t(56085),Fn=t(16910);function zn(e,n){var t=(n.theme.borders||w.Z.borders).light;return i.TRANSFORMER===e?t=(n.theme.accent||w.Z.accent).purple:i.DATA_EXPORTER===e?t=(n.theme.accent||w.Z.accent).yellow:i.DATA_LOADER===e?t=(n.theme.accent||w.Z.accent).blue:i.SCRATCHPAD===e&&(t=(n.theme.content||w.Z.content).muted),{accent:t}}var Hn=(0,g.css)([""," ",""],(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(zn(e.blockType,e).accent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||w.Z.borders).danger,";\n  ")})),Un=g.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;overflow:hidden;position:relative;"],D.n_),Wn=g.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;"," "," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],Hn,D.n_,D.n_,C.iI,C.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.background||w.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(D.n_,"px;\n    border-bottom-right-radius: ").concat(D.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),Kn=g.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:1;&:hover{.block-divider-inner{","}}"],2*C.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||w.Z.text).fileBrowser,";\n      ")})),Gn=g.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),qn=C.cd*C.iI,Vn=g.default.div.withConfig({displayName:"indexstyle__IconContainerStyle",componentId:"sc-oyfjzc-0"})(["align-items:center;border-radius:","px;border:1px solid transparent;display:flex;justify-content:center;"," "," "," "," "," ",""],D.BG,(function(e){return e.border&&"\n    border: 1px dotted ".concat((e.theme.content||w.Z.content).active,";\n  ")}),(function(e){return e.blue&&"\n    background-color: ".concat(zn(i.DATA_LOADER,e).accent,";\n  ")}),(function(e){return e.purple&&"\n    background-color: ".concat(zn(i.TRANSFORMER,e).accent,";\n  ")}),(function(e){return e.yellow&&"\n    background-color: ".concat(zn(i.DATA_EXPORTER,e).accent,";\n  ")}),(function(e){return!e.compact&&"\n    height: ".concat(qn+C.iI/2,"px;\n    width: ").concat(qn+C.iI/2,"px;\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(qn/2+C.iI,"px;\n    width: ").concat(qn/2+C.iI,"px;\n  ")}));function Xn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Jn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Xn(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Xn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Yn=function(e){var n=e.addNewBlock,t=e.compact,r={compact:t,inline:!0};return(0,Z.jsxs)(x.Z,{inline:!0,children:[(0,Z.jsx)(Ln,Jn(Jn({},r),{},{beforeElement:(0,Z.jsx)(Vn,{compact:t,purple:!0,children:(0,Z.jsx)(O.mm,{size:t?qn/2:qn})}),onClick:function(e){e.preventDefault(),n({type:i.TRANSFORMER})},uuid:"AddNewBlocks/Transformer",children:"Transformer"})),(0,Z.jsx)(j.Z,{ml:1}),(0,Z.jsx)(Ln,Jn(Jn({},r),{},{beforeElement:(0,Z.jsx)(Vn,{blue:!0,compact:t,children:(0,Z.jsx)(O.mm,{size:t?qn/2:qn})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_LOADER})},uuid:"AddNewBlocks/Data_loader",children:"Data loader"})),(0,Z.jsx)(j.Z,{ml:1}),(0,Z.jsx)(Ln,Jn(Jn({},r),{},{beforeElement:(0,Z.jsx)(Vn,{compact:t,yellow:!0,children:(0,Z.jsx)(O.mm,{inverted:!0,size:t?qn/2:qn})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_EXPORTER})},uuid:"AddNewBlocks/Data_exporter",children:"Data exporter"})),(0,Z.jsx)(j.Z,{ml:1}),(0,Z.jsx)(Ln,Jn(Jn({},r),{},{beforeElement:(0,Z.jsx)(Vn,{border:!0,compact:t,children:(0,Z.jsx)(O.mm,{size:t?qn/2:qn})}),onClick:function(e){e.preventDefault(),n({type:i.SCRATCHPAD})},uuid:"AddNewBlocks/Scratchpad",children:"Scratchpad"}))]})},Qn=t(60328),$n=["children"];function et(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?et(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):et(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var tt=g.default.div.withConfig({displayName:"Circle__CircleStyle",componentId:"sc-1o70504-0"})([""," "," "," "," "," "," ",""],(function(e){return!e.square&&"\n    border-radius: 50%;\n  "}),(function(e){return e.square&&"\n    border-radius: ".concat(D.BG,"px;\n  ")}),(function(e){return!e.color&&!e.borderSize&&"\n    background-color: ".concat((e.theme.content||w.Z.content).muted,";\n  ")}),(function(e){return e.borderSize&&"\n    border: ".concat(e.borderSize,"px solid ").concat((e.theme.content||w.Z.content).active,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color,";\n  ")}),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.borders||w.Z.borders).danger,";\n  ")}));var rt=function(e){var n=e.children,t=(0,Le.Z)(e,$n);return(0,Z.jsx)(tt,nt(nt({},t),{},{children:(0,Z.jsx)(x.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:n&&(0,Z.jsx)(ze.Z,{children:n})})}))},ot=t(85202),it=t(38789),ct=t(66166),ut="twilight",at=g.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-w2hta3-0"})([""]),lt=g.default.div.withConfig({displayName:"indexstyle__PlaceholderStyle",componentId:"sc-w2hta3-1"})(["padding-left:67px;position:absolute;z-index:1;"]);var st={"all-hallows-eve":"All Hallows Eve","birds-of-paradise":"Birds of Paradise","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","espresso-libre":"Espresso Libre","kuroir-theme":"Kuroir Theme","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","monokai-bright":"Monokai Bright","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night":"Tomorrow-Night","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",active4d:"Active4D",amy:"Amy",blackboard:"Blackboard",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel",github:"GitHub",idle:"IDLE",idlefingers:"idleFingers",iplastic:"iPlastic",katzenmilch:"Katzenmilch",krtheme:"krTheme",lazy:"LAZY",merbivore:"Merbivore",monoindustrial:"monoindustrial",monokai:"Monokai",spacecadet:"SpaceCadet",sunburst:"Sunburst",tomorrow:"Tomorrow",twilight:"Twilight",zenburnesque:"Zenburnesque"};var dt=function(e){var n=e.autoHeight,r=e.autoSave,o=e.fontSize,i=void 0===o?Pn.i3:o,c=e.height,u=e.language,l=e.onChange,s=e.onDidChangeCursorPosition,d=e.onSave,f=e.placeholder,h=e.runBlock,v=e.selected,b=e.setSelected,m=e.setTextareaFocused,g=(e.showLineNumbers,e.textareaFocused),x=e.theme,y=e.value,j=e.width,w=void 0===j?"100%":j,O=(0,p.useRef)(null),C=(0,p.useRef)(null),P=(0,p.useRef)(null),S=(0,p.useState)(!1),T=S[0],E=S[1],I=(0,p.useState)(c),D=(I[0],I[1],(0,p.useState)(x||ut)),_=D[0],B=D[1],A=(0,p.useCallback)((function(e){e.languages.typescript.javascriptDefaults.setEagerModelSync(!0)}),[]),R=(0,p.useCallback)((function(e,t){O.current=e,C.current=t;var r=[];d&&r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"saveCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],label:"Save",precondition:null,run:function(e){n()}}}(t,(function(){d(e.getValue())}))),r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"executeCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.Enter],label:"Run selected block",precondition:null,run:function(){return n()}}}(t,(function(){h(e.getValue())}))),function(e,n,t){t.forEach((function(e){n.addAction(e)}))}(0,e,r),e.getModel().updateOptions({tabSize:4}),n&&!c&&(e._domElement.style.height="".concat(21*((y||"").split("\n").length+2),"px")),e.onDidFocusEditorWidget((function(){null===b||void 0===b||b(!0),null===m||void 0===m||m(!0)})),e.onDidContentSizeChange((function(t){var r=t.contentHeight,o=t.contentHeightChanged;n&&o&&(e._domElement.style.height="".concat(r+42,"px"))})),v&&g&&setTimeout((function(){e.focus()}),1),s&&e.onDidChangeCursorPosition((function(n){var t=n.position.lineNumber,r=e._domElement.getBoundingClientRect(),o=r.height,i=r.top;s({editorRect:{height:Number(o),top:Number(i)},position:{lineNumber:Number(t)}})})),E(!0)}),[n,c,s,d,P.current,h,v,E,b,m,g,y]);(0,p.useEffect)((function(){(function(e){return new Promise((function(n){Promise.all([it._m.init(),t(7432)("./".concat(st[e],".json"))]).then((function(t){var r=(0,a.Z)(t,2),o=r[0],i=r[1];i.colors["editor.background"]="#000000",i.colors["editor.foreground"]="#FFFFFF",o.editor.defineTheme(e,i),n()}))}))})(ut).then((function(){B(ut)}))}),[]),(0,p.useEffect)((function(){var e;return r&&d&&(e=setInterval((function(){d(O.current.getValue())}),5e3)),function(){r&&e&&clearInterval(e)}}),[r,O,d]);var N=(0,ct.Z)(v),L=(0,ct.Z)(g);return(0,p.useEffect)((function(){null!==O&&void 0!==O&&O.current&&(v&&g?setTimeout((function(){O.current.focus()}),1):ot.findDOMNode(O.current._domElement).getElementsByClassName("inputarea")[0].blur())}),[O,v,N,g,L]),(0,Z.jsxs)(at,{style:{display:T?null:"none"},children:[f&&!(null!==y&&void 0!==y&&y.length)&&(0,Z.jsx)(lt,{children:(0,Z.jsx)(k.ZP,{monospace:!0,muted:!0,children:f})}),(0,Z.jsx)(it.ZP,{beforeMount:A,height:c,language:u||"python",onChange:function(e){null===l||void 0===l||l(e)},onMount:R,options:{fontFamily:Cn.Vp,fontSize:i,hideCursorInOverviewRuler:!0,minimap:{enabled:!1},overviewRulerBorder:!1,renderLineHighlightOnlyWhenFocus:!0,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},wordBasedSuggestions:!1},theme:_,value:y,width:w}),(0,Z.jsx)("div",{ref:P})]})},pt=t(89565),ft=t.n(pt),ht=t(62976),vt=(0,g.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),bt=g.default.div.withConfig({displayName:"TooltipWrapper__ContainerStyle",componentId:"sc-1dd57l8-0"})(["",""],vt),mt=g.default.span.withConfig({displayName:"TooltipWrapper__ContainerSpanStyle",componentId:"sc-1dd57l8-1"})(["",""],vt),gt=g.default.a.withConfig({displayName:"TooltipWrapper__HoverStyle",componentId:"sc-1dd57l8-2"})([""," "," border-radius:50%;"," "," &:active,&:focus{outline:none;}",""],(0,Zn.eR)(),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return!e.block&&"\n    display: inline-block;\n  "}),(function(e){return e.block&&"\n    display: block;\n  "}),(function(e){return!e.noHoverOutline&&"\n    &:hover {\n      cursor: pointer;\n\n      box-shadow:\n        0 0 0 ".concat(D.PV,"px ").concat((0,Qn.W)(e),",\n        0 0 0 ").concat(D.PV+D.q2,"px ").concat((e.theme.interactive||w.Z.interactive).hoverOverlay,";\n    }\n  ")})),xt=g.default.span.withConfig({displayName:"TooltipWrapper__BasicStyle",componentId:"sc-1dd57l8-3"})([""]),yt=g.default.div.withConfig({displayName:"TooltipWrapper__ContentStyle",componentId:"sc-1dd57l8-4"})(["position:absolute;z-index:3;"," "," "," "," "," "," "," "," ",""],(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||w.Z.shadow).base,";\n  ")}),(function(e){return e.appearAbove&&!e.size&&"\n    bottom: 0;\n  "}),(function(e){return e.appearAbove&&e.size&&"\n    bottom: ".concat(e.size+D.PV+D.q2,"px;\n  ")}),(function(e){return e.appearBefore&&"\n    right: 0;\n  "}),(function(e){return e.leftPosition&&"\n    left: ".concat(e.leftPosition,"px;\n  ")}),(function(e){return!e.leftPosition&&e.rightPosition&&"\n    right: 0px;\n  "}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n  ")}),(function(e){return e.widthFitContent&&"\n    width: max-content;\n  "}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}));var jt=function(e){var n=e.alignLeft,t=e.appearAbove,r=e.appearBefore,o=e.autoWidth,i=e.basic,c=e.block,u=e.center,a=e.children,l=e.content,s=e.inline,d=e.minWidth,f=e.noHoverOutline,h=e.size,v=void 0===h?2*C.iI:h,b=e.topOffset,m=e.widthFitContent,g=(0,p.useState)(!1),x=g[0],y=g[1],j=(0,p.useState)(!1),k=j[0],w=j[1],O=(d-v)/-2,P=s?mt:bt,S=i?xt:gt,T=(0,Z.jsx)(S,{block:c,href:"#",noHoverOutline:f,onClick:function(e){return e.preventDefault()},onMouseEnter:function(){return y(!0)},size:v,children:a});return(0,p.useEffect)((function(){var e=setInterval((function(){return w(!0)}),1e3);return x||clearInterval(e),function(){return clearInterval(e)}}),[w,x]),(0,Z.jsxs)(P,{onMouseLeave:function(){y(!1),w(!1)},size:v,children:[T,k&&(0,Z.jsx)(yt,{appearAbove:t,appearBefore:r,leftPosition:u?O:null,minWidth:o?d:null,rightPosition:n,size:v,topOffset:b,widthFitContent:m,children:l})]})},kt=["autoWidth","children","default","description","inverted","keyboardShortcuts","label","maxWidth","muted","size","warning","widthFitContent"];function wt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ot(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wt(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ct=42*C.iI,Pt=((0,g.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),(0,g.css)(["border-radius:","px;"," "," ",""],D.BG,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||w.Z.shadow).popup,";\n\n    background-color: ").concat((e.theme.background||w.Z.background).popup,";\n  ")}),(function(e){return e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(Ct,"px;\n  ")}))),Zt=g.default.div.withConfig({displayName:"Tooltip__LabelStyle",componentId:"sc-allmdq-0"})([""," padding:","px ","px;"],Pt,.75*C.iI,1*C.iI),St=g.default.div.withConfig({displayName:"Tooltip__DescriptionStyle",componentId:"sc-allmdq-1"})([""," padding:","px ","px;"],Pt,1.5*C.iI,2*C.iI);var Tt=function(e){var n=e.autoWidth,t=e.children,r=e.default,o=e.description,i=e.inverted,c=e.keyboardShortcuts,u=e.label,a=e.maxWidth,l=e.muted,s=e.size,d=void 0===s?2*C.iI:s,f=e.warning,h=e.widthFitContent,v=(0,Le.Z)(e,kt),b=o||u||"",m=o?St:Zt,g=Math.min(a||Ct,b.length*C.Fo),y=[];null===c||void 0===c||c.forEach((function(e,n){n>=1&&y.push((0,Z.jsx)(k.ZP,{default:!0,children:"+"})),y.push(e)}));var j=y.map((function(e,n){var t="keyboard-shortcut-".concat(n);return"string"===typeof e?(0,Z.jsx)("span",{children:e},t):p.cloneElement(e,{key:t})}));return(0,Z.jsx)(jt,Ot(Ot({},v),{},{autoWidth:n,content:(0,Z.jsx)(m,{autoWidth:n,width:a,widthFitContent:h,children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[(0,Z.jsx)(k.ZP,{whiteSpaceNormal:!0,children:b}),j.length>=1&&(0,Z.jsx)(k.ZP,{muted:!0,children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),j.length>=1&&j]})}),minWidth:g,noHoverOutline:!!t,size:d,widthFitContent:h,children:t||(0,Z.jsx)(O.kI,{default:r,inverted:i,muted:l,size:d,warning:f})}))},Et=g.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-n38rkq-0"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;overflow:hidden;"," "," ",""],Hn,(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).table,";\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.background||w.Z.background).table,";\n  ")}),(function(e){return!e.executedAndIdle&&"\n    border-bottom-left-radius: ".concat(D.n_,"px;\n    border-bottom-right-radius: ").concat(D.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),It=g.default.div.withConfig({displayName:"indexstyle__OutputRowStyle",componentId:"sc-n38rkq-1"})(["padding-left:","px;padding-right:","px;"," ",""],68,C.iI*C.cd,(function(e){return e.first&&"\n    padding-top: ".concat(C.iI*C.cd,"px;\n  ")}),(function(e){return e.last&&"\n    padding-bottom: ".concat(C.iI*C.cd,"px;\n  ")})),Dt=g.default.div.withConfig({displayName:"indexstyle__ExtraInfoStyle",componentId:"sc-n38rkq-2"})([""," border-bottom-style:solid;border-bottom-width:2px;border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;"," ",""],Hn,(function(e){return"\n    background-color: ".concat((e.theme.borders||w.Z.borders).light,";\n    border-bottom-left-radius: ").concat(D.n_,"px;\n    border-bottom-right-radius: ").concat(D.n_,"px;\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.borders||w.Z.borders).light,";\n  ")})),_t=g.default.div.withConfig({displayName:"indexstyle__ExtraInfoContentStyle",componentId:"sc-n38rkq-3"})(["padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;"],C.iI,68,C.iI*C.cd,C.iI),Bt=g.default.div.withConfig({displayName:"indexstyle__ExtraInfoBorderStyle",componentId:"sc-n38rkq-4"})(["height:1px;width:100%;",""],(function(e){return"\n    border-top: 1px solid ".concat((e.theme.borders||w.Z.borders).medium,";\n  ")})),At=t(37391);function Rt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rt(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Lt=function(e){var n=e.block,t=e.hasError,r=e.isInProgress,o=e.mainContainerWidth,i=e.messages,u=e.runCount,a=e.runEndTime,l=e.runStartTime,s=e.selected,d=n.status,f=n.type,h=(0,p.useMemo)((function(){return(null===i||void 0===i?void 0:i.length)||0}),[i]),v=(i[0].type,c.EXECUTED===d||!r&&0===u&&h>=1||!r&&u>=1&&a>=l);Rn.TABLE;var b=(0,p.useCallback)((function(e){var n=e.columns,t=e.rows;return t.length>=1&&(0,Z.jsx)(ht.Z,{columns:n,disableScrolling:!s,height:40*C.iI,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:t,width:o-(2+C.cd*C.iI*2+2+At.nn)})}),[s,o]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Et,{blockType:f,executedAndIdle:v,hasError:t,selected:s,children:null===i||void 0===i?void 0:i.map((function(e,n){var t=e.data,r=e.type;if(t&&0!==(null===t||void 0===t?void 0:t.length)){var o=[],i=(o=(o=Array.isArray(t)?t:[t]).filter((function(e){return e}))).length;return o.map((function(e,t){var o,c=/^\[__internal_output__\]/,u={first:0===n&&0===t,last:n===h-1&&t===i-1};if("string"===typeof e&&e.match(c)){var a=e.replace(c,"");if(_e.Pb){var l=JSON.parse(a),s=l.data,d=l.type;Rn.TABLE===d&&(o=b(s))}}else r===Rn.TABLE?o=b((0,_e.Pb)(e)?JSON.parse(e):e):r===Rn.TEXT||r===Rn.TEXT_PLAIN?o=(0,Z.jsx)(It,Nt(Nt({},u),{},{children:(0,Z.jsx)(k.ZP,{monospace:!0,preWrap:!0,children:(0,Z.jsx)(ft(),{children:e})})})):r===Rn.IMAGE_PNG&&(o=(0,Z.jsx)("div",{style:{backgroundColor:"white"},children:(0,Z.jsx)("img",{alt:"Image {idx} from code output",src:"data:image/png;base64, ".concat(e)})}));return(0,Z.jsx)("div",{children:o},e)}))}}))}),v&&(0,Z.jsxs)(Dt,{blockType:f,hasError:t,selected:s,children:[(0,Z.jsx)(Bt,{}),(0,Z.jsx)(_t,{children:(0,Z.jsx)(x.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:(0,Z.jsx)(Tt,{appearAbove:!0,appearBefore:!0,block:!0,label:u>=1&&l?"Last run at ".concat(l):t?"Block executed with errors":"Block executed successfully",size:null,widthFitContent:!0,children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[u>=1&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(k.ZP,{small:!0,children:[(Number(a)-Number(l))/1e3,"s"]}),(0,Z.jsx)(j.Z,{mr:1})]}),!t&&(0,Z.jsx)(O.Jr,{size:2*C.iI,success:!0}),t&&(0,Z.jsx)(rt,{danger:!0,size:2*C.iI,children:(0,Z.jsx)(k.ZP,{bold:!0,monospace:!0,small:!0,children:"!"})})]})})})})]})]})},Mt=g.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-knskck-0"})(["border-radius:","px;margin-top:","px;padding:","px;position:absolute;right:-","px;z-index:1;",""],D.BG,1.5*C.iI,C.iI,C.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.interactive||w.Z.interactive).defaultBackground,";\n  ")}));var Ft=function(e){var n=e.block,t=e.deleteBlock,r=e.executionState,o=e.interruptKernel,i=e.runBlock,c=n.uuid.uuid,u=(0,p.useContext)(g.ThemeContext),a=An.IDLE!==r,l=zn(n.type,{theme:u}).accent;return(0,Z.jsx)(Mt,{children:(0,Z.jsxs)(x.Z,{alignItems:"center",flexDirection:"column",children:[An.QUEUED===r&&(0,Z.jsx)(On.Z,{color:(u||w.Z).content.active,type:"cylon"}),An.BUSY===r&&(0,Z.jsx)(On.Z,{color:(u||w.Z).content.active}),!a&&(0,Z.jsx)(Tt,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,Z.jsxs)(k.ZP,{children:["Run block \xa0 \xa0",(0,Z.jsx)(L,{inline:!0,monospace:!0,keyTextGroups:[[z.RJ,z.Lz]],uuidForKey:c})]}),size:3*C.iI,widthFitContent:!0,children:(0,Z.jsx)(Qn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return i()},children:(0,Z.jsx)(rt,{color:l,size:3*C.iI,children:(0,Z.jsx)(O.Py,{black:!0,size:1.5*C.iI})})})}),(0,Z.jsx)(j.Z,{mt:C.cd,children:(0,Z.jsx)(Tt,{appearBefore:!0,default:!0,label:(0,Z.jsxs)(k.ZP,{children:["Delete block and file \xa0 \xa0",(0,Z.jsx)(L,{inline:!0,monospace:!0,keyTextGroups:[[z.jW],[z.jW]],uuidForKey:c})]}),size:2.5*C.iI,widthFitContent:!0,children:(0,Z.jsx)(Qn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return t(n)},children:(0,Z.jsx)(O.rF,{size:2.5*C.iI})})})}),a&&(0,Z.jsx)(j.Z,{mt:C.cd,children:(0,Z.jsx)(Tt,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,Z.jsxs)(k.ZP,{children:["Interrupt kernel \xa0 \xa0",(0,Z.jsx)(L,{inline:!0,monospace:!0,keyTextGroups:[[z.kA],[z.kA]],uuidForKey:c})]}),size:2.5*C.iI,widthFitContent:!0,children:(0,Z.jsx)(Qn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return o()},children:(0,Z.jsx)(rt,{borderSize:1.5,size:2.5*C.iI,children:(0,Z.jsx)(O.x8,{size:1*C.iI})})})})})]})})},zt=t(82944),Ht=["bold","defaultColor","description","disableWordBreak","inputValue","inputWidth","invertedTheme","label","menuOpen","monospace","muted","onClick","notRequired","selectedTextProps","small","stacked","tooltipProps","value"];function Ut(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Wt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ut(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ut(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Kt=g.default.div.withConfig({displayName:"LabelWithValueClicker__LabelStyle",componentId:"sc-1hzpn4h-0"})(["margin-bottom:","px;"],.25*C.iI),Gt=g.default.div.withConfig({displayName:"LabelWithValueClicker__DescriptionStyle",componentId:"sc-1hzpn4h-1"})([""]);var qt=function(e){var n=e.bold,t=void 0===n||n,r=e.defaultColor,o=e.description,i=e.disableWordBreak,c=e.inputValue,u=e.inputWidth,a=e.invertedTheme,l=e.label,s=e.menuOpen,d=void 0!==s&&s,f=e.monospace,h=e.muted,v=e.onClick,b=e.notRequired,m=e.selectedTextProps,g=e.small,w=e.stacked,O=e.tooltipProps,C=e.value,P=(0,Le.Z)(e,Ht),S=(0,p.useRef)(null),T=(0,p.useState)(!1),E=T[0],I=T[1],D=(0,p.useState)(!1),_=D[0],B=D[1],A=l&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(k.ZP,{bold:t,inverted:a,lineHeight:20,monospace:f,muted:h,small:g,children:l}),O&&(0,Z.jsx)(j.Z,{ml:1,children:(0,Z.jsx)(Tt,Wt({muted:!0},O))})]}),R=(0,Z.jsxs)(Z.Fragment,{children:[C&&(0,Z.jsx)(y.Z,{block:!0,danger:null===m||void 0===m?void 0:m.danger,fullWidth:!0,muted:h,onClick:function(){v(),S.current&&S.current.focus(),I(!0)},preventDefault:!0,sameColorAsText:h||!(null!==m&&void 0!==m&&m.primary)&&!(null!==m&&void 0!==m&&m.danger)&&!(null!==m&&void 0!==m&&m.warning),underline:null===m||void 0===m?void 0:m.underline,warning:null===m||void 0===m?void 0:m.warning,children:(0,Z.jsx)(k.ZP,Wt(Wt({inverted:a,muted:h},m),{},{disableWordBreak:i,monospace:f,small:g,width:u,children:C}))}),(0,Z.jsx)(zt.Z,Wt(Wt({},P),{},{basic:!0,defaultColor:r,invertedTheme:a,monospace:f,onBlur:function(e){I(!1),P.onBlur&&P.onBlur(e),_||B(!0)},onFocus:function(e){I(!0),P.onFocus&&P.onFocus(e)},ref:S,small:g,value:c,visible:!C}))]}),N=o&&(0,Z.jsx)(Gt,{children:(0,Z.jsx)(k.ZP,{dangerouslySetInnerHTML:{__html:o},monospace:f,muted:!0,small:g})});return(0,Z.jsxs)(Z.Fragment,{children:[w&&(0,Z.jsxs)(Z.Fragment,{children:[A&&(0,Z.jsxs)(Kt,{children:[(0,Z.jsx)(x.Z,{alignItems:"center",fullHeight:!1,fullWidth:!0,children:A}),N]}),R]}),!w&&(0,Z.jsxs)(x.Z,{alignItems:"center",fullWidth:!0,children:[A&&(0,Z.jsxs)(Z.Fragment,{children:[A,(0,Z.jsx)(j.Z,{ml:1})]}),(0,Z.jsx)(ze.Z,{flex:"1",children:R})]}),_&&!E&&!C&&!d&&!b&&(0,Z.jsx)(k.ZP,{danger:!0,small:g,children:"This field is required."})]})};function Vt(e,n){var t=e.map((function(e){return String(e)})),r=e.includes(z.PQ),o=e.includes(z.zX),i=e.includes(z.XR),c=z.xU.map((function(e){return String(e)})),u=z.vk.map((function(e){return String(e)})),l=z.Tr.map((function(e){return String(e)})),s=Object.entries(n).find((function(e){var n=(0,a.Z)(e,2),s=n[0];return n[1]&&!t.includes(String(s))&&(!o||!u.includes(String(s)))&&(!r||!c.includes(String(s)))&&(!i||!l.includes(String(s)))}));return e.every((function(e){return n[e]}))&&!s}function Xt(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}function Jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Yt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Jt(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Qt(e,n){var t,r=e.addNewBlock,o=e.block,c=e.defaultValue,u=void 0===c?"":c,l=e.deleteBlock,s=e.executionState,d=e.fetchFileTree,h=e.fetchPipeline,m=e.height,w=e.interruptKernel,P=e.mainContainerRef,S=e.mainContainerWidth,T=e.messages,E=void 0===T?[]:T,I=e.noDivider,D=e.onChange,_=e.pipeline,B=e.runBlock,A=e.selected,R=e.setAnyInputFocused,N=e.setEditingBlock,L=e.setSelected,M=e.setTextareaFocused,F=e.textareaFocused,U=(0,p.useContext)(g.ThemeContext),W=(0,p.useState)(!1),K=W[0],G=W[1],q=(0,p.useState)(u),V=q[0],X=q[1],J=(0,p.useState)(null),Y=J[0],Q=J[1],$=(0,p.useState)(!1),ee=$[0],ne=$[1],te=(0,p.useState)(o.uuid),re=te[0],oe=te[1],ie=(0,p.useState)(0),ce=ie[0],ue=ie[1],ae=(0,p.useState)(null),le=ae[0],se=ae[1],de=(0,p.useState)(null),pe=de[0],fe=de[1],he=(0,p.useCallback)((function(e){B({block:o,code:e||V}),ue(1+Number(ce)),se(null)}),[o,V,ce,B,ue,se]),ve=(0,ct.Z)(E);(0,p.useEffect)((function(){(null===ve||void 0===ve||!ve.length)&&(null===E||void 0===E?void 0:E.length)>=1&&fe(Number(new Date))}),[E,ve,fe]);var be=(null===E||void 0===E?void 0:E.length)>=1&&s!==An.IDLE,me=(0,ct.Z)(s);(0,p.useEffect)((function(){s===An.IDLE&&s!==me&&se(Number(new Date))}),[s,me,se]);var ge=(0,p.useCallback)((function(e){var n=e.editorRect,t=(n.height,n.top),r=e.position.lineNumber;if(null!==P&&void 0!==P&&P.current){var o=P.current.getBoundingClientRect().height,i=21*r;if(t+i>o){var c=P.current.scrollTop+(i-o+t);P.current.scrollTo(0,c)}else if(i+t<21){var u=P.current.scrollTop+(i+t-21);P.current.scrollTo(0,u)}}}),[P]),xe=(0,p.useMemo)((function(){return(null===Y||void 0===Y?void 0:Y.length)>=0?Y.map((function(e){return{data:e,execution_state:An.IDLE,type:Rn.TEXT_PLAIN}})):E.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[Y,E]),ye=!!xe.find((function(e){return e.error})),je=zn(o.type,{theme:U}).accent,ke=(null===o||void 0===o||null===(t=o.upstream_blocks)||void 0===t?void 0:t.length)||0,Oe=(0,p.useMemo)((function(){return{blockType:o.type,hasError:ye,selected:A}}),[o.type,ye,A]),Ce=xe.length>=1,Pe=(0,p.useCallback)((function(){A||(R(!1),L(!0))}),[R,L]),Ze=(0,f.Db)(Ie.blocks.pipelines.useUpdate(null===_||void 0===_?void 0:_.uuid,o.uuid),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(){ne(!1),h(),d()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){var n=(0,we.qQ)(e).messages;Q(n)}}),Se=(0,a.Z)(Ze,1)[0],Te="CodeBlock/".concat(o.uuid),Ee=(0,H.y)(),De=Ee.registerOnKeyDown,Be=Ee.unregisterOnKeyDown;(0,p.useEffect)((function(){return function(){Be(Te)}}),[Be,Te]),De(Te,(function(e,n,t){ee&&String(t[0])===String(z.Uq)&&String(t[1])!==String(z.zX)?Se({block:Yt(Yt({},o),{},{name:re})}):A&&(Vt([z.zX,z.Uq],n)?he():Vt([z.XR,z.Uq],n)&&(e.preventDefault(),he(),r({type:o.type})))}),[r,o,ee,re,he,A,Se]);var Ae=(0,p.useMemo)((function(){return(0,Z.jsx)(dt,{autoHeight:!0,height:m,onChange:function(e){X(e),null===D||void 0===D||D(e)},onDidChangeCursorPosition:ge,placeholder:"Start typing here...",runBlock:he,selected:A,setSelected:L,setTextareaFocused:M,textareaFocused:F,value:V,width:"100%"})}),[V,m,A,F]),Re=(0,p.useMemo)((function(){return Ce&&(0,Z.jsx)(Lt,Yt(Yt({},Oe),{},{block:o,isInProgress:be,mainContainerWidth:S,messages:xe,runCount:ce,runEndTime:le,runStartTime:pe,selected:A}))}),[o,Oe,Ce,be,S,xe,ce,le,pe,A]);return(0,Z.jsxs)("div",{ref:n,style:{position:"relative"},children:[(0,Z.jsxs)(x.Z,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:C.iI/2},children:[(0,Z.jsxs)(ze.Z,{alignItems:"center",flex:1,children:[(0,Z.jsx)(Tt,{block:!0,label:v[o.type],size:null,widthFitContent:!0,children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[(0,Z.jsx)(rt,{color:je,size:1.5*C.iI,square:!0}),(0,Z.jsx)(j.Z,{mr:1}),(0,Z.jsx)(k.ZP,{color:je,monospace:!0,children:b[o.type]})]})}),(0,Z.jsx)(j.Z,{mr:C.cd}),(0,Z.jsx)(O.iU,{size:1.5*C.iI}),(0,Z.jsx)(j.Z,{mr:1}),(0,Z.jsxs)(x.Z,{alignItems:"center",children:[(0,Z.jsx)(qt,{bold:!1,inputValue:re,muted:!0,monospace:!0,notRequired:!0,onBlur:function(){return setTimeout((function(){return ne(!1)}),300)},onChange:function(e){oe(e.target.value),Xt(e)},onClick:function(){return ne(!0)},onFocus:function(){return ne(!0)},stacked:!0,value:!ee&&o.uuid}),ee&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j.Z,{ml:1}),(0,Z.jsx)(y.Z,{onClick:function(){return Se({block:Yt(Yt({},o),{},{name:re})})},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),i.SCRATCHPAD!==o.type&&(0,Z.jsx)("div",{children:(0,Z.jsx)(Tt,{appearBefore:!0,block:!0,label:"\n                ".concat((0,_e._6)("parent block",ke),". ").concat(0===ke?"Click to select 1 or more blocks to depend on.":"Edit parent blocks.","\n              "),size:null,widthFitContent:!0,children:(0,Z.jsx)(Qn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e;N({upstreamBlocks:{block:o,values:null===(e=o.upstream_blocks)||void 0===e?void 0:e.map((function(e){return{uuid:e}}))}}),L(!0)},children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[(0,Z.jsxs)(k.ZP,{monospace:ke>=1,underline:0===ke,children:[0===ke&&"Click to set parent blocks",ke>=1&&(0,_e._6)("parent block",ke)]}),(0,Z.jsx)(j.Z,{mr:1}),(0,Z.jsx)(O.Kq,{size:2*C.iI})]})})})})]}),(A||be)&&(0,Z.jsx)(Ft,{block:o,deleteBlock:l,executionState:s,interruptKernel:w,runBlock:he}),(0,Z.jsxs)(Un,{onClick:function(){return Pe()},children:[(0,Z.jsx)(Wn,Yt(Yt({},Oe),{},{className:A&&F?"selected":null,hasOutput:Ce,children:Ae})),Re]}),!I&&(0,Z.jsxs)(Kn,{onMouseEnter:function(){return G(!0)},onMouseLeave:function(){return G(!1)},children:[K&&(0,Z.jsx)(Yn,{addNewBlock:r,compact:!0}),(0,Z.jsx)(Gn,{className:"block-divider-inner"})]})]})}var $t=p.forwardRef(Qt);var er=function(e){var n,t=e.isBusy,r=e.isPipelineUpdating,o=e.kernel,i=e.pipelineContentTouched,c=e.pipelineLastSaved,u=e.restartKernel,a=(0,p.useState)(!1),l=a[0],s=a[1],d=(0,p.useContext)(g.ThemeContext),f=o||{},h=f.alive,v=f.name;return n=i?"Unsaved changes":r?"Saving changes...":c?"Last saved ".concat((0,_e.JX)(Number(c)/1e3)):"All changes saved",(0,Z.jsxs)(x.Z,{alignItems:"center",justifyContent:"space-between",onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},children:[(0,Z.jsxs)(ze.Z,{alignItems:"center",children:[(0,Z.jsx)(Tt,{block:!0,label:h?"Kernel is alive and well.":"Kernel has not started or died, please restart.",size:null,widthFitContent:!0,children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[(0,Z.jsx)(rt,{color:t?(d||w.Z).borders.info:h?(d||w.Z).borders.success:(d||w.Z).borders.danger,size:C.iI}),(0,Z.jsx)(j.Z,{mr:1}),(0,Z.jsx)(k.ZP,{children:h?"".concat(v," kernel is ").concat(t?"busy":"alive"):"Kernel is dead"})]})}),(0,Z.jsx)(j.Z,{mr:1,my:2}),(!h||l)&&(0,Z.jsxs)(Ln,{compact:!0,inline:!0,keyTextGroups:[[z.t_[z.OC]],[z.t_[z.OC]]],onClick:function(){return u()},uuid:"KernelStatus/restartKernel",children:[h?"Restart":"Start"," kernel"]})]}),(0,Z.jsx)(k.ZP,{muted:!0,children:n})]})},nr=300,tr=g.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],nr,nr),rr=g.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).codeArea,";\n  ")}));function or(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ir(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?or(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):or(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var cr=function(e){var n=e.addNewBlockAtIndex,t=e.blockRefs,r=e.blocks,o=void 0===r?[]:r,c=e.deleteBlock,u=e.fetchFileTree,a=e.fetchPipeline,s=e.interruptKernel,d=e.isPipelineUpdating,f=e.kernel,h=e.mainContainerRef,v=e.mainContainerWidth,b=e.messages,m=e.pipeline,g=e.pipelineContentTouched,x=e.pipelineLastSaved,y=e.restartKernel,k=e.runningBlocks,w=void 0===k?[]:k,O=e.savePipelineContent,P=e.selectedBlock,S=e.setContentByBlockUUID,T=e.setEditingBlock,E=e.setMessages,I=e.setPipelineContentTouched,D=e.setRunningBlocks,_=e.setSelectedBlock,B=(0,p.useState)(!1),A=(B[0],B[1]),R=(0,p.useState)(!1),N=R[0],L=R[1],M=(0,p.useState)(!1),F=M[0],U=M[1],W=(0,p.useState)(!0),K=W[0],G=W[1],q=(0,Mn.ZP)("ws://localhost:6789/websocket/",{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),V=q.lastMessage,X=(q.readyState,q.sendMessage);(0,p.useEffect)((function(){if(V){var e=JSON.parse(V.data),n=e.execution_state,t=e.uuid;E((function(n){var r=n[t]||[];return ir(ir({},n),{},(0,l.Z)({},t,r.concat(e)))})),An.IDLE===n&&D((function(e){return e.filter((function(e){var n=e.uuid;return t!==n}))})),I(!0)}}),[V,E,I,D]);var J=(0,p.useCallback)((function(e){var n=e.block,t=e.code;if(t){var r=n.uuid;w.find((function(e){var n=e.uuid;return r===n}))||(X(JSON.stringify({code:t,pipeline_uuid:m.uuid,uuid:r})),E((function(e){return delete e[r],e})),L(!1),D((function(e){return e.find((function(e){var n=e.uuid;return r===n}))?e:e.concat(n)})))}}),[m,w,X,E,D,L]),Y=(0,p.useMemo)((function(){return w.reduce((function(e,n,t){return ir(ir({},e),{},(0,l.Z)({},n.uuid,ir(ir({},n),{},{priority:t})))}),{})}),[w]),Q=(0,ct.Z)(P),$=(0,p.useMemo)((function(){return o.length}),[o]),ee="PipelineDetail/index",ne=(0,H.y)(),te=ne.registerOnKeyDown,re=ne.unregisterOnKeyDown;(0,p.useEffect)((function(){return function(){re(ee)}}),[re,ee]),te(ee,(function(e,t,r){if(g&&Vt([z.zX,z.hS],t)){e.preventDefault();"undefined"!==typeof location&&window.confirm("You have changes that are unsaved. Click cancel and save your changes before reloading page.")&&location.reload()}else if(Vt([z.zX,z.Um],t))e.preventDefault(),O();else if(N)t[z.vP]?L(!1):g||z.Z1.find((function(e){return t[e]}))||I(!0);else{if(P){var u=o.findIndex((function(e){var n=e.uuid;return P.uuid===n}));t[z.vP]?_(null):r[0]===z.xD&&r[1]===z.xD?s():r[0]===z.l1&&r[1]===z.l1&&-1!==u?(c(P),setTimeout((function(){u===o.length-1?_(o[u-1]):o.length>=0?_(o[u+1]):_(null)}),100)):t[z.Bu]&&u>=1?_(o[u-1]):t[z.kD]&&u<=$-2?_(o[u+1]):Vt([z.Uq],t)?L(!0):Vt([z.zH],t)?n({type:i.SCRATCHPAD},u,_):Vt([z.Fv],t)&&n({type:i.SCRATCHPAD},u+1,_)}else Q&&t[z.Uq]&&_(Q);r[0]===z.OC&&r[1]===z.OC&&y()}}),[n,o,s,$,g,y,O,P,Q,I,_,L,N]),(0,p.useEffect)((function(){var e=setInterval((function(){g&&O()}),5e3);return function(){clearInterval(e)}}),[g,O]);var oe=(0,p.useCallback)((function(e,n){return S((0,l.Z)({},e,n))}),[S]);return(0,p.useEffect)((function(){setTimeout((function(){return U(!0)}),600)}),[m]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(tr,{children:K&&(0,Z.jsx)(Fn.Z,{classNames:"pipeline-detail",in:F,onEntered:function(){return setTimeout((function(){return G(!1)}),nr)},children:(0,Z.jsx)(rr,{})})}),(0,Z.jsxs)(j.Z,{p:C.cd,children:[(0,Z.jsx)(j.Z,{mb:1,children:(0,Z.jsx)(er,{isBusy:w.length>=1,isPipelineUpdating:d,kernel:f,pipelineContentTouched:g,pipelineLastSaved:x,restartKernel:y})}),o.map((function(e,r){var o=e.type,i=e.uuid,l=(null===P||void 0===P?void 0:P.uuid)===i,d=Y[i],f=d?0===d.priority?An.BUSY:An.QUEUED:An.IDLE,g="".concat(o,"s/").concat(i,".py");return t.current[g]=(0,p.createRef)(),(0,Z.jsx)($t,{addNewBlock:function(e){n(e,r+1,_),L(!0)},defaultValue:e.content,deleteBlock:function(e){c(e),A(!1)},block:e,executionState:f,interruptKernel:s,mainContainerRef:h,mainContainerWidth:v,messages:b[i],noDivider:r===$-1,onChange:function(e){return oe(i,e)},ref:t.current[g],runBlock:J,selected:l,setAnyInputFocused:A,setSelected:function(n){return _(!0===n?e:null)},setTextareaFocused:L,textareaFocused:l&&N,fetchFileTree:u,fetchPipeline:a,pipeline:m,setEditingBlock:T},i)})),(0,Z.jsx)(j.Z,{mt:C.cd,children:(0,Z.jsx)(Yn,{addNewBlock:function(e){n(e,$,_),L(!0)}})})]})]})},ur=t(70001),ar=t(47256),lr=t(11754);var sr=function(e){var n=e.features,t=e.insightsOverview,r=e.statistics,o=t.correlations,i=void 0===o?[]:o,c=function(e){var n=[];return{heatmapData:null===e||void 0===e?void 0:e.map((function(e,t){var r=e.correlations,o=e.feature.uuid;n.push({label:o});var i=r[0].y.map((function(e){var n=e.value;return(0,_e.QV)(n)}));return i.splice(t,0,1),i})),xyLabels:n}}(i),u=c.heatmapData,l=c.xyLabels,s=function(e,n){return(0,P.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:1-n["".concat(e.uuid,"/null_value_rate")]}})),"value")}(n,r),d=function(e,n){return(0,P.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:n["".concat(e.uuid,"/count_distinct")]}})),"value")}(n,r),p=function(e,n){return(0,P.YC)(null===e||void 0===e?void 0:e.map((function(e){var t=(0,a.Z)(Object.entries(n["".concat(e.uuid,"/value_counts")])[0],2),r=t[0],o=t[1];return{feature:e,percentage:Number(o)/n.count,value:r}})),"percentage")}(n,r);return(0,Z.jsx)(j.Z,{p:2,children:(0,Z.jsxs)(x.Z,{flexDirection:"column",children:[(null===s||void 0===s?void 0:s.length)>=1&&(0,Z.jsx)(lr.Z,{headerTitle:"Data completion",children:(0,Z.jsx)(ur.Z,{data:s.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*s.length*C.iI,50*C.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,_e.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),(null===d||void 0===d?void 0:d.length)>=1&&(0,Z.jsx)(lr.Z,{headerTitle:"Number of unique values",children:(0,Z.jsx)(ur.Z,{data:d.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*s.length*C.iI,50*C.iI),renderTooltipContent:function(e){var n=e.x;return"".concat(n," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),p.length>=1&&(0,Z.jsx)(lr.Z,{headerTitle:"Distribution of values",children:(0,Z.jsx)(ur.Z,{data:p.map((function(e){var n=e.feature,t=e.percentage;return{feature:n,value:e.value,x:t,y:n.uuid}})),height:Math.max(3*p.length*C.iI,50*C.iI),renderTooltipContent:function(e){var n=e.value,t=e.x;return"".concat(n," is ").concat((0,_e.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),i&&(null===u||void 0===u?void 0:u.length)>=1&&(0,Z.jsx)(lr.Z,{headerTitle:"Correlations",children:(0,Z.jsx)(j.Z,{p:1,children:(0,Z.jsx)(ar.Z,{countMidpoint:0,data:u,height:8*C.iI*l.length,minCount:-1,xLabels:l,yLabels:l})})})]})})},dr=t(39076),pr=t.n(dr),fr=20*C.iI,hr=[i.DATA_EXPORTER],vr=g.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-bc2ei5-0"})(["display:flex;flex:1;overflow:auto;padding:","px;width:100%;"],C.iI),br=g.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border:2px solid transparent;border-radius:","px;margin:","px;"," "," ",""],D.BG,C.iI,(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.content||w.Z.content).active,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.disabled&&"\n    opacity: 0.5;\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}));var mr=function(e){var n=e.block,t=e.disabled,r=e.onClick,o=e.selected,i=(0,p.useContext)(g.ThemeContext),u=n.status,a=n.type,l=n.uuid;return(0,Z.jsx)(br,{backgroundColor:zn(a,{theme:i}).accent,disabled:t,selected:o,children:(0,Z.jsx)(Qn.Z,{afterIcon:u===c.EXECUTED?(0,Z.jsx)(O.Jr,{size:2*C.iI,success:!0}):null,basic:!0,disabled:t,id:l,minWidth:fr,noBackground:!0,noBorder:!0,onClick:r&&!t?function(){return r(n)}:null,padding:"".concat(C.iI,"px"),children:(0,Z.jsx)(k.ZP,{inverted:hr.includes(a),monospace:!0,small:!0,children:l})})},l)},gr=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===n||void 0===n||!n.length)return 0;var o=n.filter((function(e){return!r.includes(e)})).map((function(n){var o;return 1+e(null===(o=t[n])||void 0===o?void 0:o.upstream_blocks,t,[].concat((0,m.Z)(r),[n]))}));return Math.max.apply(Math,(0,m.Z)(o))};function xr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function yr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xr(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var jr=function(e){var n=e.blockRefs,t=e.editingBlock,r=e.fetchPipeline,o=e.pipeline,c=e.selectedBlock,u=e.setEditingBlock,l=e.setSelectedBlock,s=(0,p.useContext)(g.ThemeContext),d=(0,dr.useXarrow)(),h=(null===t||void 0===t?void 0:t.upstreamBlocks)||{},v=h.block,b=h.values,y=void 0===b?[]:b,w=(0,p.useMemo)((function(){var e;return(null===o||void 0===o||null===(e=o.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return i.SCRATCHPAD!==n})))||[]}),[null===o||void 0===o?void 0:o.blocks]),O=(0,p.useMemo)((function(){return(0,P.HK)(w,(function(e){return e.uuid}))}),[w]),S=((0,p.useMemo)((function(){return(0,P.HK)(y,(function(e){return e.uuid}))}),[y]),w.reduce((function(e,n){var t=n.downstream_blocks,r=n.type,o=n.uuid,i=t.map((function(e){return{color:zn(r,{theme:s}).accent,end:e,start:o}}));return[].concat((0,m.Z)(e),(0,m.Z)(i))}),[])),T=w.reduce((function(e,n){var t=n.upstream_blocks,r=gr(t,O);return e[r]=[].concat((0,m.Z)(e[r]||[]),[n]),e}),[]),E=(0,f.Db)(Ie.blocks.pipelines.useUpdate(null===o||void 0===o?void 0:o.uuid,null===v||void 0===v?void 0:v.uuid),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(){u({upstreamBlocks:null}),r().then((function(){d()}))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),I=(0,a.Z)(E,2),D=I[0],_=I[1].isLoading,B=(0,p.useCallback)((function(e){var t=e.type,r=e.uuid;if(l(e),null!==n&&void 0!==n&&n.current){var o,i=n.current["".concat(t,"s/").concat(r,".py")];null===i||void 0===i||null===(o=i.current)||void 0===o||o.scrollIntoView()}}),[n,l]),A=(0,p.useCallback)((function(e){u((function(n){var t=n.upstreamBlocks.values||[],r=t.findIndex((function(n){var t=n.uuid;return e.uuid===t}));return yr(yr({},n),{},{upstreamBlocks:yr(yr({},n.upstreamBlocks),{},{values:r>=0?(0,P.oM)(t,r):t.concat(e)})})}))}),[u]);return(0,Z.jsxs)(Z.Fragment,{children:[v&&(0,Z.jsxs)(j.Z,{pt:C.cd,px:1,children:[(0,Z.jsx)(j.Z,{mb:1,px:1,children:(0,Z.jsx)(k.ZP,{bold:!0,children:"Currently editing block"})}),(0,Z.jsx)(x.Z,{children:(0,Z.jsx)(mr,{block:v})}),(0,Z.jsx)(j.Z,{mt:C.cd,px:1,children:(0,Z.jsxs)(k.ZP,{children:[(0,Z.jsxs)(k.ZP,{bold:!0,inline:!0,children:["Select parent block(s) for ",(0,Z.jsx)(k.ZP,{bold:!0,inline:!0,monospace:!0,children:v.uuid})]}),": ",y.map((function(e){return e.uuid})).join(", ")]})})]}),(0,Z.jsx)(vr,{onScroll:d,children:(0,Z.jsxs)(dr.Xwrapper,{children:[(0,Z.jsx)(x.Z,{alignItems:"center",flexDirection:"column",children:T.map((function(e,n){return(0,Z.jsx)(j.Z,{mb:n===T.length-1?0:6,children:(0,Z.jsx)(x.Z,{alignItems:"center",children:e.map((function(e){return(0,Z.jsx)(mr,{block:e,disabled:(null===v||void 0===v?void 0:v.uuid)===e.uuid,onClick:v?A:B,selected:v?(0,P.sE)(y,(function(n){return n.uuid===e.uuid})):(null===c||void 0===c?void 0:c.uuid)===e.uuid},e.uuid)}))})},n)}))}),S.map((function(e){var n=e.color,t=e.end,r=e.start;return(0,Z.jsx)(pr(),{animateDrawing:.2,color:n,curveness:.8,dashness:!1,end:t,headSize:5,start:r,strokeWidth:1.5},"".concat(r,"_").concat(t))}))]})}),v&&(0,Z.jsx)(j.Z,{my:3,px:C.cd,children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[(0,Z.jsx)(Ln,{compact:!0,inline:!0,loading:_,onClick:function(){return D({block:yr(yr({},v),{},{upstream_blocks:y.map((function(e){return e.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,Z.jsx)(j.Z,{ml:1}),(0,Z.jsx)(Ln,{compact:!0,inline:!0,noBackground:!0,onClick:function(){return u({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})})]})},kr=t(73199),wr=t.n(kr),Or=t(71735),Cr=t(65292);var Pr,Zr=function(e){var n=e.language,t=e.maxWidth,r=e.showLineNumbers,o=e.small,i=e.source,c=e.wrapLines,u=(0,p.useContext)(g.ThemeContext);return(0,Z.jsx)(wr(),{source:i,renderers:{code:function(e){var i=e.value;return(0,Z.jsx)(Or.Z,{customStyle:{backgroundColor:(u.background||w.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:Cn.Vp,fontSize:o?12:14,marginBottom:0,marginTop:0,paddingBottom:2*C.iI,paddingTop:2*C.iI,maxWidth:t},lineNumberStyle:{color:(u.content||w.Z.content).muted},language:n,showLineNumbers:r,style:Cr._4,useInlineStyles:!0,wrapLines:c,children:i})}}})},Sr=t(64866),Tr=t(21764);function Er(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ir(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Er(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Er(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(Pr||(Pr={}));var Dr=function(e){var n,t=e.children,r=e.copiedText,o=e.iconPosition,i=void 0===o?Pr.LEFT:o,c=e.inverted,u=e.linkProps,a=e.linkText,l=e.muted,s=e.small,d=e.toastMessage,p=e.withCopyIcon;return t?n=(0,Z.jsx)("span",{children:t}):p&&(n=(0,Z.jsx)(y.Z,Ir(Ir({href:"#",inline:!0,muted:l,preventDefault:!0,sameColorAsText:!0,small:s},u),{},{children:(0,Z.jsxs)(x.Z,{alignItems:"center",children:[i===Pr.LEFT&&(0,Z.jsx)(j.Z,{mr:1,children:(0,Z.jsx)(x.Z,{alignItems:"center",children:(0,Z.jsx)(O.CK,{inverted:c,muted:l})})}),a&&(0,Z.jsx)(k.ZP,{inverted:c,muted:l,small:s,children:a}),i===Pr.RIGHT&&(0,Z.jsx)(j.Z,{ml:1,children:(0,Z.jsx)(x.Z,{alignItems:"center",children:(0,Z.jsx)(O.CK,{inverted:c,muted:l})})})]})}))),(0,Z.jsx)(Sr.CopyToClipboard,{onCopy:function(){return Tr.Am.success(d||"Successfully copied to clipboard.",{position:Tr.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})},_r=function(e,n,t){return"\n    ".concat(t," = get_variable('").concat(e,"', '").concat(n,"', '").concat(t,"')\n")};var Br,Ar,Rr=function(e){var n=e.blockRefs,t=e.blocks,r=e.globalVariables,o=e.setSelectedBlock,c=(0,p.useContext)(g.ThemeContext),u=(0,p.useMemo)((function(){return(0,P.HK)(t,(function(e){return e.uuid}))}),[t]);return(0,Z.jsxs)(j.Z,{p:C.cd,children:[(0,Z.jsx)(j.Z,{mb:C.cd,children:(0,Z.jsxs)(k.ZP,{children:["The variables listed blow can be used in any ",(0,Z.jsx)(k.ZP,{bold:!0,inline:!0,monospace:!0,children:i.SCRATCHPAD})," block."]})}),(0,Z.jsx)(j.Z,{mb:C.cd,children:(0,Z.jsx)(k.ZP,{children:"To load the variable, use the following syntax:"})}),(0,Z.jsx)(Zr,{language:"python",small:!0,source:"\n    from mage_ai.data_preparation.variable_manager import (\n        get_variable,\n    )\n\n\n    df = get_variable(\n        'pipeline_uuid',\n        'block_uuid',\n        'variable_name',\n    )\n"}),null===r||void 0===r?void 0:r.map((function(e){var t,r=e.block.uuid,a=e.pipeline,l=e.variables,s=u[r];if(s&&i.SCRATCHPAD!==s.type){var d=zn(s.type,{theme:c}).accent,p=null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t["".concat(s.type,"s/").concat(r,".py")];return(0,Z.jsxs)(j.Z,{mt:8,children:[(0,Z.jsx)(x.Z,{alignItems:"center",children:(0,Z.jsxs)(k.ZP,{children:["The following variables were defined in the block ",(0,Z.jsx)(y.Z,{noHoverUnderline:!0,preventDefault:!0,onClick:function(){var e,n;o(s),null===p||void 0===p||null===(e=p.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e)},children:(0,Z.jsx)(k.ZP,{color:d,inline:!0,monospace:!0,children:r})}),":"]})}),null===l||void 0===l?void 0:l.map((function(e){return(0,Z.jsxs)(j.Z,{mt:2,children:[(0,Z.jsx)(Zr,{language:"python",small:!0,source:_r(a.uuid,r,e)}),(0,Z.jsx)(Dr,{copiedText:(n=a.uuid,t=r,o=e,"from mage_ai.data_preparation.variable_manager import get_variable\n\n\n".concat(_r(n,t,o).trim(),"\n")),linkText:"Copy code",muted:!0,small:!0,withCopyIcon:!0})]},"".concat(r,"-").concat(e));var n,t,o}))]},r)}}))]})},Nr=t(92506),Lr=64*C.iI,Mr=3*C.cd*C.iI,Fr=Mr,zr=35*C.iI,Hr=.5*C.iI,Ur=13*C.iI,Wr=3*C.cd*C.iI,Kr=(g.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1lxpneo-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||w.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(zr,"px;\n    width: calc(100% - ").concat(zr,"px);\n  ")})),g.default.div.withConfig({displayName:"indexstyle__TabStyle",componentId:"sc-1lxpneo-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],D.n_,D.n_,1*C.iI,2*C.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||w.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||w.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||w.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*C.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||w.Z.monotone).white,";\n  ")})),(0,g.css)(["height:calc(100% - ","px);position:fixed;top:","px;z-index:2;",""],Wr,Wr,(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).sidePanel,";\n  ")}))),Gr=(0,g.css)([""," height:100%;overflow:auto;position:relative;z-index:2;"],At.w5),qr=(0,g.css)(["height:calc(100% + ","px);position:absolute;top:-","px;width:","px;z-index:6;&:hover{","}"," ",""],Wr,Wr,Hr,(function(e){return!e.disabled&&"\n      border-color: ".concat((e.theme.text||w.Z.text).fileBrowser," !important;\n    ")}),(function(e){return!e.disabled&&"\n    cursor: col-resize;\n  "}),(function(e){return e.active&&!e.disabled&&"\n    border-color: ".concat((e.theme.text||w.Z.text).fileBrowser," !important;\n  ")})),Vr=g.default.div.withConfig({displayName:"indexstyle__AsideHeaderStyle",componentId:"sc-1lxpneo-2"})(["border-bottom:1px solid transparent;height:","px;position:fixed;top:0;z-index:4;"," "," ",""],Wr,(0,At.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).sidePanel,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||w.Z.borders).medium," !important;\n  ")})),Xr=g.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-1lxpneo-3"})([""," left:0;"],Kr),Jr=g.default.div.withConfig({displayName:"indexstyle__BeforeInnerStyle",componentId:"sc-1lxpneo-4"})(["",""],Gr),Yr=g.default.aside.withConfig({displayName:"indexstyle__AfterStyle",componentId:"sc-1lxpneo-5"})([""," right:0;"],Kr),Qr=g.default.div.withConfig({displayName:"indexstyle__AfterInnerStyle",componentId:"sc-1lxpneo-6"})(["",""],Gr),$r=g.default.div.withConfig({displayName:"indexstyle__DraggableStyle",componentId:"sc-1lxpneo-7"})([""," "," ",""],qr,(function(e){return"undefined"!==typeof e.left&&"\n    border-left: 1px solid transparent;\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    border-right: 1px solid transparent;\n    right: ".concat(e.right,"px;\n  ")})),eo=g.default.div.withConfig({displayName:"indexstyle__MainContentStyle",componentId:"sc-1lxpneo-8"})(["height:100%;position:fixed;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||w.Z.background).codeArea,";\n  ")})),no=g.default.div.withConfig({displayName:"indexstyle__MainContentInnerStyle",componentId:"sc-1lxpneo-9"})([""," height:100%;overflow:auto;"],At.w5),to=t(32151),ro=6*C.iI,oo=2*C.iI,io=(C.iI,to.O$+3*C.iI+Pn.dN),co=g.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-15ofupc-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],ro,oo,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),uo="sideview";!function(e){e.DATA="data",e.GRAPHS="graphs",e.REPORTS="reports",e.TREE="tree",e.VARIABLES="variables"}(Ar||(Ar={}));var ao=[Ar.REPORTS,Ar.DATA,Ar.GRAPHS],lo=[{key:Ar.TREE,label:"Tree"},{key:Ar.DATA,label:"Data"},{key:Ar.REPORTS,label:"Reports"},{key:Ar.GRAPHS,label:"Graphs"},{key:Ar.VARIABLES,label:"Variables"}],so=(Br={},(0,l.Z)(Br,Ar.DATA,O.t1),(0,l.Z)(Br,Ar.GRAPHS,O.er),(0,l.Z)(Br,Ar.REPORTS,O.Do),(0,l.Z)(Br,Ar.TREE,O.BJ),(0,l.Z)(Br,Ar.VARIABLES,O.KJ),Br),po=1.5*C.iI,fo=((0,g.css)([""," "," ",""],(function(e){return"\n    ::-webkit-scrollbar {\n      width: ".concat(po,"px;\n    }\n\n    ::-webkit-scrollbar-track {\n    }\n\n    ::-webkit-scrollbar-thumb {\n      ").concat((0,Zn.eR)(),"\n\n      background: ").concat((e.theme.background||w.Z.background).scrollbarThumb,";\n      border-radius: ").concat(D.n_,"px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: ").concat((e.theme.background||w.Z.background).scrollbarThumbHover,";\n    }\n    ::-webkit-scrollbar-corner {\n      background: ").concat((e.theme.background||w.Z.background).scrollbarTrack,";\n    }\n  ")}),(function(e){return!e.scrollbarBorderRadiusLarge&&"\n    ::-webkit-scrollbar-track {\n      background: ".concat((e.theme.background||w.Z.background).scrollbarTrack,";\n    }\n  ")}),(function(e){return e.scrollbarBorderRadiusLarge&&"\n    ::-webkit-scrollbar {\n      border-radius: ".concat(D.TR,"px !important;\n    }\n\n    ::-webkit-scrollbar-track {\n      border-radius: ").concat(D.TR,"px !important;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: ").concat(D.TR,"px !important;\n    }\n  ")})),t(43313)),ho=t(84779);var vo=t(24141);var bo=function(e){var n,t=e.activeView,r=e.afterWidth,o=e.blockRefs,i=e.blocks,c=e.editingBlock,u=e.fetchPipeline,l=e.globalVariables,s=e.insights,d=e.metadata,h=e.pipeline,v=e.sampleData,b=e.selectedBlock,m=e.setEditingBlock,g=e.setSelectedBlock,y=e.statistics,w=(0,vo.i)().height,S=null===h||void 0===h?void 0:h.uuid,T=(0,p.useState)(!1),E=T[0],I=T[1],D=(0,p.useState)(null),_=D[0],B=D[1],A=(null===v||void 0===v?void 0:v.columns)||[],R=(null===v||void 0===v?void 0:v.rows)||[],N=(null===d||void 0===d?void 0:d.column_types)||{},L=(null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.map((function(e){return e.feature})))||[],M=(null===s||void 0===s?void 0:s[1])||{},F=(0,p.useMemo)((function(){return(0,P.HK)((null===s||void 0===s?void 0:s[0])||[],(function(e){return e.feature.uuid}))}),[s]),z=function(e){var n=e.statistics,t=Object.keys(n),r=Array(fo.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(fo.Dy.includes(e)){var t=fo.CC[e],o=n[e],i=o,c=!1,u=[2,3],a=fo.Ub[e],l=fo.oH[e],s=fo.OD[e];if(fo.y_.includes(e))c=!0,u=[2,1,2];else if(e in fo.Sq){o=(0,ho.Jw)(o,0);var d=fo.Sq[e];i=n[d]}var p={columnFlexNumbers:u,name:t,progress:c,rate:i,successDirection:l,warning:s};fo.y_.includes(e)||(p.value=o),r[a]=p}})),r)}({statistics:y}),H=function(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,o=Object.keys(r);if(0===o.length)return null;var i=Object.values(t),c=i.length,u=[];u.push({name:"Column count",successDirection:fo.oH.column_count,value:(0,_e.x6)(c)}),o.forEach((function(e){if(fo.Zu.includes(e)){var n=fo.CC[e],t=r[e],o=fo.OD[e];u.push({name:n,successDirection:fo.oH[e],value:(0,_e.x6)(t),warning:o})}}));var a=(0,to.QO)(i),l=a.countCategory,s=a.countDatetime,d=a.countNumerical;return u.push({name:"Categorical Features",rate:l/c,value:(0,_e.x6)(l)},{name:"Numerical Features",rate:d/c,value:(0,_e.x6)(d)},{name:"Datetime Features",rate:s/c,value:(0,_e.x6)(s)}),u}({columnTypes:N,statistics:y}),U=(0,p.useCallback)((0,to.Fk)({columnTypes:N,columns:A,insightsByFeatureUUID:F,insightsOverview:M,noColumnLinks:!0,statistics:y}),[N,A,F,M,y]),W=(0,p.useMemo)((function(){return(0,Z.jsx)(Rr,{blockRefs:o,blocks:i,globalVariables:l,setSelectedBlock:g})}),[null===o||void 0===o?void 0:o.current,i,l,g]),K=(0,f.Db)(Ie.execute.pipelines.useCreate(S),{onError:function(e){var n=(0,we.qQ)(e).messages;null===B||void 0===B||B(n)},onSuccess:function(e){return(0,we.wD)(e,{callback:function(){u(),null===B||void 0===B||B(null),I(!0),setTimeout((function(){I(!1)}),2500)}})}}),G=(0,a.Z)(K,2),q=G[0],V=G[1].isLoading;return(0,Z.jsxs)(Z.Fragment,{children:[t===Ar.TREE&&(null===_||void 0===_?void 0:_.length)>=1&&(0,Z.jsxs)(j.Z,{mb:3,mt:2,mx:2,children:[(0,Z.jsxs)(x.Z,{justifyContent:"space-between",children:[(0,Z.jsx)(k.ZP,{bold:!0,danger:!0,children:"Errors"}),(0,Z.jsx)(Qn.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return B(null)},transparent:!0,children:(0,Z.jsx)(O.x8,{muted:!0})})]}),null===_||void 0===_?void 0:_.map((function(e){return(0,Z.jsx)(j.Z,{pb:1,children:(0,Z.jsx)(k.ZP,{monospace:!0,xsmall:!0,children:e})},e)}))]}),(0,Z.jsxs)(co,{fullWidth:ao.includes(t),children:[t===Ar.TREE&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(j.Z,{p:2,children:(0,Z.jsx)(Qn.Z,{beforeIcon:(0,Z.jsx)(O.JM,{inverted:!0,size:2*C.iI}),loading:V,onClick:function(){return q()},success:!0,children:(0,Z.jsx)(k.ZP,{bold:!0,inverted:!0,primary:E,children:E?"Successfully executed!":"Execute pipeline"})})}),(0,Z.jsx)(jr,{blockRefs:o,editingBlock:c,fetchPipeline:u,pipeline:h,selectedBlock:b,setEditingBlock:m,setSelectedBlock:g})]}),t===Ar.DATA&&A.length>0&&(0,Z.jsx)(ht.Z,{columnHeaderHeight:io,columns:A,height:w-(Wr+po),noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,renderColumnHeader:U,rows:R,width:r}),t===Ar.REPORTS&&(0,Z.jsx)(j.Z,{p:2,children:(0,Z.jsxs)(x.Z,{flexDirection:"column",fullWidth:!0,children:[z&&(0,Z.jsx)(Nr.Z,{stats:z,title:"Quality metrics"}),(0,Z.jsx)(j.Z,{mb:C.cd}),H&&(0,Z.jsx)(Nr.Z,{stats:H,title:"Statistics"})]})}),t===Ar.GRAPHS&&(0,Z.jsx)(sr,{features:L,insightsOverview:M,statistics:y}),Ar.VARIABLES===t&&l&&W]})]})},mo=t(1887),go=t.n(mo),xo=t(57639);var yo=function(e){var n=e.after,t=e.afterHeader,r=e.afterHidden,o=e.afterMousedownActive,i=e.afterWidth,c=e.before,u=e.beforeHeader,a=e.beforeHidden,l=e.beforeMousedownActive,s=e.beforeWidth,d=e.children,f=e.mainContainerRef,h=e.setAfterHidden,v=e.setAfterMousedownActive,b=e.setAfterWidth,m=e.setBeforeHidden,g=e.setBeforeMousedownActive,y=e.setBeforeWidth,k=(0,vo.i)().width,w=(0,p.useRef)(null),P=(0,p.useRef)(null),S=(0,p.useRef)(null),T=(0,p.useRef)(null),E=(0,p.useCallback)((function(){var e=!r;h(e),(0,Ve.t8)(Ve.zg,e)}),[r,h]),I=(0,p.useCallback)((function(){var e=!a;m(e),(0,Ve.t8)(Ve.Uu,e)}),[a,m]);(0,p.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===S||void 0===S||null===(n=S.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(k){var r=e.x;r+Ur>k-i&&(r=k-i-Ur),y(Math.max(r,Fr))}},c=function(e){var n,t;e.offsetX>=e.target.offsetWidth-Hr&&e.offsetX<=e.target.offsetWidth+Hr&&(g(!0),Xt(e),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},u=function(){var e,n;g(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===T||void 0===T||null===(e=T.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",u,!1),function(){var e,n,t,r;null===T||void 0===T||null===(e=T.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",u,!1),u()}}),[i,S,T,g,y,k]),(0,p.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===w||void 0===w||null===(n=w.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(k){var r=k-e.x;r+Ur>k-s&&(r=k-s-Ur),b(Math.max(r,Mr))}},i=function(e){var n,t;e.offsetX>=-1*Hr&&e.offsetX<=Hr&&(v(!0),Xt(e),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},c=function(){var e,n;v(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===P||void 0===P||null===(e=P.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",c,!1),function(){var e,n,t,r;null===P||void 0===P||null===(e=P.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",c,!1),c()}}),[s,w,P,v,b,k]);var D=r?4*C.iI:i,_=a?4*C.iI:s;return(0,Z.jsxs)(xo.Z,{children:[(o&&!r||l&&!a)&&(0,Z.jsx)(go(),{children:(0,Z.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                body {\n                  cursor: col-resize;\n                }\n              "}})}),c&&(0,Z.jsxs)(Xr,{style:{width:_},children:[(0,Z.jsx)($r,{active:l,disabled:a,ref:T,right:0}),(0,Z.jsx)(Vr,{style:{width:_},visible:a,children:(0,Z.jsxs)(x.Z,{alignItems:"center",fullWidth:!0,fullHeight:!0,justifyContent:"space-between",children:[(0,Z.jsxs)(ze.Z,{children:[(0,Z.jsx)(j.Z,{pl:a?1:0}),!a&&u]}),(0,Z.jsxs)(ze.Z,{children:[(0,Z.jsx)(Tt,{block:!0,label:a?"Show sidebar":"Hide sidebar",size:null,widthFitContent:!0,children:(0,Z.jsxs)(Qn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I()},children:[a&&(0,Z.jsx)(O._Q,{neutral:!0,size:2*C.iI}),!a&&(0,Z.jsx)(O.s$,{neutral:!0,size:2*C.iI})]})},a?"before-is-hidden":"before-is-visible"),(0,Z.jsx)(j.Z,{pr:a?1:2})]})]})}),(0,Z.jsx)(Jr,{ref:S,children:!a&&c})]}),(0,Z.jsx)(eo,{style:{left:_,width:"calc(100% - ".concat(_+D,"px)")},children:(0,Z.jsx)(no,{ref:f,children:d})}),n&&(0,Z.jsxs)(Yr,{style:{width:D},children:[(0,Z.jsx)($r,{active:o,disabled:r,left:0,ref:P}),(0,Z.jsx)(Vr,{style:{width:D},visible:r,children:(0,Z.jsxs)(x.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:[(0,Z.jsxs)(ze.Z,{children:[(0,Z.jsx)(j.Z,{pl:r?1:2}),(0,Z.jsxs)(Qn.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return E()},children:[r&&(0,Z.jsx)(O.s$,{neutral:!0,size:2*C.iI}),!r&&(0,Z.jsx)(O._Q,{neutral:!0,size:2*C.iI})]})]}),!r&&t]})}),(0,Z.jsx)(Qr,{ref:w,children:!r&&n})]})]})},jo=t(33766);function ko(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function wo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ko(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ko(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Oo(e){var n,t,r,o=e.pipeline,c=(0,vo.i)(),u=c.height,s=c.width,d=(0,p.useState)((0,Ve.U2)(Ve.L8,Lr)),h=d[0],v=d[1],b=(0,p.useState)(null),m=b[0],g=b[1],x=(0,p.useState)((0,Ve.U2)(Ve.J3,zr)),y=x[0],k=x[1],w=(0,p.useState)(!!(0,Ve.U2)(Ve.zg)),O=w[0],S=w[1],E=(0,p.useState)(!!(0,Ve.U2)(Ve.Uu)),I=E[0],D=E[1],_=(0,p.useState)(!1),B=_[0],A=_[1],R=(0,p.useState)(!1),N=R[0],L=R[1],M=(0,q.iV)().sideview,F=(0,p.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,jo.u)((0,l.Z)({},uo,e),{pushHistory:n})}),[M]);(0,p.useEffect)((function(){M||F(Ar.TREE,!1)}),[M]);var z=(0,p.useRef)({}),H=(0,p.useRef)(null),U=o.uuid,W=(0,ct.Z)(U),K=(0,p.useCallback)((function(e){z.current=wo(wo({},z.current),e)}),[z]);(0,p.useEffect)((function(){U!==W&&(z.current={})}),[U,W]);var G=(0,p.useState)(null),V=G[0],X=G[1];(0,p.useEffect)((function(){null===H||void 0===H||!H.current||B||N||X(H.current.getBoundingClientRect().width)}),[B,N,O,h,I,y,null===H||void 0===H?void 0:H.current,X,s]),(0,p.useEffect)((function(){B||(g(h),(0,Ve.t8)(Ve.L8,h))}),[B,h,g]),(0,p.useEffect)((function(){N||(0,Ve.t8)(Ve.J3,y)}),[N,y]);var J=(0,p.useState)(null),Y=J[0],Q=J[1],$=(0,p.useState)(!1),ee=$[0],ne=$[1],te=Ie.variables.pipelines.list(!O&&U),re=te.data,oe=te.mutate,ie=null===re||void 0===re?void 0:re.variables,ce=(0,p.useState)([]),ue=ce[0],ae=ce[1],le=(0,p.useState)({upstreamBlocks:null}),se=le[0],de=le[1],pe=(0,p.useState)([]),fe=pe[0],he=pe[1],ve=(0,p.useState)(null),be=ve[0],me=ve[1],ge=Ie.blocks.pipelines.outputs.detail(!O&&U,(null===be||void 0===be?void 0:be.type)!==i.SCRATCHPAD&&(null===be||void 0===be?void 0:be.uuid)),xe=ge.data,ye=ge.mutate,je=null===xe||void 0===xe||null===(n=xe.outputs)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.sample_data,ke=Ie.blocks.pipelines.analyses.detail(!O&&U,(null===be||void 0===be?void 0:be.type)!==i.SCRATCHPAD&&(null===be||void 0===be?void 0:be.uuid)),Oe=ke.data,Ce=ke.mutate,Pe=(null===Oe||void 0===Oe||null===(r=Oe.analyses)||void 0===r?void 0:r[0])||{},Ze=Pe.insights,Se=Pe.metadata,Te=Pe.statistics,Ee=void 0===Te?{}:Te;(0,p.useEffect)((function(){0===fe.length&&(Ce(),ye(),oe())}),[Ce,ye,oe,fe]),(0,p.useEffect)((function(){var e;null!==(e=se.upstreamBlocks)&&void 0!==e&&e.block&&(S(!1),F(Ar.TREE))}),[se.upstreamBlocks]);var De=(0,p.useState)({}),Be=De[0],Ae=De[1],Le=Ie.pipelines.detail(U,{include_content:!0}),Me=Le.data,Fe=(Le.isLoading,Le.mutate),ze=Ie.files.list(),He=ze.data,Ue=ze.mutate,We=null===Me||void 0===Me?void 0:Me.pipeline,Ke=Ie.kernels.list({},{refreshInterval:5e3,revalidateOnFocus:!0}),Ge=Ke.data,qe=Ke.mutate,Xe=null===Ge||void 0===Ge?void 0:Ge.kernels,Je=null===Xe||void 0===Xe?void 0:Xe[0],Ye=(0,f.Db)(Ie.pipelines.useUpdate(U,{update_content:!0}),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(){return ne(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),Qe=(0,a.Z)(Ye,2),$e=Qe[0],en=Qe[1].isLoading,nn=(0,p.useCallback)((function(){return Q(new Date),$e({pipeline:wo(wo({},We),{},{blocks:ue.map((function(e){return wo(wo({},e),{},{content:z.current[e.uuid]||e.content,outputs:i.SCRATCHPAD===e.type&&Be[e.uuid]?Be[e.uuid].map((function(n,t){return{text_data:JSON.stringify(n),variable_uuid:"".concat(e.uuid,"_").concat(t)}})):e.outputs})}))})})}),[ue,z.current,Be,We,Q,$e]),tn=(0,f.Db)((function(e){var n=e.uuid;return Ie.blocks.pipelines.useDelete(U,n)()}),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(e){var n=e.block.uuid;ae((function(e){return(0,P.oM)(e,e.findIndex((function(e){var t=e.uuid;return n===t})))})),Fe()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Ae((function(e){return wo(wo({},e),{},(0,l.Z)({},t.block_uuid,r.map((function(e){return{data:e,type:Rn.TEXT_PLAIN}}))))}))}})}}),rn=(0,a.Z)(tn,1)[0],on=(0,f.Db)(Ie.restart.kernels.useCreate(null===Je||void 0===Je?void 0:Je.id),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(){return qe()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),cn=(0,a.Z)(on,1)[0],un=(0,f.Db)(Ie.interrupt.kernels.useCreate(null===Je||void 0===Je?void 0:Je.id),{onSuccess:function(e){return(0,we.wD)(e,{callback:function(e){},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),an=(0,a.Z)(un,1)[0],ln=((0,p.useCallback)((function(){window.confirm("Do you want to restart the kernel? All variables will be cleared.")&&cn()}),[cn]),(0,f.Db)(Ie.blocks.pipelines.useCreate(U))),sn=(0,a.Z)(ln,1)[0],dn=(0,p.useCallback)((function(e,n,t){var r=(0,_e.Y6)();sn({block:wo({name:r,priority:n},e)}).then((function(e){(0,we.wD)(e,{callback:function(){var r=e.data.block;ae((function(e){return(0,P.Hk)(r,n,e)})),null===t||void 0===t||t(r),Ue(),Fe()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[sn,ae]);(0,p.useEffect)((function(){if("undefined"!==typeof(null===We||void 0===We?void 0:We.blocks)){ae(We.blocks);var e={};z.current={},We.blocks.forEach((function(n){var t=n.content,r=n.outputs,o=n.uuid;e[o]=r.map((function(e){var n=e.sample_data,t=e.text_data,r=e.type;return n?{data:n,type:r}:t?JSON.parse(t):t})),z.current[o]=t})),Ae(e)}}),[null===We||void 0===We?void 0:We.blocks,ae,Ae]);var pn=(0,p.useMemo)((function(){return He?[null===He||void 0===He?void 0:He.files]:[]}),[null===He||void 0===He?void 0:He.files]),fn=(0,p.useRef)({}),hn=(0,p.useMemo)((function(){return(0,Z.jsx)(T,{blockRefs:fn,pipeline:We,setSelectedBlock:me,tree:pn})}),[fn,pn,We,me]),vn=(0,p.useMemo)((function(){return(0,Z.jsx)(bo,{activeView:M,afterWidth:m,blockRefs:fn,blocks:ue,editingBlock:se,fetchPipeline:Fe,globalVariables:ie,insights:Ze,metadata:Se,pipeline:We,sampleData:je,selectedBlock:be,setEditingBlock:de,setSelectedBlock:me,statistics:Ee,views:lo})}),[M,m,fn,ue,se,Fe,ie,Ze,Se,We,je,be,de,Ee]),bn=(0,p.useMemo)((function(){return(0,Z.jsx)(cr,{addNewBlockAtIndex:dn,blockRefs:fn,blocks:ue,deleteBlock:rn,fetchFileTree:Ue,fetchPipeline:Fe,interruptKernel:an,isPipelineUpdating:en,kernel:Je,mainContainerRef:H,mainContainerWidth:V,messages:Be,pipeline:We,pipelineContentTouched:ee,pipelineLastSaved:Y,restartKernel:cn,runningBlocks:fe,savePipelineContent:nn,selectedBlock:be,setContentByBlockUUID:K,setEditingBlock:de,setMessages:Ae,setPipelineContentTouched:ne,setRunningBlocks:he,setSelectedBlock:me})}),[dn,fn,ue,rn,Ue,Fe,an,en,Je,H,V,Be,We,ee,Y,cn,fe,nn,be,K,de,Ae,ne,he,me]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ne.Z,{title:null===We||void 0===We?void 0:We.name}),(0,Z.jsxs)(yo,{after:vn,afterHeader:(0,Z.jsx)(Z.Fragment,{children:lo.map((function(e){var n=e.key,t=e.label,r=n===M,o=so[n];return(0,Z.jsx)(j.Z,{pl:1,children:(0,Z.jsx)(Ln,{beforeElement:(0,Z.jsx)(o,{}),blackBorder:!0,compact:!0,onClick:function(){return F(n)},selected:r,uuid:n,children:t})},n)}))}),afterHidden:O,afterMousedownActive:B,afterWidth:h,before:hn,beforeHeader:(0,Z.jsx)(Re,{interruptKernel:an,restartKernel:cn,savePipelineContent:nn,setMessages:Ae}),beforeHidden:I,beforeMousedownActive:N,beforeWidth:y,mainContainerRef:H,setAfterHidden:S,setAfterMousedownActive:A,setAfterWidth:v,setBeforeHidden:D,setBeforeMousedownActive:L,setBeforeWidth:k,children:[bn,(0,Z.jsx)(j.Z,{pb:Math.max(Math.floor(u/2/C.iI),0)})]})]})}Oo.getInitialProps=function(){var e=(0,u.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.slug,Array.isArray(t)&&(r=t[0]),e.abrupt("return",{pipeline:{uuid:r}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Co=Oo},26039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[...slug]",function(){return t(3858)}])}},function(e){e.O(0,[3662,6762,7890,7670,9668,1619,9774,2888,179],(function(){return n=26039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);