(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8420],{85059:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ki}});var i=t(77837),o=t(82394),r=t(12757),a=t(38860),l=t.n(a),c=t(34376),s=t(57639),u=t(82684),d=t(4673),h=t(60328),m=t(89989),p=t(92083),f=t.n(p),v=t(70001),x=t(88560),g=t(67971),b=t(47256),y=t(66872),j=t(68735),w=t(320),Z=t(93461),O=t(10919),_=t(19711),P=t(10503),C=t(46313),k=t(31969),I=t(73942),S=t(49125),D=t(90880),M=C.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-pu8csx-0"})(["overflow-y:auto;position:relative;width:100%;z-index:3;border-bottom-left-radius:","px;border-bottom-right-radius:","px;"," "," ",""],I.n_,I.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).page,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.flex&&"\n    flex: 1;\n  "})),T=C.default.div.withConfig({displayName:"indexstyle__ColumnHeaderRowStyle",componentId:"sc-pu8csx-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;position:sticky;top:0;width:100%;z-index:2;"," "," ",""],I.n_,I.n_,(function(e){return"\n    background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.noBorder&&"\n    border: 1px solid ".concat((e.theme.interative||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.noBorder&&"\n    border-radius: 0;\n  "})),N=C.default.div.withConfig({displayName:"indexstyle__ColumnHeaderCellStyle",componentId:"sc-pu8csx-2"})([""," ",""],(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")})),L=C.default.div.withConfig({displayName:"indexstyle__RowTitleStyle",componentId:"sc-pu8csx-3"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).header,";\n    border: 1px solid ").concat((e.theme.interative||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")})),E=C.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-pu8csx-4"})([""," "," "," ",""],(0,D.eR)(),(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).page,";\n    border-top: none;\n    border-bottom: none;\n  ")}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.finalRow&&"\n    border-bottom-left-radius: ".concat(I.n_,"px;\n    border-bottom-right-radius: ").concat(I.n_,"px;\n  ")})),H=C.default.div.withConfig({displayName:"indexstyle__TextStyle",componentId:"sc-pu8csx-5"})(["p{cursor:pointer;}"]),R=C.default.div.withConfig({displayName:"indexstyle__RowCellStyle",componentId:"sc-pu8csx-6"})(["width:100%;z-index:0;"," "," "," ",""],(function(e){return!e.first&&"\n    border-left: 1px solid ".concat((e.theme.background||k.Z.background).page,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.vanish&&"\n    border: none;\n    padding: 0 !important;\n    width: 0% !important;\n    height: 100% !important;\n    background-color: ".concat((e.theme.background||k.Z.background).page," !important;\n  ")})),F=t(66176),A=t(28598);var z=function(e){var n,t=e.cellIndex,i=e.danger,o=e.flex,r=e.render,a=e.rowGroupIndex,l=e.rowIndex,c=e.selected,s=e.small,d=e.showBackground,h=e.showProgress,m=e.value,p=e.vanish,f=(0,u.useState)(!1),v=f[0],x=f[1],b=Array.isArray(m);return n=r?r(m):"function"===typeof m?m({selected:c}):b?(0,A.jsxs)(Z.Z,{alignItems:"start",flexDirection:"row",justifyContent:"space-between",children:[(0,A.jsxs)(_.ZP,{small:s,textOverflow:!0,title:m[0],children:[v&&(0,A.jsx)(A.Fragment,{children:"".concat(m[0]," & ").concat(m.length-1," more")}),!v&&(0,A.jsx)(A.Fragment,{children:m.map((function(e){return(0,A.jsx)("div",{children:e},e)}))})]}),(0,A.jsxs)(O.Z,{onClick:function(){return x(!v)},children:[v&&(0,A.jsx)(P.K5,{muted:!0,size:2*S.iI}),!v&&(0,A.jsx)(P.ol,{muted:!0,size:2*S.iI})]})]}):h?(0,A.jsx)(g.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:(0,A.jsx)(F.Z,{danger:m<80,progress:m})}):(0,A.jsx)(_.ZP,{bold:i,danger:i,small:s,textOverflow:!0,title:m,children:m}),(0,A.jsx)(Z.Z,{flex:o,textOverflow:!0,children:(0,A.jsx)(R,{first:0===t,showBackground:d,small:s,vanish:p,children:!p&&(0,A.jsxs)(A.Fragment,{children:[n," "]})})},"cell-".concat(a,"-").concat(l,"-").concat(t,"-").concat(m))},V=t(86673),B=t(5679);var U=function(e){var n=e.columnFlexNumbers,t=e.columnHeaders,i=e.height,o=e.isTextSelectionRequired,r=e.noBorder,a=e.onClickRow,l=e.onHoverRow,c=e.renderRowCellByIndex,s=e.rowGroupData,d=void 0===s?[]:s,h=e.selectedRowIndexes,m=e.small,p=e.flex,f=e.warnings,v=void 0===f?[]:f,x=(0,u.useMemo)((function(){return d.length}),[d]);return(0,A.jsxs)(M,{flex:p,height:i,scrollbarBorderRadiusLarge:!0,children:[(0,A.jsx)(T,{noBorder:r,children:(0,A.jsx)(g.Z,{alignItems:"center",children:t.map((function(e,t){var i=e.Icon,o=e.label;return(0,A.jsx)(Z.Z,{flex:n[t],children:(0,A.jsx)(N,{first:0===t,small:m,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[i&&(0,A.jsx)(P.Jr,{}),i&&(0,A.jsx)(V.Z,{mr:1}),(0,A.jsx)(_.ZP,{bold:!0,children:o})]})})},o)}))})}),d&&d.map((function(e,t){var i,s=e.title,u=e.rowData,d=s||t,p=[];s&&(i=(0,A.jsx)(L,{small:m,children:(0,A.jsx)(_.ZP,{bold:!0,children:s})}));var f=null===u||void 0===u?void 0:u.length;return null===u||void 0===u||u.forEach((function(e,i){var s=e.columnValues,u=e.danger,b=e.uuid,y=(null===h||void 0===h?void 0:h[0])===t&&(null===h||void 0===h?void 0:h[1])===i,j=[],w=v.find((function(e){return e.name===s[0]})),Z=w&&(0,B.HD)(s[1])?(0,B.Tz)(s[1]):s[1],_=w&&w.compare(Z,w.val);null===s||void 0===s||s.forEach((function(e,o,r){var a=null===c||void 0===c?void 0:c[o];Array.isArray(e)?j.push((0,A.jsx)(z,{cellIndex:o,flex:n[o],render:a,rowGroupIndex:t,rowIndex:i,selected:y,showBackground:i%2===1,showProgress:e[0],small:m,value:e[1]},o)):"undefined"===typeof e?(j.pop(),o=r.length+1,j.push((0,A.jsx)(z,{cellIndex:o,danger:u,flex:n[o],render:a,rowGroupIndex:t,rowIndex:i,selected:y,showBackground:i%2===1,small:m,value:e,vanish:!0},o))):j.push((0,A.jsx)(z,{cellIndex:o,danger:_||u,flex:n[o],render:a,rowGroupIndex:t,rowIndex:i,selected:y,showBackground:i%2===1,small:m,value:e},o))}));var P=(0,A.jsx)(g.Z,{textOverflow:!0,children:j});p.push((0,A.jsxs)(E,{finalRow:x-1===t&&f-1===i,hasHover:!!l,noBorder:r,onMouseEnter:function(){return null===l||void 0===l?void 0:l({rowGroupIndex:t,rowIndex:i,uuid:b})},selected:y,children:[a&&(o?(0,A.jsx)(H,{onClick:function(){return a({rowGroupIndex:t,rowIndex:i,uuid:b})},role:"cell",children:P}):(0,A.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return a({rowGroupIndex:t,rowIndex:i,uuid:b})},preventDefault:!0,children:P})),!a&&P]},"row-group-".concat(d,"-row-").concat(i)))})),(0,A.jsxs)("div",{children:[i,p]},d)}))]})},W=t(26304),Y=t(77555),q=t(90948),G=t(84969),X=t(65743),Q=t(86465),J=t(67778),K=t(52136),$=t(29989),ee=t(59381),ne=t(65376),te=t(48072),ie=t(84181),oe=t(6154),re=t(26226),ae=t(55378),le=t(2005),ce=t(73899),se=t(344),ue=t(31012),de=["featureMapping","height","margin","scatterPlotLabels","scatterPlotOverview","xFeature","yFeature"];function he(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?he(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var pe=C.default.div.withConfig({displayName:"ScatterPlot__BeforeTextStyle",componentId:"sc-1kbdb1o-0"})(["margin-left:","px;"],S.iI/2),fe=function(e){return"".concat(e.x,",").concat(e.y)},ve=(0,ee.Z)((function(e){var n=e.data,t=e.getX,i=e.getY,o=e.height,r=e.hideTooltip,a=e.increasedXTicks,l=e.margin,c=e.numXTicks,s=e.numYTicks,d=e.showTooltip,h=e.tooltipData,m=e.tooltipLeft,p=e.tooltipTop,f=e.width,v=e.xAxisLabel,x=e.xLabelFormat,g=e.yAxisLabel,b=e.yLabelFormat,y=t||function(e){return null===e||void 0===e?void 0:e.x},j=i||function(e){return null===e||void 0===e?void 0:e.y},w=[],Z={};n.filter((function(e){return!(null==y(e)||null==j(e))})).forEach((function(e){var n=fe(e);n in Z?Z[n]=Z[n]+1:(Z[n]=1,w.push(e))}));var O=k.Z.monotone.gray,P=k.Z.content.active,C=w.map((function(e){return Number(y(e))})),I=w.map((function(e){return Number(j(e))})),D=x||function(e){return e},M=function(e){return(0,se.fR)(D(e),se.Pw)},T=b||function(e){return e},N=function(e){return(0,se.fR)(T(e),se.Xh)},L=Math.max.apply(Math,(0,Y.Z)(I.map((function(e){return N(e).length}))));l.left=(L+3)*S.iI;var E=f-l.left-l.right,H=o-l.top-l.bottom,R=Math.max.apply(Math,(0,Y.Z)(C))-Math.min.apply(Math,(0,Y.Z)(C)),F=Math.max.apply(Math,(0,Y.Z)(I))-Math.min.apply(Math,(0,Y.Z)(I)),z=R/15,V=F/10,B=(0,u.useMemo)((function(){return(0,ie.Z)({domain:[Math.min.apply(Math,(0,Y.Z)(C))-z,Math.max.apply(Math,(0,Y.Z)(C))+z],range:[0,E]})}),[E,C]),U=(0,u.useMemo)((function(){return(0,ie.Z)({domain:[Math.min.apply(Math,(0,Y.Z)(I))-V,Math.max.apply(Math,(0,Y.Z)(I))+V],nice:!0,range:[H,0]})}),[H,I]),W=(0,u.useMemo)((function(){var e=(0,oe.Z)({x:function(e){return B(y(e))},y:function(e){return U(j(e))},width:E,height:H});try{return e(w)}catch(n){}}),[E,H,B,U]),ee=c||(f>520?a?20:10:a?10:5),re=O,ae=(0,u.useCallback)((function(e){var n=(0,te.Z)(e);if(n){var t={x:n.x-l.left,y:n.y-l.top},i=null===W||void 0===W?void 0:W.find(t.x,t.y,100);if(i){var o=fe(i.data),r=Z[o];d({tooltipLeft:B(y(i.data)),tooltipTop:U(j(i.data)),tooltipData:{point:i.data,numDuplicates:r}})}}}),[w,y,j,d,B,U]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("svg",{height:o,width:f,children:[(0,A.jsx)(X.Z,{fill:"transparent",height:o,onMouseLeave:function(){return r()},onMouseMove:ae,onTouchMove:ae,onTouchStart:ae,rx:14,width:f-(l.left+l.right),x:l.left,y:0}),(0,A.jsxs)($.Z,{left:l.left,pointerEvents:"none",top:l.top,children:[(0,A.jsx)(J.Z,{height:H,pointerEvents:"none",scale:U,stroke:O,strokeDasharray:"3,3",strokeOpacity:.4,width:E}),(0,A.jsx)(K.Z,{height:H,pointerEvents:"none",scale:B,stroke:O,strokeDasharray:"3,3",strokeOpacity:.4,width:E}),(0,A.jsx)("line",{stroke:O,x1:E,x2:E,y1:0,y2:H}),(0,A.jsx)(q.Z,{numTicks:ee,scale:B,stroke:re,tickFormat:M,tickLabelProps:function(e){return{fill:P,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"middle"}},tickStroke:re,top:H}),(0,A.jsx)(G.Z,{hideTicks:!0,numTicks:s,scale:U,stroke:re,tickFormat:N,tickLabelProps:function(){return{fill:P,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"end"}},tickStroke:re}),w.map((function(e,n){var t=fe(e),i=Math.log(Z[t])+3.5;return(0,A.jsx)(Q.Z,{className:"dot",cx:B(y(e)),cy:U(j(e)),r:i,fill:(null===h||void 0===h?void 0:h.point)===e?ce.hM:ce.a$},"point-".concat(e[0],"-").concat(n))}))]})]}),h&&(0,A.jsxs)(ne.Z,{left:m,top:p,offsetTop:l.top+S.iI,children:[(0,A.jsx)(_.ZP,{center:!0,small:!0,children:"".concat(v,": ").concat(M(y(null===h||void 0===h?void 0:h.point)))}),(0,A.jsx)(_.ZP,{center:!0,small:!0,children:"".concat(g,": ").concat(N(j(null===h||void 0===h?void 0:h.point)))}),h.numDuplicates>1&&(0,A.jsx)(_.ZP,{center:!0,small:!0,children:"Duplicates: ".concat(null===h||void 0===h?void 0:h.numDuplicates)})]})]})}));var xe=function(e){var n=e.featureMapping,t=e.height,i=e.margin,o=e.scatterPlotLabels,r=void 0===o?{}:o,a=e.scatterPlotOverview,l=e.xFeature,c=e.yFeature,s=(0,W.Z)(e,de),d=(0,u.useState)(l),h=d[0],m=d[1],p=(0,u.useState)(c),f=p[0],v=p[1],b=me(me({},{bottom:5*S.iI,left:3*S.iI,right:3*S.iI,top:3*S.iI}),i),y=Object.keys(a),j=(0,u.useMemo)((function(){return a[h]}),[h]),w=(0,u.useMemo)((function(){return a[f]}),[f]),Z=(0,u.useMemo)((function(){return null===j||void 0===j?void 0:j.map((function(e,n){return{x:e,y:null===w||void 0===w?void 0:w[n]}}))}),[j,w]),O={};return h in r&&(O.xLabelFormat=function(e){return r[h][e]},O.numXTicks=r[h].length),n[h]===x.RL.TRUE_OR_FALSE&&(O.numXTicks=1),f in r&&(O.yLabelFormat=function(e){return r[f][e]},O.numYTicks=r[f].length),n[f]===x.RL.TRUE_OR_FALSE&&(O.numYTicks=1),(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:t,marginBottom:S.iI,width:"100%"},children:[(0,A.jsxs)(g.Z,{children:[(0,A.jsx)(ae.Z,{beforeIcon:(0,A.jsx)(pe,{children:(0,A.jsx)(_.ZP,{children:"X"})}),color:ce.a$,label:"Feature",onChange:function(e){return m(e.target.value)},value:h,children:y.filter((function(e){return e!==f})).map((function(e){return(0,A.jsx)("option",{value:e,children:e},e)}))}),(0,A.jsx)(V.Z,{mr:2}),(0,A.jsx)(ae.Z,{beforeIcon:(0,A.jsx)(pe,{children:(0,A.jsx)(_.ZP,{children:"Y"})}),color:ce.a$,label:"Feature",onChange:function(e){return v(e.target.value)},value:f,children:y.filter((function(e){return e!==h})).map((function(e){return(0,A.jsx)("option",{value:e,children:e},e)}))})]}),(0,A.jsx)("div",{style:{height:t,width:"100%"},children:(0,A.jsx)(re.Z,{children:function(e){var n=e.width;return(0,A.jsx)(ve,me(me(me({},s),O),{},{data:Z||[],height:t,margin:b,width:n,xAxisLabel:h,yAxisLabel:f}))}})})]})})},ge="M/D/YYYY",be=t(31044),ye=t(24224),je=t(33766),we=C.default.div.withConfig({displayName:"Overview__ChartStyle",componentId:"sc-1orkmzg-0"})(["border:1px solid ",";border-radius:","px;overflow:auto;margin-bottom:","px;"],ce.Wd,I.TR,S.iI*S.cd),Ze=(C.default.div.withConfig({displayName:"Overview__ChartHeaderStyle",componentId:"sc-1orkmzg-1"})([""]),C.default.div.withConfig({displayName:"Overview__HeaderStyle",componentId:"sc-1orkmzg-2"})([""," padding:","px;border-bottom:1px solid ",";border-top-left-radius:","px;border-top-right-radius:","px;"],(function(e){return"\n    background: ".concat((e.theme.background||k.Z.background).header,";\n  ")}),S.tr,ce.Wd,I.TR,I.TR)),Oe=C.default.div.withConfig({displayName:"Overview__BodyStyle",componentId:"sc-1orkmzg-3"})([""," border-bottom-left-radius:","px;border-bottom-right-radius:","px;"],(function(e){return!e.noPadding&&"\n    padding: ".concat(S.tr,"px;\n    padding-bottom: ").concat(2*S.tr,"px;\n  ")}),I.TR,I.TR);function _e(e){var n=e.children,t=e.noPadding,i=void 0!==t&&t,o=e.title;return(0,A.jsx)(we,{children:(0,A.jsxs)(g.Z,{flexDirection:"column",children:[o&&(0,A.jsx)(Ze,{children:(0,A.jsx)(_.ZP,{bold:!0,children:o})}),(0,A.jsx)(Oe,{noPadding:i,children:n})]})})}function Pe(e){var n=e.left,t=e.responsive,i=e.right;return(0,A.jsxs)(g.Z,{responsive:t,children:[(0,A.jsx)(g.Z,{flex:1,children:(0,A.jsx)("div",{style:{width:"100%",height:"100%"},children:n})}),i&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(V.Z,{mr:S.cd}),(0,A.jsx)(g.Z,{flex:1,children:(0,A.jsx)("div",{style:{width:"100%",height:"100%"},children:i})})]})]})}var Ce=function(e){var n,t,i=e.features,o=e.insightsOverview,a=e.statistics,l=o.correlations,c=void 0===l?[]:l,s=o.time_series,u=o.scatter_plot,d=o.scatter_plot_labels,h=null===i||void 0===i?void 0:i.map((function(e){return e.uuid})),m=[],p=null===c||void 0===c?void 0:c.map((function(e,n){var t=e.correlations,i=e.feature.uuid;m.push({label:i,linkProps:{onClick:function(){return(0,je.u)({column:null===i?null:h.indexOf(i)},{pushHistory:!0})}}});var o=t[0].y.map((function(e){var n=e.value;return(0,B.QV)(n)}));return o.splice(n,0,1),o})),f=(0,ye.HK)(i,(function(e){return e.uuid})),x=[],j=[];null===s||void 0===s||s.forEach((function(e){var n=(0,be.Co)(e,f,{calculateAnomaly:function(e){var n=e.y,t=e.yPrevious;return t&&1.5*t.count<=n.count},getYValue:function(e){return e.count}}),t=n.distribution,i=n.rangedWithUnusualDistribution;x.push(t),j.push(i)}));var w=[],Z=[],O=[];null===i||void 0===i||i.forEach((function(e){var n=e.uuid,t=a["".concat(n,"/null_value_rate")];if("undefined"!==typeof t){var i={feature:e,value:1-t};!t||t<=.1?Z.push(i):t>=.5&&O.push(i),w.push(i)}}));var P=x.map((function(e){var n=e.data,t=e.featureUUID;return(0,A.jsx)(y.Z,{data:n.map((function(e){var n=e.isUnusual,t=e.x,i=e.xLabel,o=e.xLabelMax,r=e.xLabelMin;return[i,e.y.count,r,o,t.min,t.max,n]})),getBarColor:function(e){return(0,r.Z)(e,7)[6]?k.Z.brand.wind400:k.Z.brand.wind300},height:50*S.iI,large:!0,margin:{right:4*S.iI},renderTooltipContent:function(e){var n=(0,r.Z)(e,4),t=n[1],i=n[2],o=n[3];return(0,A.jsxs)(_.ZP,{small:!0,children:["Rows: ",t,(0,A.jsx)("br",{}),"Dates: ",i," - ",o]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,ye.YC)(e,"[4]")}},t)})),C=[],I=[],D=[],M=[],T={},N=null===a||void 0===a?void 0:a.count;null===i||void 0===i||i.forEach((function(e){var n=e.uuid,t=e.columnType;T[n]=t;var i=null===a||void 0===a?void 0:a["".concat(n,"/count")];if(i){var o=a["".concat(n,"/count_distinct")],l=o/i,c=null===a||void 0===a?void 0:a["".concat(n,"/value_counts")],s={count:i,feature:e,uniquePercentage:l,uniqueValues:o};if(l>=.5?I.push(s):l<=.05&&D.push(s),c){var u=(0,ye.CE)(Object.entries(c).filter((function(e){var n=(0,r.Z)(e,2),t=n[0];n[1];return null!==t&&String(t).trim().length>=1})),(function(e){return(0,r.Z)(e,2)[1]})),d=(0,r.Z)(u,2),h=d[0],m=d[1],p=m/N;s.distributionFeatureUUID=h,s.distributionPercentage=p,s.distributionValue=m,(0,be.xp)(m,i,o)&&M.push(s)}C.push(s)}}));var L=C.filter((function(e){return e.distributionPercentage}));return(0,A.jsxs)(g.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Data completion",children:(0,A.jsx)(v.Z,{data:(0,ye.YC)(w,"value").map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*w.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;e.y;return"".concat((0,B.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,A.jsxs)(_e,{noPadding:O.length>=1,title:"Columns with a lot of missing values",children:[0===O.length&&(0,A.jsx)(_.ZP,{children:"All columns have a healthy amount of values."}),O.length>=1&&(0,A.jsx)(U,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column"},{label:"% missing values"}],noBorder:!0,rowGroupData:[{rowData:(0,ye.YC)(O.slice(0,12),"value").map((function(e){var n=e.feature,t=e.value;return{columnValues:[n.uuid,(0,B.T3)(1-t)],uuid:n.uuid}}))}],small:!0})]})}),P.length>=1&&P.map((function(e,n){var t,i,o=null===(t=s[n])||void 0===t||null===(i=t.x_metadata)||void 0===i?void 0:i.label,r=j[n];return(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Number of rows by date, column: ".concat(o),children:e}),responsive:!0,right:(0,A.jsxs)(_e,{noPadding:r.length>=1,title:"Dates with unusual number of rows",children:[0===r.length&&(0,A.jsx)(_.ZP,{children:"There are no unusual dates."}),r.length>=1&&(0,A.jsx)(U,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Start date"},{label:"End date"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:r.slice(0,12).map((function(e){var n=e.xLabelMax,t=e.xLabelMin,i=e.y;return{columnValues:[t,n,(0,B.x6)(i.count)],uuid:""}}))}],small:!0})]})},o)})),(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Number of unique values",children:(0,A.jsx)(v.Z,{data:(0,ye.YC)(C,"uniqueValues").map((function(e){var n=e.feature;return{x:e.uniqueValues,y:n.uuid}})),height:Math.max(3*C.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,B.x6)(n)," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,A.jsxs)(_e,{noPadding:I.length>=1,title:"Columns with a lot of unique values",children:[0===I.length&&(0,A.jsx)(_.ZP,{children:"All columns have a good amount of variation in the data."}),I.length>=1&&(0,A.jsx)(U,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column"},{label:"% unique values"}],noBorder:!0,rowGroupData:[{rowData:(0,ye.YC)(I.slice(0,12),"uniquePercentage",{ascending:!1}).map((function(e){var n=e.feature,t=e.uniquePercentage;return{columnValues:[n.uuid,(0,B.T3)(t)],uuid:n.uuid}}))}],small:!0})]})}),L.length>=1&&(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Distribution of values",children:(0,A.jsx)(v.Z,{data:(0,ye.YC)(L,"distributionPercentage").map((function(e){var n=e.feature;return{distributionFeatureUUID:e.distributionFeatureUUID,x:e.distributionPercentage,y:n.uuid}})),height:Math.max(3*L.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.distributionFeatureUUID,t=e.x;return"".concat(n," is ").concat((0,B.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,A.jsxs)(_e,{noPadding:M.length>=1,title:"Columns with imbalanced distribution",children:[0===M.length&&(0,A.jsx)(_.ZP,{children:"All columns have an even distribution of its values."}),M.length>=1&&(0,A.jsx)(U,{columnFlexNumbers:[2,2,1],columnHeaders:[{label:"Column"},{label:"Most frequent value"},{label:"% of rows"}],noBorder:!0,rowGroupData:[{rowData:(0,ye.YC)(M.slice(0,12),"distributionPercentage",{ascending:!1}).map((function(e){var n=e.feature,t=e.distributionFeatureUUID,i=e.distributionPercentage;return{columnValues:[n.uuid,t,(0,B.T3)(i)],uuid:n.uuid}}))}],small:!0})]})}),c&&(null===p||void 0===p?void 0:p.length)>=1&&(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Correlations",children:(0,A.jsx)(b.Z,{countMidpoint:0,data:p,height:8*S.iI*m.length,minCount:-1,xLabels:m,yLabels:m})})}),u&&(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Scatterplot",children:(0,A.jsx)(xe,{featureMapping:T,scatterPlotLabels:d,scatterPlotOverview:u,height:50*S.iI,margin:{left:5*S.iI},yLabelFormat:se.P5,xFeature:null===(n=i[0])||void 0===n?void 0:n.uuid,yFeature:null===(t=i[(null===i||void 0===i?void 0:i.length)-1])||void 0===t?void 0:t.uuid})})})]})},ke=t(46990),Ie=t(43313);var Se=function(e){var n,t=e.column,i=e.features,o=e.insights,a=e.statisticsByColumn,l=e.statisticsOverview,c=(0,u.useRef)(null),s=(0,u.useState)(0),d=(s[0],s[1]);(0,u.useEffect)((function(){var e,n;d(null===c||void 0===c||null===(e=c.current)||void 0===e||null===(n=e.getBoundingClientRect())||void 0===n?void 0:n.width)}),[c,d]);var h=l||{},p=null===h||void 0===h?void 0:h.count,Z=null===h||void 0===h?void 0:h["".concat(t,"/count")],O=null===h||void 0===h?void 0:h["".concat(t,"/count_distinct")],P=(0,ye.HK)(i,(function(e){return e.uuid})),C=P[t]||{},I=C.uuid,D=C.columnType,M=x.RL.TRUE_OR_FALSE===D,T=x.Vg.includes(D),N=x.P_.includes(D),L=x.RL.DATETIME===D,E=o||{},H=E.charts,R=E.correlations,F=void 0===R?[]:R,z=E.time_series,W=i.map((function(e){return e.uuid})),Y=(null===F||void 0===F?void 0:F.length)>=1?(0,be.LH)([{correlations:F,feature:C}]):null,q=[{label:t}],G=[[1]],X=[];Y&&(null===Y||void 0===Y||Y.map((function(e,n){var t=(0,r.Z)(e,3),i=t[1],o=t[2];q.push({label:i,linkProps:{onClick:function(){return(0,je.u)({column:null===i?null:W.indexOf(i)},{pushHistory:!0})}}}),G.push([(0,B.QV)(o)])})),null===Y||void 0===Y||Y.map((function(e,n,t){var i,o,r;Math.abs(t[n][2])>.5&&X.push({columnValues:[null===(i=t[n][0])||void 0===i?void 0:i.toString(),null===(o=t[n][1])||void 0===o?void 0:o.toString(),null===(r=(0,B.QV)(t[n][2]))||void 0===r?void 0:r.toString()]})})));var Q,J,K=null===H||void 0===H?void 0:H.find((function(e){var n=e.type;return ke.o.HISTOGRAM===n})),$=K?(0,be.Co)(K,P,{calculateAnomaly:function(e){var n=e.y,t=e.yValuesAverage,i=e.yValuesStandardDeviation;return Math.abs(n.value-t)>2*i},feature:C,getYValue:function(e){return e.value}}):{},ee=$.distribution,ne=void 0===ee?null:ee,te=$.rangedWithUnusualDistribution,ie=void 0===te?null:te,oe=$.unusualDistribution,re=void 0===oe?null:oe,ae=Object.entries(a||{}).map((function(e){var n=(0,r.Z)(e,2),t=n[0];return{x:n[1],y:t}}));if(ne&&!M)Q=(0,A.jsx)(y.Z,{data:ne.data.map((function(e){var n=e.hideRange,t=e.isUnusual,i=e.x;return[e.xLabel,e.y.value,i.min,i.max,t,n]})),getBarColor:function(e){return(0,r.Z)(e,5)[4]?k.Z.brand.wind400:k.Z.brand.wind300},height:50*S.iI,large:!0,margin:{right:2*S.iI},noPadding:!0,renderTooltipContent:function(e){var n=(0,r.Z)(e,6),t=n[1],i=n[2],o=n[3],a=n[5];return(0,A.jsxs)(_.ZP,{small:!0,children:[a&&(0,A.jsxs)(A.Fragment,{children:["Rows: ",t,(0,A.jsx)("br",{}),"Value: ",i]}),!a&&(0,A.jsxs)(A.Fragment,{children:["Rows: ",t,(0,A.jsx)("br",{}),"Range: ",i," - ",o]})]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,ye.YC)(e,"[2]")}},t);else if(Ie.mG.includes(D)){var le=(0,ye.YC)(ae,"x");Q=(0,A.jsx)(v.Z,{data:le,height:Math.max(3*le.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x,t=e.y;return"".concat(t," appears ").concat((0,B.x6)(n)," times")},xNumTicks:2,ySerialize:function(e){return e.y}})}else if(M&&a)Q=(0,A.jsx)(w.Z,{data:Object.entries(a),getX:function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return"".concat(t," (").concat((0,B.x6)(i),")")},getY:function(e){return(0,r.Z)(e,2)[1]},height:60*S.iI});else if(L){var ce=i.filter((function(e){return e.columnType===x.RL.DATETIME})).findIndex((function(e){return e.uuid===I})),ue=(0,be.Co)(z[ce],{},{feature:{columnType:D,uuid:I}}).distribution,de=ue.data,he=ue.featureUUID;Q=(0,A.jsx)(y.Z,{data:de.map((function(e){var n=e.x,t=e.xLabel,i=e.xLabelMax,o=e.xLabelMin;return[t,e.y.count,o,i,n.min,n.max]})),getBarColor:function(e){(0,m.Z)(e);return k.Z.brand.wind300},height:50*S.iI,large:!0,renderTooltipContent:function(e){var n=(0,r.Z)(e,4),t=n[1],i=n[2],o=n[3];return(0,A.jsxs)(_.ZP,{small:!0,children:["Rows: ",t,(0,A.jsx)("br",{}),"Start: ",i,(0,A.jsx)("br",{}),"End: ",o]})},showAxisLabels:!0,showYAxisLabels:!0,sortData:function(e){return(0,ye.YC)(e,"[4]")}},he)}if((null===ie||void 0===ie?void 0:ie.length)>=1)J=(0,A.jsx)(U,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Starting value"},{label:"Ending value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:ie.map((function(e){var n=e.x,t=e.y;return{columnValues:[n.min,n.max,(0,B.x6)(t.value)],uuid:""}}))}],small:!0});else if((null===re||void 0===re?void 0:re.length)>=1)J=(0,A.jsx)(U,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:re.map((function(e){var n=e.x,t=e.y;return{columnValues:[n.min,(0,B.x6)(t.value)],uuid:""}}))}],small:!0});else if(N){var me=ae.reduce((function(e,n){var t=n.x,i=n.y;return(0,be.xp)(t,Z,O)&&e.push({x:t,y:i}),e}),[]);me.length>=1&&(J=(0,A.jsx)(U,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:(0,ye.YC)(me,"x",{ascending:!1}).map((function(e){var n=e.x;return{columnValues:[e.y,n],uuid:""}}))}],small:!0}))}var pe=function(e){var n=e.legendNames,t=e.serializeY,i=e.x,o=e.xMetadata,r=e.y,a=e.yAxisLabel,l=void 0===a?"Statistics":a,c=i.map((function(e,n){var i=e.max,o=e.min,a=r[n];return{x:(i-o)/2+o,y:t(a)}}));return(0,A.jsx)(j.Z,{data:c,height:60*S.iI,lineLegendNames:n,margin:{bottom:10*S.iI},noCurve:!0,renderXTooltipContent:function(e){var n=e.index,t=i[n],o=t.min,r=t.max;return(0,A.jsxs)(_.ZP,{small:!0,children:[f().unix(o).format(ge)," - ",f().unix(r).format(ge)]})},renderYTooltipContent:function(e,t){var i=e.y;return(0,A.jsxs)(_.ZP,{small:!0,children:[n[t],": ",(0,B.x6)((0,B.QV)(i[t],4))]})},xAxisLabel:o.label,xLabelFormat:function(e){return f().unix(e).format(ge)},yAxisLabel:l,yLabelFormat:se.P5})},fe=[];return null===z||void 0===z||null===(n=z.filter((function(e){var n=e.type;return ke.o.LINE_CHART===n})))||void 0===n||n.forEach((function(e){var n=e.x,t=e.x_metadata,i=e.y,o=[{chart:pe({legendNames:["Rows","Unique values","% missing values"],serializeY:function(e){return[e.count,e.count_distinct,e.null_value_rate]},x:n,xMetadata:t,y:i}),metric:"count"}];if(T)o.push({chart:pe({legendNames:["Minimum","Maximum","Average","Median"],serializeY:function(e){var n=e.average,t=e.max,i=e.median;return[e.min||0,t||0,n||0,i||0]},x:n,xMetadata:t,y:i}),metric:"sum"});else if(N||M){var r,a=null===i||void 0===i||null===(r=i[0])||void 0===r?void 0:r.value_counts;if(a){var l=Object.keys(a);o.push({chart:pe({legendNames:l,serializeY:function(e){var n=e.value_counts;return l.map((function(e){return(null===n||void 0===n?void 0:n[e])||0}))},x:n,xMetadata:t,y:i,yAxisLabel:"Number of rows with value"}),metric:"value_counts"})}}fe.push({charts:o,column:t.label})})),(0,A.jsxs)(g.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[!Q&&0===fe.length&&0===(Y||[]).length&&(0,A.jsx)(_.ZP,{bold:!0,large:!0,children:"No visualizations are currently available for this column. More visualization types will be coming soon!"}),Q&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:Ie.yD[D]||Ie.yD.default,children:Q})}),!M&&J&&(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{noPadding:M||!!J,title:"Values with unusual distribution",children:J})}),M&&(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{noPadding:M||!!J,children:(0,A.jsx)(U,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Value"},{label:"Number of rows"},{label:"% of rows"}],noBorder:!0,rowGroupData:[{rowData:(0,ye.YC)(Object.entries(a),(function(e){return(0,r.Z)(e,2)[1]}),{ascending:!1}).map((function(e){var n=(0,r.Z)(e,2),t=n[0],i=n[1];return{columnValues:[t,(0,B.x6)(i),(0,B.T3)(i/p)],uuid:i}}))}],small:!0})})})]}),fe.length>=1&&!L&&fe.map((function(e,n){var t=e.column,i=e.charts;return(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Statistics by date, column: ".concat(t),children:i.map((function(e,n){var t=e.chart;e.metric;return(0,A.jsx)(V.Z,{mb:4,children:t},n)}))})},n)})),(null===Y||void 0===Y?void 0:Y.length)>=1&&(0,A.jsx)(Pe,{left:(0,A.jsx)(_e,{title:"Correlations",children:(0,A.jsx)(b.Z,{countMidpoint:0,data:G,height:8*S.iI*q.length,minCount:-1,xLabels:[{label:t}],yLabels:q})}),responsive:!0,right:(0,A.jsx)(_e,{noPadding:!!Y,title:"Values with high correlation",children:X.length>0?(0,A.jsx)(U,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Column"},{label:"Related column"},{label:"Correlation"}],noBorder:!0,rowGroupData:[{rowData:X}],small:!0}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(V.Z,{mb:1,ml:1,mt:1,children:(0,A.jsx)(_.ZP,{children:"There are no values with high correlation."})}),(0,A.jsx)(U,{columnFlexNumbers:[1,1,1],columnHeaders:[],noBorder:!0,rowGroupData:[],small:!0})]})})})]})},De=1.75,Me=(0,C.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],De*S.iI,1.5*S.iI,1.5*S.iI),Te=C.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;width:100%;"," "," ",""],I.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).page,";\n    border: 1px solid ").concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.borderless&&"\n    border: none;\n  "})),Ne=C.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||k.Z.background).header,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),Me),Le=C.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;",""],De*S.iI,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),Ee=C.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],I.M8,I.YF,De*S.iI),He=6.5*S.iI,Re=6.5*S.iI;var Fe=function(e){var n=e.borderless,t=e.children,i=e.containerRef,o=e.contentContainerRef,r=e.footer,a=e.fullHeight,l=void 0===a||a,c=e.header,s=e.headerHeight,u=e.headerIcon,d=e.headerTitle,h=e.items,m=e.subtitle,p=14;return(d||c)&&(p-=s||He),r&&(p-=Re),(0,A.jsxs)(Te,{borderless:n,fullHeight:l,ref:i,children:[(c||d)&&(0,A.jsxs)(Ne,{height:s,children:[c&&c,d&&(0,A.jsxs)(g.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,A.jsxs)(g.Z,{alignItems:"center",children:[u&&u,(0,A.jsx)(V.Z,{ml:u?1:0,children:(0,A.jsx)(_.ZP,{bold:!0,children:d})})]}),h&&(0,A.jsx)(A.Fragment,{children:h})]}),m&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(V.Z,{mb:2}),(0,A.jsx)(g.Z,{alignItems:"right",children:m})]})]}),(0,A.jsx)(Le,{height:l?p:null,ref:o,children:t}),r&&(0,A.jsx)(Ee,{children:(0,A.jsx)(g.Z,{alignItems:"center",justifyContent:"center",children:r})})]})},Ae=t(84201),ze=t(11754),Ve=t(92506),Be=t(95157),Ue=t(84779);var We=function(e){var n=e.column,t=e.featureSet,i=t.metadata,o=((null===i||void 0===i?void 0:i.column_types)||{})[n],r=(0,Be.Tx)(t,n),a=r.average,l=r.avg_string_length,c=r.avg_word_count,s=r.completeness,u=r.count,d=r.count_distinct,h=r.invalid_value_count,m=r.invalid_value_rate,p=r.invalid_values,f=r.max,v=r.max_character_count,b=r.max_word_count,y=r.median,j=r.min,w=r.min_character_count,O=r.min_word_count,P=r.mode,C=r.null_value_count,k=r.null_value_rate,I=r.outlier_count,D=r.outliers,M=r.skew,T=r.unique_value_rate,N=[{columnFlexNumbers:[2,1,2],name:"Validity",progress:!0,rate:r.validity,warning:{compare:ye.Qj,val:.8}},{columnFlexNumbers:[2,1,2],name:"Completeness",progress:!0,rate:s,warning:{compare:ye.Qj,val:.8}}],L=[{name:"Column type",value:x.Rp[o]||o},{name:"Total values",value:(0,B.x6)(u)},{name:"Unique values",value:(0,B.x6)(d),rate:T,warning:{compare:ye.tS,val:.8}},{name:"Missing values",value:(0,B.x6)(C),rate:k,warning:{compare:ye.tS,val:0}},{name:"Invalid values",value:(0,B.x6)(h),rate:m,warning:{compare:ye.tS,val:0}},{name:"Mode value",value:(0,B.kE)(P)?(0,B.QV)(P):P}];x.Vg.includes(o)&&L.push({name:"Max value",value:(0,B.kE)(f)?(0,B.QV)(f):f},{name:"Min value",value:(0,B.kE)(j)?(0,B.QV)(j):j},{name:"Median value",value:(0,B.kE)(y)?(0,B.QV)(y):y},{name:"Average value",value:(0,B.kE)(a)?(0,B.QV)(a):a}),o===x.RL.TEXT&&L.push({name:"Max word count",value:(0,B.x6)(b)},{name:"Min word count",value:(0,B.x6)(O)},{name:"Average word count",value:(0,B.kE)(c)?(0,B.QV)(c):c},{name:"Max character count",value:(0,B.x6)(v)},{name:"Min character count",value:(0,B.x6)(w)},{name:"Average string length",value:(0,B.kE)(l)?(0,B.QV)(l):l}),L=L.filter((function(e){return void 0!==e.value}));var E=[{name:"Outliers",value:I},{name:"Skewness",value:null===M||void 0===M?void 0:M.toFixed(3)}],H=D&&I>0,R=p&&h>0,F=E.every((function(e){return void 0===e.value}));return(0,A.jsxs)(g.Z,{justifyContent:"center",responsive:!0,children:[(0,A.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[(0,A.jsx)(Ve.Z,{stats:N,title:"Quality metrics"}),(0,A.jsx)(Ve.Z,{stats:L,title:"Statistics"})]}),(0,A.jsx)(V.Z,{ml:S.cd}),(0,A.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[F?(0,A.jsx)(Fe,{fullHeight:!1,headerTitle:"Warnings",children:(0,A.jsx)(_.ZP,{children:"There are no warnings."})}):(0,A.jsx)(Ve.Z,{stats:E,title:"Warnings"}),H&&(0,A.jsx)(ze.Z,{alternating:!0,headerTitle:"Outliers",children:null===D||void 0===D?void 0:D.map((function(e,n){return(0,A.jsx)(Ae.Z,{children:(0,A.jsx)(_.ZP,{children:x.Vg.includes(o)?(0,Ue.Jw)(e,2):e})},"outlier_".concat(n))}))}),R&&(0,A.jsx)(V.Z,{mt:S.cd,children:(0,A.jsx)(ze.Z,{headerTitle:"Invalid values",children:null===p||void 0===p?void 0:p.map((function(e,n){return(0,A.jsx)(Ae.Z,{last:n===p.length-1,secondary:n%2===1,children:(0,A.jsx)(_.ZP,{children:e})},"invalid_val_".concat(n))}))})})]})]})},Ye=t(12691),qe=t.n(Ye),Ge=t(83455),Xe=t(51774),Qe=t.n(Xe),Je=t(80906),Ke=["short"];function $e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function en(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?$e(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$e(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var nn=C.default.div.withConfig({displayName:"Divider__DividerContainerStyle",componentId:"sc-1m7lqco-0"})([""," ",""],(function(e){return e.short&&"\n    width: 30%;\n  "}),(function(e){return!e.short&&"\n    width: 100%;\n  "})),tn=C.default.div.withConfig({displayName:"Divider__DividerStyle",componentId:"sc-1m7lqco-1"})(["height:1px;",""],(function(e){return"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")})),on=function(e){var n=e.short,t=(0,W.Z)(e,Ke);return(0,A.jsx)(nn,{short:n,children:(0,A.jsx)(V.Z,en(en({},t),{},{children:(0,A.jsx)(tn,en({},t))}))})};on.defaultProps={short:!1};var rn=on,an=t(82944),ln="columnType",cn="columns",sn="user_input",un="contains",dn="==",hn="@transformer_action\ndef transform(df):\n\t# Your code here ... \n\treturn df",mn={columns:{clean_column_name:{multiColumns:!0,title:"Clean column name",description:"Lowercase the column name and replace special characters with an underscore."},custom:{title:"Custom code",description:"Write your own custom cleaning function.       Add @transformer_action, then begin typing Python code inside a function.       You may refer to the current dataset as df.",code:{default:hn,multiline:!0,values:sn}},fix_syntax_errors:{multiColumns:!0,title:"Fix syntax errors",description:"Fix syntactical errors to reduce the amount of noise in the data."},impute:{multiColumns:!0,title:"Impute",description:"Fill in missing values.",options:{strategy:{description:"Select how you want missing values to be filled in.",values:[{description:"Mean value",condition:{feature_attribute:ln,operator:un,value:[x.RL.NUMBER,x.RL.NUMBER_WITH_DECIMALS]},value:"average"},{description:"Median value",condition:{feature_attribute:ln,operator:un,value:[x.RL.NUMBER,x.RL.NUMBER_WITH_DECIMALS]},value:"median"},{description:"Most frequent value",value:"mode"},{description:"Use previously occurring entry in a timeseries",value:"seq"},{description:"Random value",value:"random"},{description:"Use a single value",value:"constant"}]},value:{description:"Use a constant value to fill in missing values.",condition:{options_key:"strategy",operator:dn,value:"constant"},values:sn}}},remove:{multiColumns:!0,title:"Remove column",description:"Drop 1 or more columns from the dataset."},reformat:{multiColumns:!0,title:"Reformat values",description:"Change the format of values to a consistent format.",options:{reformat:{values:[{description:"Capitalize all the values using lowercase or uppercase.",value:"caps_standardization"},{description:"Remove currency symbols and convert strings into numbers.",value:"currency_to_num"},{description:"Reformat the date and time to ISO format (YYYY-MM-DD HH:mm:SS).",value:"date_format_conversion"}]},capitalization:{condition:{options_key:"reformat",operator:dn,value:"caps_standardization"},values:[{value:"lowercase"},{value:"uppercase"}]}}},remove_outliers:{multiColumns:!0,title:"Remove outliers",description:"Remove rows with outliers to reduce noise in the data.",options:{method:{values:[{value:"lof",description:"Use the Local Outlier Factor algorithm"},{value:"itree",description:"Use the Isolation Forest algorithm"},{value:"auto",description:"Choose the best method automatically"}]}}}},rows:{custom:{title:"Custom code",description:"Write your own custom cleaning function.       Add @transformer_action, then begin typing Python code inside a function.       You may refer to the current dataset as df.",code:{default:hn,multiline:!0,values:sn}},drop_duplicate:{title:"Drop duplicates",description:"Remove rows that have repeat values from 1 or more columns.",arguments:{description:"Select 1 or more columns that should have unique values.",values:cn},options:{keep:{description:"When duplicate rows are found, decide which row to keep.",values:[{value:"first"},{value:"last"}]}}},filter:{title:"Filter",description:"Select which rows to keep. Use Python syntax for conditional statements. For example: col1 == 1 and (col2 == 3 or col3 is None)",code:{values:sn}}}},pn=C.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-ktjgvu-0"})([""," "," ",""],(function(e){return!e.noBorder&&"\n    border-radius: ".concat(I.n_,"px;\n    border: 1px solid ").concat((e.theme.brand||k.Z.brand).water300,";\n  ")}),(function(e){return"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||k.Z.shadow).popup,";\n  ")})),fn=C.default.div.withConfig({displayName:"indexstyle__OptionStyle",componentId:"sc-ktjgvu-1"})([""," border-radius:","px;padding:","px;"," ",""],(0,D.eR)(),I.BG,.5*S.iI,(function(e){return"\n    border: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n\n    &:hover {\n      background-color: ").concat((e.theme.monotone||k.Z.monotone).grey100,";\n    }\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.brand||k.Z.brand).earth500,";\n  ")}));function vn(e){return un===e?function(e,n){return n.includes(e)}:dn===e?function(e,n){return e===n}:">"===e?function(e,n){return e>n}:">="===e?function(e,n){return e>=n}:"<"===e?function(e,n){return e<n}:"<="===e?function(e,n){return e<=n}:"!="===e?function(e,n){return e!==n}:function(){return!1}}function xn(e,n){var t,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,a=e.feature_attribute,l=e.operator,c=e.options_key,s=e.value,u=r||{},d=u.multiColumns;if(c)t=null===n||void 0===n||null===(i=n.action_options)||void 0===i?void 0:i[c];else if(o&&a)t=null===o||void 0===o?void 0:o[a];else if(!o&&a&&d)return!0;return vn(l)(t,s)}var gn=t(91427),bn={cursorStyle:"slim",highlightActiveLine:!1,highlightGutterLine:!1,readOnly:!0,tabSize:4,useWorker:!1},yn={highlightActiveLine:!0,showGutter:!0,showLineNumbers:!0,showPrintMargin:!0,tabSize:4,useWorker:!1};function jn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function wn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Zn=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(47409),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}});var On=function(e){var n,t,i=e.actionType,a=e.axis,l=e.features,c=void 0===l?[]:l,s=e.currentFeature,d=e.featureSetId,m=e.noBorder,p=e.noHeader,f=e.onClose,v=e.onSave,x=e.payload,b=e.setPayload,y=e.shadow,j=(0,u.useContext)(C.ThemeContext),w=(0,u.useState)(null===x||void 0===x?void 0:x.action_code),Z=w[0],k=w[1],I=x.action_arguments,S=x.action_code,D=x.action_options,M=x.action_variables,T=function(e){return b(wn(wn({},x),e))},N=null===(n=a===Je.qs.ROW?mn.rows:mn.columns)||void 0===n?void 0:n[i],L=N||{},E=L.arguments,H=L.code,R=L.description,F=L.multiColumns,z=L.options,B=L.title;if(!N)return(0,A.jsx)(V.Z,{my:1,children:(0,A.jsxs)(_.ZP,{children:["There\u2019s no configuration for axis ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:a})," and action type ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:i}),".",(0,A.jsx)("br",{}),"Please add it in ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"/mage_ai/frontend/components/ActionForm/actions.ts"}),"."]})});var U=E||{},W=(U.condition,U.description),q=U.values,G=!s&&F;return(0,A.jsxs)(pn,{noBorder:m,shadow:y,children:[!p&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,A.jsxs)(V.Z,{p:2,children:[(0,A.jsx)(_.ZP,{children:B}),R&&(0,A.jsx)(_.ZP,{muted:!0,small:!0,children:R})]}),(0,A.jsx)(V.Z,{p:2,children:(0,A.jsx)(h.Z,{basic:!0,iconOnly:!0,onClick:f,padding:"0px",transparent:!0,children:(0,A.jsx)(P.x8,{muted:!0})})})]}),(0,A.jsx)(rn,{})]}),(0,A.jsxs)(V.Z,{p:!p&&2,pt:p&&2,children:[H&&(0,A.jsx)(V.Z,{mb:3,children:H.values===sn&&(0,A.jsx)(Zn,{maxLines:25,minLines:6,mode:"python",onChange:function(e){var n;x.action_code=e,k(null!==(n=x.action_code)&&void 0!==n?n:S),(0,gn.RA)({actionType:i,featureSetId:d,newValue:e})},setOptions:yn,style:{backgroundColor:j.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,overflow:"auto",width:"inherit"},value:null!==S&&void 0!==S?S:null!==(t=(0,gn.jQ)({actionType:i,featureSetId:d}))&&void 0!==t?t:H.default,wrapEnabled:!0})}),(E||G)&&(0,A.jsxs)(V.Z,{mb:3,children:[(0,A.jsx)(_.ZP,{monospace:!0,children:G?"columns":"arguments"}),W&&(0,A.jsx)(_.ZP,{muted:!0,small:!0,children:W}),(cn===q||G)&&(0,A.jsx)(g.Z,{flexWrap:"wrap",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.column_type,t=e.uuid,i=null===I||void 0===I?void 0:I.includes(t);return(0,A.jsx)(V.Z,{mr:1,mt:1,children:(0,A.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var e,r=wn({},M);i?delete r[t]:r[t]=(e={},(0,o.Z)(e,Je.X0.FEATURE,{column_type:n,uuid:t}),(0,o.Z)(e,"type",Je.X0.FEATURE),e);T({action_arguments:(0,Y.Z)(i?(0,ye.oM)(I||[],null===I||void 0===I?void 0:I.indexOf(t)):[].concat((0,Y.Z)(I||[]),[t])),action_variables:r})},preventDefault:!0,children:(0,A.jsx)(fn,{selected:i,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[(0,A.jsx)(_.ZP,{children:t}),(0,A.jsx)(V.Z,{mr:1}),i&&(0,A.jsx)(P.Jr,{earth:!0})]})})})},t)}))})]}),z&&Object.entries(z).map((function(e,n){var t,i=(0,r.Z)(e,2),a=i[0],l=i[1],c=l.condition,u=l.description,d=l.values,h=null===D||void 0===D?void 0:D[a],m=[],p=!0;return c&&(p=xn(c,x,s,{multiColumns:F})),Array.isArray(d)?m.push.apply(m,(0,Y.Z)(d)):cn===d||sn===d&&(t=(0,A.jsx)(an.Z,{compact:!0,fullWidth:!0,onChange:function(e){return T({action_options:wn(wn({},D),{},(0,o.Z)({},a,e.target.value))})},value:h})),p&&(0,A.jsxs)(V.Z,{mt:n>=1?2:0,children:[(0,A.jsx)(_.ZP,{monospace:!0,children:a}),u&&(0,A.jsx)(_.ZP,{muted:!0,small:!0,children:u}),m&&(0,A.jsx)(g.Z,{flexWrap:"wrap",children:m.map((function(e){var n=e.condition,t=e.description,i=e.value,r=!0;return n&&(r=xn(n,x,s,{multiColumns:F})),r&&(0,A.jsx)(V.Z,{mr:1,mt:1,title:t,children:(0,A.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return T({action_options:wn(wn({},D),{},(0,o.Z)({},a,h===i?null:i))})},preventDefault:!0,children:(0,A.jsx)(fn,{selected:h===i,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[(0,A.jsxs)(_.ZP,{children:[i,t&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("br",{}),(0,A.jsx)(_.ZP,{inline:!0,muted:!0,xsmall:!0,children:t})]})]}),(0,A.jsx)(V.Z,{mr:1}),h===i&&(0,A.jsx)(P.Jr,{earth:!0})]})})})},i)}))}),t]},a)})),(0,A.jsx)(V.Z,{mt:E||G||z?3:0,children:(0,A.jsx)(h.Z,{onClick:function(){var e={action_variables:M?wn({},M):{}};return Z&&(e.action_code=Z),v(e)},children:"Apply"})})]})]})},_n=t(47999),Pn=C.default.div.withConfig({displayName:"MenuContainer__ContainerStyle",componentId:"sc-1ntdyxn-0"})(["border-radius:","px;max-height:85vh;overflow:auto;padding:","px;position:absolute;z-index:101;"," "," "," "," "," "," ",""],I.Ro,1.75*S.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).white,";\n    box-shadow: ").concat((e.theme.shadow||k.Z.shadow).menu,";\n  ")}),(function(e){return"undefined"!==typeof e.left&&"\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    right: ".concat(e.right,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&"\n    min-width: ".concat(22*S.iI,"px;\n  ")}));var Cn=function(e){var n=e.bottom,t=e.children,i=e.left,o=e.right,r=e.top,a=e.width;return(0,A.jsx)(Pn,{bottom:n,left:i,right:o,top:r,width:a,children:t})};function kn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function In(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?kn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Sn=function(e){var n=e.onCloseMenu,t=e.left,i=e.linkGroups,o=e.onClick,r=e.right,a=e.top,l=e.width;return(0,A.jsx)(Cn,{left:t,right:r,top:a,width:l,children:null===i||void 0===i?void 0:i.map((function(e,t){var i=e.links,r=e.uuid;return(0,A.jsxs)("div",{children:[t>=1&&(0,A.jsx)(V.Z,{my:1,px:2,children:(0,A.jsx)(rn,{})}),i.map((function(e){var t=e.afterElement,i=e.beforeIcon,r=e.label,a=e.linkProps,l=e.onClick,c=e.uuid||r,s=(0,A.jsx)(O.Z,{block:!0,fullWidth:!0,onClick:function(e){null===n||void 0===n||n(!1),null===o||void 0===o||o(e),null===l||void 0===l||l(e)},preventDefault:(o||l)&&!a,sameColorAsText:!0,children:(0,A.jsx)(V.Z,{px:"4px",py:1,children:r})},c);return a&&(s=(0,u.createElement)(qe(),In(In({},a),{},{key:c,passHref:!0}),s)),(0,A.jsxs)(g.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,A.jsxs)(Z.Z,{alignItems:"center",flex:1,children:[i&&(0,A.jsxs)(A.Fragment,{children:[i,(0,A.jsx)(V.Z,{mr:"4px"})]}),s]}),t&&(0,A.jsx)(V.Z,{py:1,children:t})]},c)}))]},r)}))})};var Dn=function(e){var n=e.columnOnly,t=e.setActionPayload,i=e.setVisible,o=e.visible,a=function(e,n){t({action_type:e,axis:n}),i(!1)},l=Object.entries(mn.rows).map((function(e){var n=(0,r.Z)(e,2),t=n[0];return{label:n[1].title,onClick:function(){return a(t,Je.qs.ROW)},uuid:t}})),c=Object.entries(mn.columns).filter((function(e){var t=(0,r.Z)(e,2),i=(t[0],t[1]);return!!n||i.multiColumns})).map((function(e){var n=(0,r.Z)(e,2),t=n[0];return{label:n[1].title,onClick:function(){return a(t,Je.qs.COLUMN)},uuid:t}})),s=l.concat(c);return(0,A.jsx)(_n.Z,{disableEscape:!0,onClickOutside:function(){return i(!1)},open:o,children:(0,A.jsx)(Sn,{linkGroups:[{links:n?c:s,uuid:"actions"}],right:S.iI*S.cd})})},Mn=t(86585);var Tn=function(e){var n=e.columns,t=e.featureSet,i=e.left,o=e.onClickColumn,r=e.setVisible,a=e.top,l=e.visible,c=t.metadata,s=(null===c||void 0===c?void 0:c.column_types)||{},d=[{beforeIcon:(0,A.jsx)(P.u$,{}),label:"All columns",onClick:function(){o(null),r(!1)},uuid:"all_columns"}],h=(n||[]).map((function(e){var n=s[e],t=Mn.T5[n];return{beforeIcon:(0,A.jsx)(t,{}),label:e,onClick:function(){o(e),r(!1)},uuid:e}})),m=(0,u.useMemo)((function(){return(0,ye.YC)(h,(function(e){return e.uuid}))}),[h]);return(0,A.jsx)(_n.Z,{disableEscape:!0,onClickOutside:function(){return r(!1)},open:l,children:(0,A.jsx)(Sn,{left:i,linkGroups:[{links:d.concat(m),uuid:"columns"}],top:a})})},Nn=C.default.div.withConfig({displayName:"ColumnListSidebarstyle__ColumnRowStyle",componentId:"sc-1c5ywj7-0"})([""," ",""],(function(e){return!e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n\n    &:hover {\n      background-color: ").concat((e.theme.accent||k.Z.accent).cyanTransparent,";\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.accent||k.Z.accent).cyanTransparent,";\n    border-bottom: 1px solid ").concat((e.theme.accent||k.Z.accent).cyan,";\n  ")}));var Ln=function(e){var n=e.columns,t=void 0===n?[]:n,i=e.featureSet,o=e.onClickColumn,r=e.selectedColumn,a=i.metadata,l=(null===a||void 0===a?void 0:a.column_types)||{},c=[{Icon:P.u$,label:function(){return"All columns"},uuid:null}].concat(null===t||void 0===t?void 0:t.map((function(e){var n=l[e];return{Icon:Mn.T5[n],label:function(){return e},uuid:e}}))),s=(0,u.useMemo)((function(){return(0,ye.YC)(c,(function(e){return e.uuid}))}),[c]);return(0,A.jsx)(g.Z,{flexDirection:"column",children:s.map((function(e){var n=e.Icon,t=e.kicker,i=e.label,a=e.uuid;return(0,A.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return o(a)},preventDefault:!0,children:(0,A.jsx)(Nn,{selected:r===a||!(r||a),children:(0,A.jsxs)(V.Z,{px:2,py:1,children:[t&&(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[!n&&(0,A.jsx)(V.Z,{mr:3}),(0,A.jsx)(_.ZP,{bold:!0,small:!0,children:t()})]})}),(0,A.jsxs)(g.Z,{alignItems:"center",children:[n&&(0,A.jsx)("div",{style:{height:2*S.iI,width:2*S.iI},children:(0,A.jsx)(n,{size:2*S.iI})}),(0,A.jsx)(V.Z,{mr:n?1:3}),(0,A.jsx)(_.ZP,{children:i()})]})]})})},a||"overview")}))})},En=35*S.iI,Hn=50*S.iI,Rn=C.default.div.withConfig({displayName:"MultiColumnstyle__HeaderStyle",componentId:"sc-n3qsrr-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(En,"px;\n    width: calc(100% - ").concat(En,"px);\n  ")})),Fn=C.default.div.withConfig({displayName:"MultiColumnstyle__TabStyle",componentId:"sc-n3qsrr-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],I.n_,I.n_,1*S.iI,2*S.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||k.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*S.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")})),An=C.default.aside.withConfig({displayName:"MultiColumnstyle__BeforeStyle",componentId:"sc-n3qsrr-2"})(["height:100%;left:0;position:fixed;width:","px;z-index:1;",""],En,(function(e){return"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).grey100,";\n  ")})),zn=C.default.div.withConfig({displayName:"MultiColumnstyle__BeforeInnerStyle",componentId:"sc-n3qsrr-3"})(["height:100%;overflow:auto;"]),Vn=C.default.div.withConfig({displayName:"MultiColumnstyle__MainContentStyle",componentId:"sc-n3qsrr-4"})(["position:fixed;z-index:1;"," "," ",""],(function(e){return!e.beforeVisible&&"\n    width: calc(100% - ".concat(Hn,"px);\n  ")}),(function(e){return e.beforeVisible&&"\n    left: ".concat(En,"px;\n    width: calc(100% - ").concat(En+Hn,"px);\n  ")}),(function(e){return e.headerOffset&&"\n    height: calc(100% - ".concat(e.headerOffset,"px);\n    top: ").concat(e.headerOffset,"px;\n  ")})),Bn=C.default.div.withConfig({displayName:"MultiColumnstyle__MainContentInnerStyle",componentId:"sc-n3qsrr-5"})(["height:100%;overflow:auto;"]),Un=C.default.aside.withConfig({displayName:"MultiColumnstyle__AsideStyle",componentId:"sc-n3qsrr-6"})(["right:0;position:fixed;width:","px;z-index:1;",""],Hn,(function(e){return e.headerOffset&&"\n    height: calc(100% - ".concat(e.headerOffset,"px);\n    top: ").concat(e.headerOffset,"px;\n  ")})),Wn=C.default.div.withConfig({displayName:"MultiColumnstyle__AsideInnerStyle",componentId:"sc-n3qsrr-7"})(["height:100%;overflow:auto;"]),Yn=C.default.div.withConfig({displayName:"MultiColumnstyle__AsidePopoutStyle",componentId:"sc-n3qsrr-8"})(["margin-top:","px;position:fixed;right:","px;width:","px;z-index:3;"],S.cd*S.iI,S.cd*S.iI,1.3*Hn),qn=t(24141);var Gn=function(e){var n,t,i=e.after,o=e.before,r=e.children,a=e.header,l=e.mainContentRef,c=e.onTabClick,s=e.selectedTab,d=e.tabs,h=((0,qn.i)().width,(0,u.useRef)(null)),m=((null===h||void 0===h||null===(n=h.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height;return(0,A.jsxs)(A.Fragment,{children:[o&&(0,A.jsx)(An,{children:(0,A.jsx)(zn,{children:o})}),(0,A.jsxs)(Rn,{beforeVisible:!!o,ref:h,children:[a,d&&(0,A.jsx)(V.Z,{px:S.cd,children:(0,A.jsx)(g.Z,{children:d.map((function(e,n){return(0,A.jsx)(O.Z,{block:!0,bold:s===e,noHoverUnderline:!0,noOutline:!0,onClick:function(){return c(e)},preventDefault:!0,children:(0,A.jsx)(Fn,{first:0===n,selected:s===e,children:e})},e)}))})})]}),(0,A.jsx)(Vn,{beforeVisible:!!o,headerOffset:m,ref:l,children:(0,A.jsx)(Bn,{children:r})}),(0,A.jsx)(Un,{headerOffset:m,children:(0,A.jsx)(Wn,{children:i})})]})},Xn=t(36770),Qn=t(16910),Jn=["beforeTitleElement","children","contentOverflowVisible","first","hideScrollbar","highlighted","last","maxHeight","noBackground","noPaddingContent","onClick","onEntered","onExited","title","titleXPadding","visible","visibleCount","visibleHighlightDisabled"];function Kn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function $n(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Kn(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var et=C.default.div.withConfig({displayName:"AccordionPanel__AccordionPanelStyle",componentId:"sc-sf242a-0"})([".accordion-panel-chevron-right-exit-done{transform:rotate(0deg);transition:all 200ms;}.accordion-panel-chevron-right-enter-active{transform:rotate(90deg);transition:all 200ms;}.accordion-panel-chevron-right-enter-done,.accordion-panel-chevron-right-enter-done-visible{transform:rotate(90deg);transition:all 300ms;}.accordion-panel-chevron-right-exit{transform:rotate(0deg);transition:all 300ms;}.accordion-panel-content-enter{display:block;max-height:0px;overflow:hidden;transition:max-height 400ms ease-in-out;}.accordion-panel-content-enter-active{","}.accordion-panel-content-enter-done{display:block;}.accordion-panel-content-exit{display:block;"," overflow:hidden;}.accordion-panel-content-exit-active{max-height:0px;transition:max-height 300ms cubic-bezier(0,1,0,1);}.accordion-panel-content-exit-done{display:none;}"],(function(e){return e.maxHeight&&"\n      max-height: ".concat(e.maxHeight,"px;\n    ")}),(function(e){return e.maxHeight&&"\n      max-height: ".concat(e.maxHeight,"px;\n    ")})),nt=C.default.a.withConfig({displayName:"AccordionPanel__TitleStyle",componentId:"sc-sf242a-1"})([""," display:block;position:relative;padding:","px ","px;z-index:1;"," "," "," "," "," "," ",""],O.R,2.5*S.iI,2*S.iI,(function(e){return!e.last&&e.visible&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.first&&"\n    border-top-left-radius: ".concat(I.n_,"px;\n    border-top-right-radius: ").concat(I.n_,"px;\n  ")}),(function(e){return e.last&&!e.visible&&"\n    border-bottom-left-radius: ".concat(I.n_,"px;\n    border-bottom-right-radius: ").concat(I.n_,"px;\n  ")}),(function(e){return"\n    &:hover,\n    &:focus {\n      outline: none;\n    }\n\n    ".concat((0,D.Kl)(e),"\n  ")}),(function(e){return"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||k.Z.interactive).hoverBackground,";\n    }\n\n    &:active {\n      background-color: ").concat((e.theme.interactive||k.Z.interactive).activeOverlay,";\n    }\n  ")}),(function(e){return!e.visible&&"\n    background-color: ".concat((e.theme.background||k.Z.background).header,";\n  ")}),(function(e){return e.titleXPadding&&"\n    padding-left: ".concat(e.titleXPadding,"px;\n    padding-right: ").concat(e.titleXPadding,"px;\n  ")})),tt=C.default.div.withConfig({displayName:"AccordionPanel__ContentStyle",componentId:"sc-sf242a-2"})(["padding-left:","px;padding-right:","px;"," "," "," "," "," ",""],2*S.iI,2*S.iI,(function(e){return e.hideScrollbar&&"\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  "}),(function(e){return!e.visible&&"\n    display: none;\n  "}),(function(e){return!e.contentOverflowVisible&&"\n    overflow-y: auto;\n  "}),(function(e){return e.contentOverflowVisible&&"\n    overflow-y: visible;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,"px;\n  ")}),(function(e){return e.noPaddingContent&&"\n    padding: 0;\n  "})),it=C.default.div.withConfig({displayName:"AccordionPanel__ContentInnerStyle",componentId:"sc-sf242a-3"})(["padding-bottom:","px;padding-top:","px;",""],2*S.iI,2*S.iI,(function(e){return e.noPaddingContent&&"\n    padding: 0;\n  "})),ot=function(e,n){var t=e.beforeTitleElement,i=e.children,o=e.contentOverflowVisible,r=e.first,a=e.hideScrollbar,l=e.highlighted,c=e.last,s=e.maxHeight,u=void 0===s?1e3:s,d=e.noBackground,h=e.noPaddingContent,m=e.onClick,p=e.onEntered,f=e.onExited,v=e.title,x=e.titleXPadding,b=e.visible,y=e.visibleCount,j=e.visibleHighlightDisabled,w=(0,W.Z)(e,Jn);return(0,A.jsxs)(et,$n($n({},w),{},{maxHeight:u,children:[(0,A.jsx)(nt,{first:r,href:"#",last:c,noHoverUnderline:!0,onClick:function(e){e.preventDefault(),m&&m(e)},onKeyPress:function(e){" "===e.key&&m&&m(e)},titleXPadding:x,visible:b&&!j,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[(0,A.jsx)(Qn.Z,{classNames:"accordion-panel-chevron-right",in:b,timeout:400,children:(0,A.jsx)(Z.Z,{className:b&&0===y&&"accordion-panel-chevron-right-enter-done-visible",children:(0,A.jsx)(P.ol,{default:!0})})}),(0,A.jsx)(V.Z,{ml:1,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[t,t&&(0,A.jsx)(V.Z,{ml:1}),(0,A.jsx)(_.ZP,{bold:!0,default:!b,wind:l,children:v})]})})]})}),(0,A.jsx)(Qn.Z,{classNames:"accordion-panel-content",in:b,onEntered:function(e){return p&&p(e)},onExited:function(e){return f&&f(e)},timeout:300,children:(0,A.jsx)(tt,{contentOverflowVisible:o,hideScrollbar:a,maxHeight:u,noBackground:d,noPaddingContent:h,visible:b,children:(0,A.jsx)(it,{noPaddingContent:h,ref:n,children:i})})})]}))},rt=u.forwardRef(ot),at=["activeItemIndex","children","onClick","showDividers","visibleMapping","visibleMappingForced"];function lt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ct(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?lt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var st=C.default.div.withConfig({displayName:"Accordion__AccordionStyle",componentId:"sc-1xr4nou-0"})(["border-radius:","px;overflow:hidden;border-width:1px;border-style:solid;"," ",""],I.n_,(function(e){return!e.highlighted&&"\n    border-color: ".concat((e.theme.interactive||k.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.highlighted&&"\n    border-color: ".concat((e.theme.brand||k.Z.brand).wind400,";\n  ")})),ut=C.default.div.withConfig({displayName:"Accordion__AccordionPanelContainerStyle",componentId:"sc-1xr4nou-1"})([""]),dt=rt,ht=function(e){var n=e.activeItemIndex,t=e.children,i=e.onClick,r=e.showDividers,a=e.visibleMapping,l=e.visibleMappingForced,c=(0,W.Z)(e,at),s=(0,u.useState)(a||{}),d=s[0],h=s[1],m=(0,u.useState)({}),p=m[0],f=m[1],v=ct(ct({},d),l);return(0,A.jsx)(st,ct(ct({},c),{},{children:u.Children.map(t,(function(e,a){var l=a===(t||[]).length-1,s=v[a];return(0,A.jsxs)("div",{children:[(0,A.jsx)(ut,{index:a,showDividers:r,children:u.cloneElement(e,ct(ct({},c),{},{first:0===a,last:l,onClick:function(){var e;f(ct(ct({},p),{},(0,o.Z)({},a,p[a]?p[a]+1:1))),e=ct(ct({},v),{},(0,o.Z)({},a,!s)),h(e),i&&i(e)},visible:s,visibleCount:p[a]||0,visibleHighlightDisabled:"undefined"!==typeof n&&a!==n}))}),r&&(0,A.jsx)(rn,{})]},a)}))}))},mt=C.default.a.withConfig({displayName:"CsvExport__HiddenLink",componentId:"sc-1jl4kjo-0"})(["visibility:hidden;"]);var pt=function(e){var n=e.csvData,t=e.filename,i=void 0===t?"export.csv":t,o=e.linkRef,r=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(r);return(0,A.jsx)(mt,{download:i,href:a,ref:o,target:"_self"})},ft=t(54283),vt=t(6753);function xt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function gt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var bt=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(47409),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}}),yt=2*S.iI,jt=function(e){var n=e.action,t=e.border,i=e.features,a=e.featureIdMapping,l=e.idx,c=e.isLoading,s=e.link,d=e.onClose,m=e.saveAction,p=e.setSuggestionPreviewIdx,f=e.showIdx,v=e.suggestionPreviewIdx,x=(0,u.useContext)(C.ThemeContext),b=(0,u.useMemo)((function(){return i.map((function(e){return e.uuid}))}),[i]),y=n.action_payload,j=n.message,w=n.preview_results,k=n.status,I=n.title,D=y.action_arguments,M=y.action_code,T=y.action_options,N=y.action_type,L=(null===w||void 0===w?void 0:w.removed_row_indices)||[];(0,u.useEffect)((function(){return G(y)}),[y]);var E=(null===D||void 0===D?void 0:D.length)||0,H=T?Object.keys(T).length:0,R=(0,u.useState)(!1),F=R[0],z=R[1],B=(0,u.useState)(!1),U=B[0],W=B[1],Y=(0,u.useState)(y),q=Y[0],G=Y[1],X=U?D:null===D||void 0===D?void 0:D.slice(0,5),Q=null===X||void 0===X?void 0:X.map((function(e){return(0,A.jsx)("span",{children:e in a?(0,A.jsx)(O.Z,{noOutline:!0,onClick:function(){return(0,je.u)({column:b.indexOf(e)},{pushHistory:!0})},preventDefault:!0,secondary:!0,children:(0,A.jsx)(_.ZP,{maxWidth:30*S.iI,monospace:!0,secondary:!0,title:e,children:e})}):(0,A.jsx)(_.ZP,{color:x.monotone.grey400,maxWidth:30*S.iI,monospace:!0,title:e,children:e})},e)}));return(0,A.jsxs)(Ae.Z,{border:t,flexStart:!0,children:[s&&(0,A.jsxs)(V.Z,{mr:2,children:[c&&(0,A.jsx)(ft.Z,{small:!0}),!c&&!F&&(0,A.jsx)(O.Z,{bold:!0,noHoverUnderline:!0,onClick:s,preventDefault:!0,children:"Apply"})]}),f&&(0,A.jsx)(V.Z,{mr:2,children:(0,A.jsx)(_.ZP,{children:l+1})}),(0,A.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[(0,A.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,A.jsxs)(_.ZP,{bold:!0,inline:!0,children:[I,E>0&&": "]}),(0,A.jsxs)(Z.Z,{children:[N===Je.Q0.FILTER&&k!==Je.rD.COMPLETED&&L.length>0&&(0,A.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){v===l?p(null):(p(l),(0,je.u)((0,o.Z)({},vt.yg,vt.jh),{pushHistory:!0}))},title:"Preview",children:(0,A.jsx)(P.Db,{highlight:l===v,muted:!0,size:yt})}),(0,A.jsx)(V.Z,{pr:1}),m&&(0,A.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return z(!F)},title:"Edit",children:(0,A.jsx)(P.I8,{black:F,muted:!0,size:yt})})]})]}),Q,E>5&&(0,A.jsx)(O.Z,{noOutline:!0,onClick:function(){return W(!U)},secondary:!0,children:(0,A.jsx)(_.ZP,{bold:!0,secondary:!0,children:U?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(P.a2,{secondary:!0,size:10}),"\xa0 Show less"]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(P.K5,{secondary:!0,size:10}),"\xa0",E-5," more"]})})}),j&&(0,A.jsx)(_.ZP,{muted:!0,small:!0,children:j}),!j&&T&&(0,A.jsx)(g.Z,{children:Object.entries(T).map((function(e,n){var t=(0,r.Z)(e,2),i=t[0],o=t[1];return(0,A.jsxs)(_.ZP,{inline:!0,muted:!0,small:!0,children:[(0,A.jsx)(_.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:i}),": ",o,H>=2&&n!==H-1&&(0,A.jsx)(A.Fragment,{children:",\xa0"})]},i)}))}),M&&!F&&(0,A.jsx)(bt,{maxLines:25,mode:"python",setOptions:bn,style:{backgroundColor:x.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,overflow:"auto",width:"inherit"},value:M,wrapEnabled:!0}),F&&(0,A.jsx)(On,{actionType:N,axis:null===q||void 0===q?void 0:q.axis,features:i,noBorder:!0,noHeader:!0,onSave:function(e){return m({action_payload:gt(gt({},q),e)})},payload:q,setPayload:G})]}),d&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(V.Z,{mr:1}),c&&(0,A.jsx)(ft.Z,{small:!0}),!c&&(0,A.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,A.jsx)(P.x8,{muted:!0})})]})]})},wt=t(54626),Zt=t(96510);var Ot=function(e){var n,t,i=e.addAction,o=e.featureSet,a=e.isLoading,l=e.removeAction,c=e.setSuggestionPreviewIdx,s=e.suggestionPreviewIdx,d=e.suggestions,m=(0,u.useRef)(null),p=(0,u.useState)(!1),f=p[0],v=p[1],x=(0,u.useState)(null),g=x[0],b=x[1],y=o||{},j=y.insights,w=y.metadata,Z=(y.pipeline||{}).actions,O=(null===j||void 0===j||null===(n=j[0])||void 0===n?void 0:n.map((function(e){return e.feature})))||[],_=(0,u.useMemo)((function(){return Array.isArray(Z)?null===Z||void 0===Z?void 0:Z.length:0}),[Z]),P=(0,u.useMemo)((function(){return(0,Be.vI)(o)}),[o]),C=Array.isArray(Z)&&(null===Z||void 0===Z?void 0:Z.length)>=1,k=(0,Ge.Db)(wt.ZP.downloads.feature_sets.useCreate(null===o||void 0===o?void 0:o.id),{onSuccess:function(e){e.error?function(e){var n=(0,Zt.nU)(e),t=n.code,i=n.messages;alert((null===i||void 0===i?void 0:i[0])||t)}(e):e.data?(b(e.data),v(!0)):alert("CSV download failed, please try again.")}}),I=(0,r.Z)(k,2),D=I[0],M=I[1].isLoading;(0,u.useEffect)((function(){null!==m&&void 0!==m&&m.current&&f&&(m.current.click(),v(!1))}),[f,v]);var T=(null===w||void 0===w||null===(t=w.name)||void 0===t?void 0:t.replace(/ /g,"_"))||"cleaned_dataset";return(0,A.jsxs)(A.Fragment,{children:[C&&(0,A.jsx)(V.Z,{mb:2,children:null===Z||void 0===Z?void 0:Z.map((function(e,n){var t=e.title,i=e.message;return(0,A.jsx)(V.Z,{mt:n>=1?1:0,children:(0,A.jsx)(jt,{action:e,border:!0,featureIdMapping:P,features:O,idx:n,isLoading:a,onClose:_-1===n?function(){return l(e)}:null,showIdx:!0})},"".concat(n,"-").concat(i,"-").concat(t))}))}),(0,A.jsxs)(V.Z,{mb:S.cd,children:[g&&(0,A.jsx)(pt,{csvData:g,filename:"".concat(T,".csv"),linkRef:m}),(0,A.jsx)(h.Z,{loading:a||M,onClick:function(){return D()},children:"Download dataset"})]}),(null===d||void 0===d?void 0:d.length)>=1&&(0,A.jsx)(ht,{highlighted:!0,visibleMapping:{0:!0},children:(0,A.jsx)(dt,{maxHeight:99999,noBackground:!0,noPaddingContent:!0,title:"".concat(d.length," suggested actions"),children:d.map((function(e,n){return(0,A.jsx)(jt,{action:e,featureIdMapping:P,features:O,idx:n,isLoading:a,link:function(){return i(e)},saveAction:i,setSuggestionPreviewIdx:c,suggestionPreviewIdx:s},"".concat(n,"-").concat(e.title))}))})})]})},_t=t(32151);function Pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Ct(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var kt=function(e){var n,t,i,a=e.children,l=e.columnsVisible,c=e.featureSet,s=e.fetchFeatureSet,d=e.fetchFeatureSetOriginal,m=e.hideColumnsHeader,p=e.mainContentRef,f=e.onTabClick,v=e.refLoadingBar,x=e.selectedColumnIndex,b=e.selectedTab,y=e.setErrorMessages,j=e.setSuggestionPreviewIdx,w=e.suggestionPreviewIdx,C=e.tabs,k=(0,u.useState)(!1),I=k[0],D=k[1],M=(0,u.useState)(!1),T=M[0],N=M[1],L=(0,u.useRef)(null),E=c||{},H=E.id,R=E.metadata,F=E.pipeline,z=E.suggestions,B=((null===c||void 0===c?void 0:c.sample_data)||{}).columns,U=null===B||void 0===B?void 0:B[Number(x)],W=Array.isArray(null===F||void 0===F?void 0:F.actions)?null===F||void 0===F?void 0:F.actions:[],q=(0,u.useMemo)((function(){return U?(0,_t.Mh)(z,U):z}),[U,z]),G=(R||{}).column_types,X=Object.entries((null===c||void 0===c||null===(n=c.metadata)||void 0===n?void 0:n.column_types)||{}).map((function(e){var n=(0,r.Z)(e,2),t=n[0];return{columnType:n[1],uuid:t}})).map((function(e){return{column_type:e.columnType,uuid:e.uuid}})),Q=(0,u.useState)(null),J=Q[0],K=Q[1],$=null===J||void 0===J?void 0:J.action_type;(0,u.useEffect)((function(){K(null)}),[x,K]);var ee=(0,Ge.Db)(wt.ZP.pipelines.useUpdate(null===F||void 0===F?void 0:F.id),{onSuccess:function(e){return(0,Zt.wD)(e,{callback:function(e){var n,t;return ae(),null===v||void 0===v||null===(n=v.current)||void 0===n||null===(t=n.complete)||void 0===t||t.call(n),(0,gn.RA)({actionType:Je.Q0.CUSTOM,featureSetId:String(H),newValue:null}),d(),s(Ct(Ct({},c),{},{pipeline:e}))},onErrorCallback:function(e){var n,t,i=e.error,o=i.errors,r=i.message;null===v||void 0===v||null===(n=v.current)||void 0===n||null===(t=n.complete)||void 0===t||t.call(n);var a=[];r&&a.push.apply(a,(0,Y.Z)(r.split("\n"))),o&&a.push.apply(a,(0,Y.Z)(o)),a.length>=1&&(null===y||void 0===y||y(a))}})}}),ne=(0,r.Z)(ee,2),te=ne[0],ie=ne[1].isLoading,oe=function(){var e,n;null===y||void 0===y||y(null),null===v||void 0===v||null===(e=v.current)||void 0===e||null===(n=e.continuousStart)||void 0===n||n.call(e)},re=function(e){oe();var n,t=(0,Y.Z)(W);U?t.push(Ct(Ct({},e),{},{action_payload:Ct(Ct({},e.action_payload),{},{action_arguments:[U],action_variables:(0,o.Z)({},U,(n={},(0,o.Z)(n,Je.X0.FEATURE,{column_type:G[U],uuid:U}),(0,o.Z)(n,"type",Je.X0.FEATURE),n))})})):t.push(e);j(null),te(Ct(Ct({},F),{},{actions:t}))},ae=function(){return K({})},le=function(e){return(0,je.u)({column:null===e?null:B.indexOf(e)},{pushHistory:!0})},ce=(null===L||void 0===L||null===(t=L.current)||void 0===t||null===(i=t.getBoundingClientRect)||void 0===i?void 0:i.call(t))||{},se=ce.left,ue=ce.top,de=se-(l?En:0),he=ue+28;return(0,A.jsx)(Gn,{after:(0,A.jsx)(V.Z,{p:S.cd,children:c&&(0,A.jsx)(Ot,{addAction:re,featureSet:c,isLoading:ie,removeAction:function(e){oe(),j(null);var n=W.findIndex((function(n){return n.id===e.id}));te(Ct(Ct({},F),{},{actions:(0,ye.oM)(W,n)}))},removeSuggestion:function(e){return console.log(e)},setSuggestionPreviewIdx:j,suggestionPreviewIdx:w,suggestions:q})}),before:l&&(0,A.jsx)(V.Z,{mt:S.cd,children:(0,A.jsx)(Ln,{columns:B,featureSet:c,onClickColumn:le,selectedColumn:U})}),header:(0,A.jsxs)(V.Z,{p:S.cd,children:[(0,A.jsx)(V.Z,{mb:2,children:(0,A.jsxs)(g.Z,{justifyContent:m?"flex-end":"space-between",children:[!m&&(0,A.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return(0,je.u)({show_columns:l?0:1})},preventDefault:!0,children:(0,A.jsxs)(g.Z,{alignItems:"center",children:[(0,A.jsx)(P.sg,{primary:!l,size:2*S.iI}),(0,A.jsx)(V.Z,{mr:1}),(0,A.jsx)(_.ZP,{bold:!0,primary:!l,children:l?"Hide columns":"Show columns"})]})}),(0,A.jsxs)(g.Z,{alignItems:"center",children:[(0,A.jsxs)(O.Z,{block:!0,href:"https://www.mage.ai/chat",openNewWindow:!0,verticalAlignContent:!0,children:[(0,A.jsx)(P.en,{primary:!0,size:2*S.iI}),"\xa0 Help and support"]}),(0,A.jsx)(V.Z,{mr:3}),(0,A.jsx)(qe(),{as:"/datasets/".concat(null===c||void 0===c?void 0:c.id,"/export"),href:"/datasets/[...slug]",passHref:!0,children:(0,A.jsxs)(O.Z,{block:!0,verticalAlignContent:!0,children:[(0,A.jsx)(P.II,{primary:!0,size:2*S.iI}),"\xa0 Export data pipeline"]})})]})]})}),(0,A.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,A.jsx)(Xn.Z,{featureSet:c,ref:L,setColumnListMenuVisible:N}),(0,A.jsx)(Tn,{columns:B,featureSet:c,left:de,onClickColumn:le,setVisible:N,top:he,visible:T}),(0,A.jsxs)(Z.Z,{children:[(0,A.jsx)(h.Z,{fullWidth:!0,onClick:function(){return D(!0)},primary:!0,children:"New action"}),(0,A.jsx)(Dn,{columnOnly:!!U,setActionPayload:K,setVisible:D,visible:I}),(0,A.jsx)(Yn,{children:$&&(0,A.jsx)(On,{actionType:$,axis:null===J||void 0===J?void 0:J.axis,currentFeature:U?{columnType:G[U],uuid:U}:null,featureSetId:String(H),features:U?null:X,onClose:ae,onSave:function(e){var n,t=null===(n=(null===J||void 0===J?void 0:J.axis)===Je.qs.ROW?mn.rows:mn.columns)||void 0===n?void 0:n[$],i=null===t||void 0===t?void 0:t.title;re({action_payload:Ct(Ct(Ct({},J),e),{},{action_type:$}),title:i})},payload:J,setPayload:K,shadow:!0})})]})]})]}),mainContentRef:p,onTabClick:f,selectedTab:b,tabs:C,children:(0,A.jsx)(V.Z,{p:S.cd,children:a})})},It=t(62976),St=t(19537),Dt=t(66166),Mt=t(59e3);var Tt,Nt,Lt,Et,Ht,Rt,Ft,At,zt=function(e){var n,t,i,r,a,l=e.featureSet,c=e.fetchFeatureSet,s=e.selectedColumnIndex,m=(0,u.useRef)(null),p=(0,u.useRef)(null),f=wt.ZP.versions.feature_sets.detail(null===l||void 0===l?void 0:l.id,"0"),v=f.data,b=f.mutate,y=v?(0,Be.Ln)(v):{},j=(0,u.useState)(null),w=j[0],O=j[1],C=(0,qn.i)().width,I=(0,Dt.Z)(C),D=(0,u.useState)(null),M=D[0],T=D[1],N=(0,Mt.iV)(),L=N.show_columns,E=N[vt.yg],H=E?Array.isArray(E)?E:[E]:[],R=(0,u.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,je.u)((0,o.Z)({},vt.yg,e),{pushHistory:n})}),[H]);(0,u.useEffect)((function(){0===H.length&&R(vt.mW,!1)}),[R,H]),(0,u.useEffect)((function(){"undefined"===typeof L&&C>=Ie.kY&&(0,je.u)({show_columns:1})}),[L,C]);var F=l||{},z=F.insights,B=F.metadata,U=F.statistics,W=void 0===U?{}:U,Y=F.suggestions,q=void 0===Y?[]:Y,G=(B||{}).column_types,X=y||{},Q=X.metadata,J=X.statistics,K=null===Q||void 0===Q?void 0:Q.column_types,$=(0,_t.v0)({latestStatistics:W,versionStatistics:J}),ee=(null===l||void 0===l?void 0:l.sample_data)||{},ne=ee.columns,te=ee.rows,ie=null===ne||void 0===ne?void 0:ne[Number(s)],oe=(0,u.useMemo)((function(){return ie?[ie]:ne}),[ne,ie]),re=null===ne||void 0===ne?void 0:ne.indexOf(ie),ae=(0,u.useMemo)((function(){return ie?null===te||void 0===te?void 0:te.map((function(e){return[e[re]]})):te}),[ie,re,te]),le=null===ne||void 0===ne?void 0:ne.map((function(e){return{columnType:G[e],uuid:e}})),ce=W&&G?(0,_t.CL)({latestColumnTypes:G,latestStatistics:W,versionColumnTypes:K,versionStatistics:J}):null,se=(0,u.useMemo)((function(){return(0,ye.HK)((null===z||void 0===z?void 0:z[0])||[],(function(e){return e.feature.uuid}))}),[z]),de=1===Number(L),he=(0,Dt.Z)(de),me=null===le||void 0===le||null===(n=le.find((function(e){return e.uuid===ie})))||void 0===n?void 0:n.columnType,pe=ie&&me!==x.RL.DATETIME?se[ie]:(null===z||void 0===z?void 0:z[1])||{},fe=(null===p||void 0===p||null===(t=p.current)||void 0===t||null===(i=t.getBoundingClientRect)||void 0===i?void 0:i.call(t))||{},ve=fe.height,xe=fe.width,ge=S.cd*S.iI*2+2,be=0;ve&&(be=ve-(ge+2));var we=(0,u.useMemo)((function(){var e=0;return xe&&(e=xe-ge,!he&&de?e-=En:he&&!de&&(e+=En)),e}),[de,he,xe,ge,C===I]),Ze=(0,u.useCallback)((0,_t.Fk)({columnTypes:G,columns:oe,insightsByFeatureUUID:se,insightsOverview:pe,statistics:W}),[G,oe,se,pe,W]),Oe=(0,Be.Tx)(l,ie).count,_e=ie?(0,_t.Mh)(q,ie):q,Pe=null===_e||void 0===_e||null===(r=_e[w])||void 0===r||null===(a=r.preview_results)||void 0===a?void 0:a.removed_row_indices,ke=W?(0,Be.eS)(l,ne):null,De=Ie.bC[me]||Ie.bC.default,Me=null===W||void 0===W?void 0:W["".concat(ie,"/").concat(De)];return(0,A.jsxs)(kt,{columnsVisible:de,featureSet:l,fetchFeatureSet:c,fetchFeatureSetOriginal:b,hideColumnsHeader:C<Ie.kY,mainContentRef:p,onTabClick:function(e){return R(e)},refLoadingBar:m,selectedColumnIndex:s,selectedTab:null===H||void 0===H?void 0:H[0],setErrorMessages:T,setSuggestionPreviewIdx:O,suggestionPreviewIdx:w,tabs:vt.Ek,children:[(0,A.jsx)(d.Z,{className:"loading-bar",color:k.Z.brand.fire500,containerStyle:{position:"relative"},ref:m,shadow:!1}),(null===M||void 0===M?void 0:M.length)>=1&&(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,A.jsx)(_.ZP,{bold:!0,children:"Errors"}),(0,A.jsx)(h.Z,{basic:!0,iconOnly:!0,onClick:function(){return T(null)},padding:"0px",transparent:!0,children:(0,A.jsx)(P.x8,{muted:!0})})]}),null===M||void 0===M?void 0:M.map((function(e){return(0,A.jsx)(_.ZP,{monospace:!0,xsmall:!0,children:e},e)}))]}),(null===H||void 0===H?void 0:H.includes(vt.mW))&&(0,A.jsxs)(A.Fragment,{children:[ie&&(0,A.jsx)(We,{column:ie,featureSet:l}),!ie&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(g.Z,{justifyContent:"center",responsive:!0,children:[(0,A.jsx)(Z.Z,{flex:1,flexDirection:"column",children:$&&(0,A.jsx)(V.Z,{mb:S.cd,children:(0,A.jsx)(Ve.Z,{stats:$,title:"Quality metrics"})})}),(0,A.jsx)(V.Z,{ml:S.cd}),(0,A.jsx)(Z.Z,{flex:1,flexDirection:"column",children:ce&&(0,A.jsx)(Ve.Z,{stats:ce,title:"Statistics"})})]}),(0,A.jsx)(V.Z,{mt:S.cd,children:(0,A.jsx)(St.Z,{features:le,shouldLink:!0,statistics:W})})]})]}),(null===H||void 0===H?void 0:H.includes(vt.oE))&&(0,A.jsxs)(A.Fragment,{children:[ie&&Oe>0&&(0,A.jsx)(Se,{column:ie,features:le,insights:pe,statisticsByColumn:Me,statisticsOverview:W}),ie&&0===Oe&&(0,A.jsx)(_.ZP,{bold:!0,large:!0,children:"There are no visualizations available because the column has no data"}),!ie&&(0,A.jsx)(Ce,{features:le,insightsOverview:pe,statistics:W})]}),(null===H||void 0===H?void 0:H.includes(vt.jh))&&(null===oe||void 0===oe?void 0:oe.length)>=1&&(0,A.jsx)(It.Z,{columnHeaderHeight:ie?null:_t.O$+3*S.iI+ue.dN,columns:oe,height:be,invalidValues:ke,previewIndexes:{removedRows:Pe},renderColumnHeader:ie?null:Ze,rows:ae,width:we})]})},Vt=t(26653),Bt=t(33591),Ut=["children","condensed","inline","level","marketing","spacingBelow"];function Wt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Yt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wt(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qt=(0,C.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," ",""],_.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(le.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(le.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(le.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(le.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(le.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(le.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(le.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(le.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(le.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),Gt=C.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||k.Z.content).active,";\n  ")})),Xt=C.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],qt,Bt.media.md(Tt||(Tt=(0,Vt.Z)(["\n    ","\n  "])),ue.aQ),Bt.media.lg(Nt||(Nt=(0,Vt.Z)(["\n    ","\n  "])),ue.aQ),Bt.media.xl(Lt||(Lt=(0,Vt.Z)(["\n    ","\n  "])),ue.aQ)),Qt=C.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],qt,ue.MJ),Jt=C.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],qt,Bt.media.xs(Et||(Et=(0,Vt.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*S.iI,7*S.iI),Bt.media.sm(Ht||(Ht=(0,Vt.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*S.iI,7*S.iI),Bt.media.md(Rt||(Rt=(0,Vt.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*S.iI,7*S.iI),Bt.media.lg(Ft||(Ft=(0,Vt.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*S.iI,7*S.iI),Bt.media.xl(At||(At=(0,Vt.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*S.iI,7*S.iI)),Kt=C.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],qt,ue.BL),$t=C.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],qt),ei=C.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],qt),ni=C.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],qt),ti=C.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],qt,(function(e){return 1===e.level&&"\n    ".concat(ue.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(ue.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),ii=function(e){var n,t=e.children,i=e.condensed,o=e.inline,r=e.level,a=e.marketing,l=e.spacingBelow,c=(0,W.Z)(e,Ut);o?n=ti:0===Number(r)?n=Xt:1===Number(r)?n=a?Jt:Qt:2===Number(r)?n=Kt:3===Number(r)?n=$t:4===Number(r)?n=ei:5===Number(r)&&(n=ni);var s=(0,A.jsxs)(n,Yt(Yt({},c),{},{level:r,children:[l&&(0,A.jsx)(V.Z,{mb:i?2:3,children:t}),!l&&t]}));return o?s:(0,A.jsx)(Gt,{children:s})};ii.defaultProps={level:3,weightStyle:6};var oi=ii,ri=["children","condensed","minHeight"];function ai(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function li(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ai(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ai(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ci=C.default.div.withConfig({displayName:"PanelRoot__PanelRootStyle",componentId:"sc-1hc6ren-0"})(["border-radius:","px;border-style:solid;border-width:1px;"," "," "," "," "," "," "," "," "," "," ",""],I.n_,(function(e){return"\n    background-color: ".concat((e.theme.monotone||k.Z.monotone).white,";\n  ")}),(function(e){return e.borderColor&&"\n    border-color: ".concat(e.borderColor,";\n  ")}),(function(e){return!e.borderColor&&"\n    border-color: ".concat((e.theme.monotone||k.Z.monotone).grey200,";\n  ")}),(function(e){return e.minHeight&&"\n    min-height: ".concat(e.minHeight,"px;\n  ")}),(function(e){return e.section&&"\n    background-color: ".concat((e.theme.background||k.Z.background).section,";\n  ")}),(function(e){return e.transparent&&"\n    background-color: transparent;\n  "}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.shadow&&"\n    ".concat((e.theme.elevation||k.Z.elevation).shadowLarge,";\n  ")}),(function(e){return e.shadowLarge&&"\n    ".concat((e.theme.elevation||k.Z.elevation).float,";\n  ")}),(function(e){return e.shadowLight&&"\n    ".concat((e.theme.elevation||k.Z.elevation).shadowSmall,";\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}));var si=function(e){var n=e.children,t=e.condensed,i=void 0!==t&&t,o=e.minHeight,r=(0,W.Z)(e,ri);return(0,A.jsx)(ci,li(li({minHeight:o},r),{},{children:(0,A.jsx)(V.Z,{p:i?2:3,pb:i&&o&&1,children:n})}))},ui=["children","condensed","containedWidth","fullWidth","minHeight"];function di(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function hi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?di(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):di(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var mi=C.default.div.withConfig({displayName:"PanelOld__ContainedWidthStyle",componentId:"sc-smaheg-0"})(["width:100%;"]),pi=C.default.div.withConfig({displayName:"PanelOld__FullWidthStyle",componentId:"sc-smaheg-1"})(["width:","px;"],62*S.iI);function fi(e,n){var t=e.children,i=e.condensed,o=void 0!==i&&i,r=e.containedWidth,a=void 0!==r&&r,l=e.fullWidth,c=void 0===l||l,s=e.minHeight,u=(0,W.Z)(e,ui),d=(0,A.jsx)(si,hi(hi({},u),{},{condensed:o,minHeight:s,children:t}));return a?(0,A.jsx)(mi,{ref:n,children:d}):(0,A.jsxs)(Bt.Row,{ref:n,children:[(0,A.jsx)(Bt.Col,{xs:12,hiddenMdUp:c,children:(0,A.jsx)(mi,{children:d})}),c&&(0,A.jsx)(Bt.Col,{xs:12,hiddenMdDown:!0,children:(0,A.jsx)(pi,{children:d})})]})}var vi=u.forwardRef(fi),xi=["featureSet"];function gi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function bi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?gi(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var yi=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(47409),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}}),ji=C.default.img.withConfig({displayName:"Export__ImageStyle",componentId:"sc-1wbgaj4-0"})(["margin-top:","px;max-width:900px;object-fit:contain;width:100%;"],S.tr);var wi=function(e){return"import mage_ai\nimport pandas as pd\n\n# Clean a dataset with a pipeline saved in the cloud\ndf = pd.read_csv('/datasets/training_data.csv') # Load data\nmage_ai.clean(df, remote_pipeline_uuid=".concat(e||"pipeline id",", api_key=<your api key>)")};var Zi=function(e){var n,t,i=e.featureSet,o=(0,W.Z)(e,xi),r=(0,u.useContext)(C.ThemeContext),a=i||{},l=a.metadata,c=a.pipeline,s=(c||{}).metadata,d=(wt.ZP.status.list().data||{}).api_key_provided;return(0,A.jsxs)(kt,bi(bi({},o),{},{featureSet:i,hideColumnsHeader:!0,children:[(0,A.jsx)(V.Z,{mb:5,children:(0,A.jsxs)(oi,{level:2,children:["Export data pipeline for ",(0,A.jsx)(oi,{bold:!0,inline:!0,level:3,monospace:!0,children:null===l||void 0===l?void 0:l.name})]})}),(0,A.jsxs)(vi,{containedWidth:!0,fullWidth:!0,children:[(0,A.jsx)(oi,{level:3,children:"Method 1: using the pipeline in the same environment as the tool"}),(0,A.jsx)(V.Z,{my:3,children:(0,A.jsx)(rn,{})}),(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsxs)(oi,{level:4,children:["Call the ",(0,A.jsx)(oi,{bold:!0,inline:!0,level:4,monospace:!0,children:"clean"})," method"]})}),(0,A.jsx)(_.ZP,{children:"Load your data as a Pandas dataframe, then invoke the cleaning method by passing in the dataframe variable as the 1st argument and referencing the pipeline\u2019s UUID as a keyword argument."}),(0,A.jsx)(V.Z,{mt:1}),(0,A.jsxs)(_.ZP,{children:["The current pipeline UUID is ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:null===c||void 0===c?void 0:c.id}),"."]}),(0,A.jsx)(V.Z,{mt:1}),(0,A.jsxs)(_.ZP,{children:["The return value of the ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," method is a Pandas dataframe that has been cleaned using all the actions in your data pipeline."]}),(0,A.jsx)(V.Z,{mt:2,children:(0,A.jsx)(yi,{maxLines:6,minLines:6,mode:"python",readOnly:!0,setOptions:bn,style:{backgroundColor:r.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(t=null===c||void 0===c?void 0:c.id,"import mage_ai\nimport pandas as pd\n\n\ndf = pd.read_csv('/datasets/training_data.csv') # Load the data\nmage_ai.clean(df, pipeline_uuid=".concat(t,")"))})})]})]}),(0,A.jsx)(V.Z,{mb:5}),(0,A.jsxs)(vi,{containedWidth:!0,fullWidth:!0,children:[(0,A.jsx)(oi,{level:3,children:"Method 2: local JSON file"}),(0,A.jsx)(V.Z,{my:3,children:(0,A.jsx)(rn,{})}),(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsx)(oi,{level:4,children:"Download the pipeline JSON file"})}),(0,A.jsxs)(_.ZP,{children:["The ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai"})," Python library will read from a local JSON file that has been created through this tool.",(0,A.jsx)(V.Z,{mb:1}),(0,A.jsxs)(g.Z,{alignItems:"center",children:[(0,A.jsx)(h.Z,{onClick:function(){var e;!function(e,n,t){var i=document.createElement("a"),o=new Blob([e],{type:t});i.href=URL.createObjectURL(o),i.download=n,i.click()}(JSON.stringify(null===i||void 0===i||null===(e=i.pipeline)||void 0===e?void 0:e.actions),"".concat(null===l||void 0===l?void 0:l.name,".json"),"text/plain")},primary:!0,children:"Click here to download"}),"\xa0",(0,A.jsx)(_.ZP,{children:"the file to your local machine."})]})]})]}),(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsx)(oi,{level:4,children:"Upload the pipeline JSON file to your runtime environment"})}),(0,A.jsx)(_.ZP,{children:"Whichever environment you want to use this data pipeline, upload the JSON file you just downloaded to the machine that will be invoking your data pipeline."}),(0,A.jsx)(V.Z,{mb:2}),(0,A.jsx)(_.ZP,{children:"For example, if you want to invoke your data pipeline on a server running in the cloud (e.g. AWS, GCP, Azure, etc.), then upload the JSON file to that server so that it can be referenced in the next step."})]}),(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsxs)(oi,{level:4,children:["Call the ",(0,A.jsx)(oi,{bold:!0,inline:!0,level:4,monospace:!0,children:"clean"})," method"]})}),(0,A.jsx)(_.ZP,{children:"Load your data as a Pandas dataframe, then invoke the cleaning method by passing in the dataframe variable as the 1st argument and referencing the JSON file path as a keyword argument."}),(0,A.jsx)(V.Z,{mt:1}),(0,A.jsxs)(_.ZP,{children:["The return value of the ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," method is a Pandas dataframe that has been cleaned using all the actions in your data pipeline."]}),(0,A.jsx)(V.Z,{mt:2,children:(0,A.jsx)(yi,{maxLines:8,minLines:8,mode:"python",readOnly:!0,setOptions:bn,style:{backgroundColor:r.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:"import mage_ai\nimport pandas as pd\n\n\ndf = pd.read_csv('/datasets/training_data.csv') # Load the data\n\n# The path to the JSON file can be absolute or relative\nmage_ai.clean(df, pipeline_path='/path_to_json_file.json')"})})]})]}),(0,A.jsx)(V.Z,{mb:5}),(0,A.jsxs)(vi,{containedWidth:!0,fullWidth:!0,children:[(0,A.jsx)(oi,{level:3,children:"Method 3: API key"}),(0,A.jsx)(V.Z,{my:3,children:(0,A.jsx)(rn,{})}),d?(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsx)(oi,{level:4,children:"Use the mage_ai module with your API key"})}),(0,A.jsx)(V.Z,{mb:2,children:(0,A.jsx)(_.ZP,{children:"It looks like you already have an API key connected. All your local pipelines should have been synced with the cloud database. You can now use these pipelines"})}),(0,A.jsx)(V.Z,{mb:2,children:(0,A.jsxs)(_.ZP,{children:["If you or a collaborator has already synced a pipeline to the cloud, you can simply call the ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," function with the dataset and the ",(0,A.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_id"}),". The pipeline needs to have been synced with the same API key in order for you to use it."]})}),null!==s&&void 0!==s&&s.remote_id?(0,A.jsxs)(_.ZP,{children:["The ",(0,A.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_uuid"})," for this pipeline is ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,children:s.remote_id}),"."]}):(0,A.jsx)(_.ZP,{children:"This pipeline has not been synced with the cloud database yet. Refer to the code example below to see how to sync your pipelines."}),(0,A.jsx)(V.Z,{mt:2,children:(0,A.jsx)(yi,{maxLines:6,minLines:5,mode:"python",readOnly:!0,setOptions:bn,style:{backgroundColor:r.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(null===s||void 0===s||s.remote_id,"import mage_ai\nimport pandas as pd\n\n# Sync your local datasets and pipelines with the cloud database\nmage_ai.remote_sync()")})}),(0,A.jsx)(V.Z,{mt:2,children:(0,A.jsx)(yi,{maxLines:7,minLines:6,mode:"python",readOnly:!0,setOptions:bn,style:{backgroundColor:r.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(n=null===s||void 0===s?void 0:s.remote_id,"import mage_ai\nimport pandas as pd\n\n# Clean a dataset with a pipeline saved in the cloud\ndf = pd.read_csv('/datasets/training_data.csv') # Load data\nmage_ai.clean(df, remote_pipeline_uuid=".concat(n||"pipeline id",")"))})})]}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsx)(oi,{level:4,children:"Create your Mage account and get your workspace's API key"})}),(0,A.jsxs)(_.ZP,{children:["In order to use the API key method, you need to have a Mage account. You can click ",(0,A.jsx)(O.Z,{href:"https://www.mage.ai/sign-up",children:"here"})," to create an account. When you create your account, a workspace will be created for you. You can either use that workspace, or create a new workspace for your organization. Once you've selected the workspace, copy the API key from the ",(0,A.jsx)(O.Z,{href:"https://www.mage.ai/dashboard",children:"dashboard"})," page."]}),(0,A.jsx)(ji,{src:"/images/dashboard-api-key.webp",height:400})]}),(0,A.jsxs)(V.Z,{mb:5,children:[(0,A.jsx)(V.Z,{mb:1,children:(0,A.jsx)(oi,{level:4,children:"Use the mage_ai module with the API key"})}),(0,A.jsx)(V.Z,{mb:2,children:(0,A.jsxs)(_.ZP,{children:["Once you've copied the API key from the Mage dashboard, run the ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.remote_sync"})," command with the specified API key. This will sync your local files with the cloud database."]})}),(0,A.jsx)(V.Z,{mb:2,children:(0,A.jsxs)(_.ZP,{children:["If you or a collaborator has already synced a pipeline to the cloud, you can simply call the ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," function with the dataset and the ",(0,A.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_id"}),". The pipeline needs to have been synced with the same API key in order for you to use it."]})}),null!==s&&void 0!==s&&s.remote_id?(0,A.jsxs)(_.ZP,{children:["The ",(0,A.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_uuid"})," for this pipeline is ",(0,A.jsx)(_.ZP,{bold:!0,inline:!0,children:s.remote_id}),"."]}):(0,A.jsx)(_.ZP,{children:"This pipeline has not been synced with the cloud database yet. Refer to the code example below to see how to sync your pipelines."}),(0,A.jsx)(V.Z,{mt:2,children:(0,A.jsx)(yi,{maxLines:4,minLines:5,mode:"python",readOnly:!0,setOptions:bn,style:{backgroundColor:r.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(null===s||void 0===s||s.remote_id,"import mage_ai\n\n# Sync your local datasets and pipelines with the cloud database\nmage_ai.remote_sync(api_key=<your api key>)")})}),(0,A.jsx)(V.Z,{mt:2,children:(0,A.jsx)(yi,{maxLines:6,minLines:7,mode:"python",readOnly:!0,setOptions:bn,style:{backgroundColor:r.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:wi(null===s||void 0===s?void 0:s.remote_id)})})]})]})]})]}))},Oi=t(28857);function _i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Pi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_i(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ci(){var e,n=(0,c.useRouter)().query.slug,t=void 0===n?[]:n,i=(0,Mt.iV)().column,o=(0,r.Z)(t,2),a=o[0],l=o[1],u=wt.ZP.feature_sets.detail(a),d=u.data,h=u.mutate,m=d?(0,Be.Ln)(d):{},p=(m||{}).metadata,f={featureSet:m,fetchFeatureSet:h,selectedColumnIndex:i},v=null===p||void 0===p?void 0:p.name,x=v||"Dataset Overview";return 1===t.length?e=(0,A.jsx)(zt,Pi({},f)):"export"===l?(e=(0,A.jsx)(Zi,Pi({},f)),x="Export ".concat(v)):e=(0,A.jsx)("div",{}),(0,A.jsx)(Oi.Z,{centerAlign:!0,footer:(0,A.jsx)(V.Z,{mt:S.iI}),fullWidth:!0,pageTitle:x,children:(0,A.jsx)(s.Z,{children:e})})}Ci.getInitialProps=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{themeProps:{currentTheme:k.Z}});case 1:case"end":return e.stop()}}),e)})));var ki=Ci},53105:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/[...slug]",function(){return t(85059)}])}},function(e){e.O(0,[3662,4281,4259,240,1125,1921,7673,8952,3887,9774,2888,179],(function(){return n=53105,e(e.s=n);var n}));var n=e.O();_N_E=n}]);