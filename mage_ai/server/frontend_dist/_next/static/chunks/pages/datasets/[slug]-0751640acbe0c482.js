(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{1028:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var o=t(9499),i=t(6835),r=t(7294),l=t(1163),a=t.n(l),c=t(5278),u=t(9521),s=t(1868),d=t(160),p=t(2631),f=t(2125),v=t(987),m=t(515),h=f.ZP.div.withConfig({displayName:"Tablestyle__TableStyle",componentId:"sc-y7klk2-0"})(["position:relative;width:100%;max-width:100vw;height:100%;max-height:100vh;overflow:auto;"," "," ",""],(function(e){return e.table&&"\n    background-color: ".concat((e.theme.background||v.Z.background).page,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.flex&&"\n    flex: 1;\n  "})),x=(f.ZP.div.withConfig({displayName:"Tablestyle__ColumnHeaderRowStyle",componentId:"sc-y7klk2-1"})(["position:relative;z-index:2;min-width:44px;min-height:20px;",""],(function(e){return"\n    background-color: ".concat((e.theme.interactive||v.Z.interactive).hoverBackground,";\n    border: 1px solid ").concat((e.theme.interative||v.Z.interactive).defaultBorder,";\n  ")})),f.ZP.div.withConfig({displayName:"Tablestyle__ColumnHeaderCellStyle",componentId:"sc-y7klk2-2"})(["max-width:44px;max-height:44px;"," ",""],(function(e){return!e.small&&"\n    padding: ".concat(m.iI*m.cd,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*m.iI,"px;\n  ")})),f.ZP.div.withConfig({displayName:"Tablestyle__RowCellStyle",componentId:"sc-y7klk2-3"})(["min-width:250px;max-height:80px;flex-shrink:0;"," "," ",""],(function(e){return!e.first&&"\n    border-left: 1px solid ".concat((e.theme.background||v.Z.background).page,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(m.iI*m.cd,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*m.iI,"px;\n  ")}))),g=f.ZP.div.withConfig({displayName:"Tablestyle__CellStyled",componentId:"sc-y7klk2-4"})([""," flex-shrink:0;margin:0;position:relative;z-index:3;white-space:nowrap;*{color:var(--cell-text-color)}padding:","px;"],(function(e){return e.onClick&&"cursor: pointer;"}),2*m.iI),b=t(5893);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n=e.columnHeaders,t=e.rowGroupData,o=e.columnTitles,i=(0,r.useState)([]),l=i[0],a=i[1],c=(0,r.useState)([]),f=c[0],v=c[1],m=(0,r.useMemo)((function(){return[{col1:"Hello",col2:"World"},{col1:"react-table",col2:"rocks"},{col1:"whatever",col2:"you want"}]}),[]),y=(0,r.useMemo)((function(){return[{Header:"Column 1",accessor:"col1"},{Header:"Column 2",accessor:"col2"}]}),[]);(0,r.useEffect)((function(){if(n){var e=[];n.map((function(n,t){var i=n.label,r={Header:void 0===i?"none":i,accessor:o[t]};e.push(r)})),a(e)}}),[n,o]),(0,r.useEffect)((function(){if(t){var e=[];t.map((function(n){var t={};n.map((function(e,n){var i=o[n];!(i in t)&&(t.key={}),t[i]=e})),e.push(t)})),v(e)}}),[o,t]);var _=(0,u.useTable)({columns:l||y,data:f||m}),w=_.getTableProps,Z=_.getTableBodyProps,P=_.headerGroups,O=_.rows,C=_.prepareRow;return(0,b.jsx)(h,{children:(0,b.jsxs)("table",j(j({},w()),{},{style:{border:"solid 1px #D8DCE3",borderRadius:"".concat(p.TR,"px"),width:"100%"},children:[(0,b.jsx)("thead",{children:P.map((function(e){return(0,b.jsx)("tr",j(j({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return(0,b.jsx)("th",j(j({},e.getHeaderProps()),{},{style:{background:"#F9FAFC",border:"solid 1px #D8DCE3"},children:(0,b.jsx)(x,{children:(0,b.jsx)(s.pn,{children:(0,b.jsx)(d.ZP,{bold:!0,children:e.render("Header")})})})}))}))}))}))}),(0,b.jsx)("tbody",j(j({},Z()),{},{children:O.map((function(e){return C(e),(0,b.jsx)("tr",j(j({},e.getRowProps()),{},{children:e.cells.map((function(e){return(0,b.jsx)("td",j(j({},e.getCellProps()),{},{style:{background:"#FBFCFD",border:"solid 1px #FBFCFD",borderLeft:"none",borderRight:"none",padding:"10px"},children:(0,b.jsx)(g,{children:(0,b.jsx)(s.pn,{children:(0,b.jsx)(d.ZP,{children:e.render("Cell")})})})}))}))}))}))}))]}))})},w=t(1180),Z=t(1757),P=t(7618),O=t(5485),C=t(9633),k=t(3918),S=f.ZP.div.withConfig({displayName:"FeatureProfiles__ContainerStyle",componentId:"sc-178fdg7-0"})(["border:1px solid ",";border-radius:","px;"],C.Wd,p.TR),I=f.ZP.div.withConfig({displayName:"FeatureProfiles__HeaderStyle",componentId:"sc-178fdg7-1"})(["background:",";padding:","px;border-bottom:1px solid ",";border-top-left-radius:","px;border-top-right-radius:","px;"],C.Uq,m.tr,C.Wd,p.TR,p.TR),T=f.ZP.div.withConfig({displayName:"FeatureProfiles__FeatureProfileStyle",componentId:"sc-178fdg7-2"})(["border-bottom:1px solid ",";"],C.Wd),D=f.ZP.div.withConfig({displayName:"FeatureProfiles__BodyStyle",componentId:"sc-178fdg7-3"})(["height:500px;border-bottom-left-radius:","px;border-bottom-right-radius:","px;overflow-y:scroll;"],p.TR,p.TR),N=f.ZP.div.withConfig({displayName:"FeatureProfiles__CellStyle",componentId:"sc-178fdg7-4"})([""," padding:","px;"],(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),m.iI);function F(e){var n=e.feature,t=e.statistics,o=n.columnType,i=n.uuid,r=null===t||void 0===t?void 0:t["".concat(i,"/count")],l=null===t||void 0===t?void 0:t["".concat(i,"/count_distinct")],a=null===t||void 0===t?void 0:t["".concat(i,"/null_value_count")],c=null===t||void 0===t?void 0:t["".concat(i,"/max")],u=null===t||void 0===t?void 0:t["".concat(i,"/min")],s=null===t||void 0===t?void 0:t["".concat(i,"/average")],p=null===t||void 0===t?void 0:t["".concat(i,"/median")],f=null===t||void 0===t?void 0:t["".concat(i,"/mode")],v=null===t||void 0===t?void 0:t["".concat(i,"/invalid_value_count")],m=[];return m=Z.HE.includes(o)?[["Type","Count","Unique","Missing"],[Z.Rp[o]||o,r,l,a],[o===Z.Rx?"Median":"Mean","Minimum","Maximum","Invalid"],[o===Z.Rx?p:(0,k.QV)(s,3),"string"===typeof u?u:(0,k.QV)(u,3),"string"===typeof c?c:(0,k.QV)(c,3),v]]:[["Type","Count","Unique"],[Z.Rp[o]||o,r,l],["Missing","Mode","Invalid"],[a,f,v]],(0,b.jsxs)(O.Z,{children:[(0,b.jsx)(P.Z,{flex:1,children:(0,b.jsx)(N,{children:(0,b.jsx)(d.ZP,{backgroundColor:C.AU,bold:!0,color:C.a$,monospace:!0,children:i})})}),m.map((function(e){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(P.Z,{flex:1,flexDirection:"column",children:e.map((function(e,n){return(0,b.jsx)(N,{backgroundColor:n%2===0?C.Cj:C.rp,children:(0,b.jsx)(d.ZP,{children:e})},n)}))})})}))]})}var R=function(e){var n=e.features,t=e.statistics;return(0,b.jsxs)(S,{children:[(0,b.jsx)(I,{children:(0,b.jsx)(d.ZP,{bold:!0,children:"Feature Profiles"})}),(0,b.jsx)(D,{children:n.map((function(e,n){return(0,b.jsx)(T,{children:(0,b.jsx)(F,{feature:e,statistics:t})},n)}))})]})},E=t(3481),H=t(862),M=t(9868),V=t(4085),B=t(992),G=t(8276),q=t(1487),z=t(1743),A=t(4019),J=t(8302);function Q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function U(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var W=function(){var e,n,t,o,u,s=(0,l.useRouter)().query.slug,p=J.ZP.feature_sets.detail(s).data,f=(0,r.useMemo)((function(){var e;return(null===p||void 0===p||null===(e=p.sample_data)||void 0===e?void 0:e.columns)||[]}),[null===p||void 0===p||null===(e=p.sample_data)||void 0===e?void 0:e.columns]),v=(0,r.useMemo)((function(){var e;return(null===p||void 0===p||null===(e=p.sample_data)||void 0===e?void 0:e.rows)||[]}),[null===p||void 0===p||null===(n=p.sample_data)||void 0===n?void 0:n.rows]),h=(0,r.useMemo)((function(){var e;return(null===p||void 0===p||null===(e=p.metadata)||void 0===e?void 0:e.column_types)||[]}),[null===p||void 0===p||null===(t=p.metadata)||void 0===t?void 0:t.column_types]),x=(0,r.useMemo)((function(){return(null===p||void 0===p?void 0:p.statistics)||[]}),[null===p||void 0===p?void 0:p.statistics]),g=Object.entries((null===p||void 0===p||null===(o=p.metadata)||void 0===o?void 0:o.column_types)||{}).map((function(e){var n=(0,i.Z)(e,2),t=n[0];return{columnType:n[1],uuid:t}})),y=(0,r.useState)([]),j=y[0],Z=y[1],C=(0,r.useState)(),k=C[0],S=C[1],I=(0,r.useState)(),T=I[0],D=I[1],N=["avg_null_value_count","avg_invalid_value_count","duplicate_row_count","completeness","validity"],F=["count","empty_column_count"],Q=["category","category_high_cardinality","true_or_false"],W=["datetime"],X=["number","number_with_decimals"],K=["completeness","validity"],L={avg_invalid_value_count:"Invalid values",avg_null_value_count:"Missing values",completeness:"Completeness",count:"Row count",duplicate_row_count:"Duplicate values",empty_column_count:"Empty features",validity:"Validity"},$={avg_invalid_value_count:3,avg_null_value_count:2,completeness:1,duplicate_row_count:4,validity:0};(0,r.useEffect)((function(){var e=[];f.map((function(n){e.push({label:n})})),Z(e)}),[f]),(0,r.useEffect)((function(){var e=Object.keys(x),n=Array(N.length).fill(0);e.map((function(e){if(N.includes(e)){var t=x[e].toPrecision(2),o=L[e],i=$[e];K.includes(e)&&(t="".concat(t*=100,"%")),n[i]={columnValues:[o,t]}}})),S({rowData:n})}),[x]),(0,r.useEffect)((function(){var e=Object.keys(x),n=Object.values(h),t=[];t.push({columnValues:["Column count",n.length]}),e.map((function(e){if(F.includes(e)){var n=L[e];t.push({columnValues:[n,x[e]]})}}));var o=0,i=0,r=0;n.map((function(e){Q.includes(e)?o+=1:X.includes(e)?i+=1:W.includes(e)&&(r+=1)})),t.push({columnValues:["Categorical Features",o]},{columnValues:["Numerical Features",i]},{columnValues:["Time series Features",r]}),D({rowData:t})}),[x]);var Y=(0,r.useState)("data"),ee=Y[0],ne=Y[1],te=(0,b.jsxs)(O.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,b.jsx)(M.Z,{featureSet:p}),(0,b.jsx)(w.Z,{onClick:function(e){var n,t,o=null===(n=window)||void 0===n||null===(t=n.location)||void 0===t?void 0:t.pathname;e.preventDefault(),a().push("".concat(o,"/features"))},children:(0,b.jsx)(d.ZP,{bold:!0,children:" Column view "})})]}),oe=(null===p||void 0===p||null===(u=p.insights)||void 0===u?void 0:u[1])||{},ie=(0,r.useState)(),re=ie[0],le=ie[1],ae=null===re||void 0===re?void 0:re.action_type;return(0,b.jsxs)(E.Z,{centerAlign:!0,footer:(0,b.jsx)(G.Z,{mt:m.iI}),children:[(0,b.jsxs)(G.Z,{mt:m.iI,children:[ae&&(0,b.jsx)(c.Z,{actionType:ae,axis:null===re||void 0===re?void 0:re.axis,features:f.map((function(e){return{uuid:e}})),onSave:function(){return function(e){var n={action_payload:U(U({},e),{},{action_type:ae})};alert(JSON.stringify(n))}(re)},payload:re,setPayload:le}),(0,b.jsx)(G.Z,{mt:5,children:(0,b.jsxs)(V.Z,{compact:!0,onChange:function(e){return le(JSON.parse(e.target.value))},value:ae,width:20*m.iI,children:[(0,b.jsx)("option",{value:"",children:"New action"}),Object.entries(A.Z.rows).map((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];return(0,b.jsx)("option",{value:JSON.stringify({action_type:t,axis:"row"}),children:o.title},t)})),Object.entries(A.Z.columns).map((function(e){var n=(0,i.Z)(e,2),t=n[0],o=n[1];return o.multiColumns&&(0,b.jsx)("option",{value:JSON.stringify({action_type:t,axis:"column"}),children:o.title},t)}))]})})]}),(0,b.jsx)(G.Z,{mt:m.iI}),te,(0,b.jsx)(G.Z,{mt:2}),(0,b.jsx)(q.Z,{featureSet:p,featureSetId:s}),(0,b.jsx)(G.Z,{mt:4}),(0,b.jsxs)(z.Z,{bold:!0,defaultKey:ee,large:!0,noBottomBorder:!1,onChange:function(e){return ne(e)},children:[(0,b.jsxs)(z.O,{label:"Data",children:[(0,b.jsx)(G.Z,{mb:3,mt:3}),(0,b.jsx)(_,{columnHeaders:j,columnTitles:f,rowGroupData:v})]},"data"),(0,b.jsxs)(z.O,{label:"Reports",children:[(0,b.jsx)(G.Z,{mb:3,mt:3}),(0,b.jsxs)(O.Z,{justifyContent:"center",children:[(0,b.jsx)(P.Z,{flex:1,children:(0,b.jsx)(B.Z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Quality Metrics"}],rowGroupData:[k]})}),(0,b.jsx)(G.Z,{ml:8}),(0,b.jsx)(P.Z,{flex:1,children:(0,b.jsx)(B.Z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Statistics"}],rowGroupData:[T]})})]}),(0,b.jsx)(G.Z,{my:8,children:(0,b.jsx)(R,{features:g,statistics:x})})]},"reports"),(0,b.jsxs)(z.O,{label:"Visualizations",children:[(0,b.jsx)(G.Z,{mb:3,mt:3}),(0,b.jsx)(H.ZP,{features:g,insightsOverview:oe,statistics:x})]},"visualizations")]})]})}},8786:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/[slug]",function(){return t(1028)}])}},function(e){e.O(0,[885,195,452,410,521,493,128,774,888,179],(function(){return n=8786,e(e.s=n);var n}));var n=e.O();_N_E=n}]);