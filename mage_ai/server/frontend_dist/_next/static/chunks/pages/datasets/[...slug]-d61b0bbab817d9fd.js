(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8420],{34744:function(e,n,t){"use strict";var i=t(82394),r=t(26304),o=(t(82684),t(46313)),a=t(86673),l=t(23831),c=t(49125),s=t(28598),u=["short"];function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=o.default.div.withConfig({displayName:"Divider__DividerContainerStyle",componentId:"sc-1m7lqco-0"})([""," ",""],(function(e){return e.short&&"\n    width: ".concat(21*c.iI,"px;\n  ")}),(function(e){return!e.short&&"\n    width: 100%;\n  "})),m=o.default.div.withConfig({displayName:"Divider__DividerStyle",componentId:"sc-1m7lqco-1"})(["height:1px;"," "," ",""],(function(e){return!(e.light||e.medium)&&"\n    background-color: ".concat((e.theme.monotone||l.Z.monotone).grey200,";\n  ")}),(function(e){return e.light&&"\n    background-color: ".concat((e.theme.borders||l.Z.borders).light,";\n  ")}),(function(e){return e.medium&&"\n    background-color: ".concat((e.theme.borders||l.Z.borders).medium,";\n  ")})),f=function(e){var n=e.short,t=(0,r.Z)(e,u);return(0,s.jsx)(p,{short:n,children:(0,s.jsx)(a.Z,h(h({},t),{},{children:(0,s.jsx)(m,h({},t))}))})};f.defaultProps={short:!1},n.Z=f},37391:function(e,n,t){"use strict";t.d(n,{nn:function(){return c},w5:function(){return u},y$:function(){return s}});var i=t(46313),r=t(23831),o=t(73942),a=t(49125),l=t(90880),c=1.25*a.iI;function s(){return"\n    // for Internet Explorer, Edge\n    -ms-overflow-style: none;\n    // for Firefox\n    scrollbar-width: none;\n    // for Chrome, Safari, and Opera\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  "}var u=(0,i.css)([""," "," "," ",""],(function(e){return"\n    ::-webkit-scrollbar {\n      height: ".concat(c,"px;\n      width: ").concat(c,"px;\n    }\n\n    ::-webkit-scrollbar-track {\n    }\n\n    ::-webkit-scrollbar-thumb {\n      ").concat((0,l.eR)(),"\n\n      background: ").concat((e.theme.background||r.Z.background).scrollbarThumb,";\n      border-radius: ").concat(o.n_,"px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: ").concat((e.theme.background||r.Z.background).scrollbarThumbHover,";\n    }\n    ::-webkit-scrollbar-corner {\n      background: ").concat((e.theme.background||r.Z.background).scrollbarTrack,";\n    }\n  ")}),(function(e){return!e.scrollbarBorderRadiusLarge&&"\n    ::-webkit-scrollbar-track {\n      background: ".concat((e.theme.background||r.Z.background).scrollbarTrack,";\n    }\n  ")}),(function(e){return e.noScrollbarTrackBackground&&"\n    ::-webkit-scrollbar-corner {\n      background: transparent;\n    }\n    ::-webkit-scrollbar-track {\n      background: transparent;\n    }\n  "}),(function(e){return e.scrollbarBorderRadiusLarge&&"\n    ::-webkit-scrollbar {\n      border-radius: ".concat(o.TR,"px !important;\n    }\n\n    ::-webkit-scrollbar-track {\n      border-radius: ").concat(o.TR,"px !important;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: ").concat(o.TR,"px !important;\n    }\n  ")}))},1625:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return $t}});var i=t(77837),r=t(82394),o=t(12757),a=t(38860),l=t.n(a),c=t(34376),s=t(57639),u=t(82684),d=t(4673),h=t(60328),p=t(89989),m=t(92083),f=t.n(m),v=t(70001),x=t(88560),g=t(67971),b=t(47256),j=t(66872),y=t(68735),w=t(320),Z=t(93461),O=t(10919),_=t(19711),P=t(10503),k=t(46313),C=t(31969),I=t(73942),S=t(49125),D=t(90880),T=k.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-pu8csx-0"})(["overflow-y:auto;position:relative;width:100%;z-index:3;border-bottom-left-radius:","px;border-bottom-right-radius:","px;"," "," ",""],I.n_,I.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).page,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.flex&&"\n    flex: 1;\n  "})),M=k.default.div.withConfig({displayName:"indexstyle__ColumnHeaderRowStyle",componentId:"sc-pu8csx-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;position:sticky;top:0;width:100%;z-index:2;"," "," ",""],I.n_,I.n_,(function(e){return"\n    background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.noBorder&&"\n    border: 1px solid ".concat((e.theme.interative||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.noBorder&&"\n    border-radius: 0;\n  "})),E=k.default.div.withConfig({displayName:"indexstyle__ColumnHeaderCellStyle",componentId:"sc-pu8csx-2"})([""," ",""],(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")})),L=k.default.div.withConfig({displayName:"indexstyle__RowTitleStyle",componentId:"sc-pu8csx-3"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).header,";\n    border: 1px solid ").concat((e.theme.interative||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")})),R=k.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-pu8csx-4"})([""," "," "," ",""],(0,D.eR)(),(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).page,";\n    border-top: none;\n    border-bottom: none;\n  ")}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.finalRow&&"\n    border-bottom-left-radius: ".concat(I.n_,"px;\n    border-bottom-right-radius: ").concat(I.n_,"px;\n  ")})),N=k.default.div.withConfig({displayName:"indexstyle__TextStyle",componentId:"sc-pu8csx-5"})(["p{cursor:pointer;}"]),A=k.default.div.withConfig({displayName:"indexstyle__RowCellStyle",componentId:"sc-pu8csx-6"})(["width:100%;z-index:0;"," "," "," ",""],(function(e){return!e.first&&"\n    border-left: 1px solid ".concat((e.theme.background||C.Z.background).page,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.vanish&&"\n    border: none;\n    padding: 0 !important;\n    width: 0% !important;\n    height: 100% !important;\n    background-color: ".concat((e.theme.background||C.Z.background).page," !important;\n  ")})),F=t(66176),H=t(28598);var V=function(e){var n,t=e.cellIndex,i=e.danger,r=e.flex,o=e.render,a=e.rowGroupIndex,l=e.rowIndex,c=e.selected,s=e.small,d=e.showBackground,h=e.showProgress,p=e.value,m=e.vanish,f=(0,u.useState)(!1),v=f[0],x=f[1],b=Array.isArray(p);return n=o?o(p):"function"===typeof p?p({selected:c}):b?(0,H.jsxs)(Z.Z,{alignItems:"start",flexDirection:"row",justifyContent:"space-between",children:[(0,H.jsxs)(_.ZP,{small:s,textOverflow:!0,title:p[0],children:[v&&(0,H.jsx)(H.Fragment,{children:"".concat(p[0]," & ").concat(p.length-1," more")}),!v&&(0,H.jsx)(H.Fragment,{children:p.map((function(e){return(0,H.jsx)("div",{children:e},e)}))})]}),(0,H.jsxs)(O.Z,{onClick:function(){return x(!v)},children:[v&&(0,H.jsx)(P.K5,{muted:!0,size:2*S.iI}),!v&&(0,H.jsx)(P.ol,{muted:!0,size:2*S.iI})]})]}):h?(0,H.jsx)(g.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:(0,H.jsx)(F.Z,{danger:p<80,progress:p})}):(0,H.jsx)(_.ZP,{bold:i,danger:i,small:s,textOverflow:!0,title:p,children:p}),(0,H.jsx)(Z.Z,{flex:r,textOverflow:!0,children:(0,H.jsx)(A,{first:0===t,showBackground:d,small:s,vanish:m,children:!m&&(0,H.jsxs)(H.Fragment,{children:[n," "]})})},"cell-".concat(a,"-").concat(l,"-").concat(t,"-").concat(p))},B=t(86673),U=t(5679);var z=function(e){var n=e.columnFlexNumbers,t=e.columnHeaders,i=e.height,r=e.isTextSelectionRequired,o=e.noBorder,a=e.onClickRow,l=e.onHoverRow,c=e.renderRowCellByIndex,s=e.rowGroupData,d=void 0===s?[]:s,h=e.selectedRowIndexes,p=e.small,m=e.flex,f=e.warnings,v=void 0===f?[]:f,x=(0,u.useMemo)((function(){return d.length}),[d]);return(0,H.jsxs)(T,{flex:m,height:i,scrollbarBorderRadiusLarge:!0,children:[(0,H.jsx)(M,{noBorder:o,children:(0,H.jsx)(g.Z,{alignItems:"center",children:t.map((function(e,t){var i=e.Icon,r=e.label;return(0,H.jsx)(Z.Z,{flex:n[t],children:(0,H.jsx)(E,{first:0===t,small:p,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[i&&(0,H.jsx)(P.Jr,{}),i&&(0,H.jsx)(B.Z,{mr:1}),(0,H.jsx)(_.ZP,{bold:!0,children:r})]})})},r)}))})}),d&&d.map((function(e,t){var i,s=e.title,u=e.rowData,d=s||t,m=[];s&&(i=(0,H.jsx)(L,{small:p,children:(0,H.jsx)(_.ZP,{bold:!0,children:s})}));var f=null===u||void 0===u?void 0:u.length;return null===u||void 0===u||u.forEach((function(e,i){var s=e.columnValues,u=e.danger,b=e.uuid,j=(null===h||void 0===h?void 0:h[0])===t&&(null===h||void 0===h?void 0:h[1])===i,y=[],w=v.find((function(e){return e.name===s[0]})),Z=w&&(0,U.HD)(s[1])?(0,U.Tz)(s[1]):s[1],_=w&&w.compare(Z,w.val);null===s||void 0===s||s.forEach((function(e,r,o){var a=null===c||void 0===c?void 0:c[r];Array.isArray(e)?y.push((0,H.jsx)(V,{cellIndex:r,flex:n[r],render:a,rowGroupIndex:t,rowIndex:i,selected:j,showBackground:i%2===1,showProgress:e[0],small:p,value:e[1]},r)):"undefined"===typeof e?(y.pop(),r=o.length+1,y.push((0,H.jsx)(V,{cellIndex:r,danger:u,flex:n[r],render:a,rowGroupIndex:t,rowIndex:i,selected:j,showBackground:i%2===1,small:p,value:e,vanish:!0},r))):y.push((0,H.jsx)(V,{cellIndex:r,danger:_||u,flex:n[r],render:a,rowGroupIndex:t,rowIndex:i,selected:j,showBackground:i%2===1,small:p,value:e},r))}));var P=(0,H.jsx)(g.Z,{textOverflow:!0,children:y});m.push((0,H.jsxs)(R,{finalRow:x-1===t&&f-1===i,hasHover:!!l,noBorder:o,onMouseEnter:function(){return null===l||void 0===l?void 0:l({rowGroupIndex:t,rowIndex:i,uuid:b})},selected:j,children:[a&&(r?(0,H.jsx)(N,{onClick:function(){return a({rowGroupIndex:t,rowIndex:i,uuid:b})},role:"cell",children:P}):(0,H.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return a({rowGroupIndex:t,rowIndex:i,uuid:b})},preventDefault:!0,children:P})),!a&&P]},"row-group-".concat(d,"-row-").concat(i)))})),(0,H.jsxs)("div",{children:[i,m]},d)}))]})},W=t(26304),Y=t(77555),q=t(90948),G=t(84969),X=t(65743),Q=t(86465),J=t(67778),K=t(52136),$=t(29989),ee=t(61655),ne=t(65376),te=t(48072),ie=t(84181),re=t(6154),oe=t(26226),ae=t(55378),le=t(2005),ce=t(73899),se=t(344),ue=t(31012),de=["featureMapping","height","margin","scatterPlotLabels","scatterPlotOverview","xFeature","yFeature"];function he(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?he(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var me=k.default.div.withConfig({displayName:"ScatterPlot__BeforeTextStyle",componentId:"sc-1kbdb1o-0"})(["margin-left:","px;"],S.iI/2),fe=function(e){return"".concat(e.x,",").concat(e.y)},ve=(0,ee.Z)((function(e){var n=e.data,t=e.getX,i=e.getY,r=e.height,o=e.hideTooltip,a=e.increasedXTicks,l=e.margin,c=e.numXTicks,s=e.numYTicks,d=e.showTooltip,h=e.tooltipData,p=e.tooltipLeft,m=e.tooltipTop,f=e.width,v=e.xAxisLabel,x=e.xLabelFormat,g=e.yAxisLabel,b=e.yLabelFormat,j=t||function(e){return null===e||void 0===e?void 0:e.x},y=i||function(e){return null===e||void 0===e?void 0:e.y},w=[],Z={};n.filter((function(e){return!(null==j(e)||null==y(e))})).forEach((function(e){var n=fe(e);n in Z?Z[n]=Z[n]+1:(Z[n]=1,w.push(e))}));var O=C.Z.monotone.gray,P=C.Z.content.active,k=w.map((function(e){return Number(j(e))})),I=w.map((function(e){return Number(y(e))})),D=x||function(e){return e},T=function(e){return(0,se.fR)(D(e),se.Pw)},M=b||function(e){return e},E=function(e){return(0,se.fR)(M(e),se.Xh)},L=Math.max.apply(Math,(0,Y.Z)(I.map((function(e){return E(e).length}))));l.left=(L+3)*S.iI;var R=f-l.left-l.right,N=r-l.top-l.bottom,A=Math.max.apply(Math,(0,Y.Z)(k))-Math.min.apply(Math,(0,Y.Z)(k)),F=Math.max.apply(Math,(0,Y.Z)(I))-Math.min.apply(Math,(0,Y.Z)(I)),V=A/15,B=F/10,U=(0,u.useMemo)((function(){return(0,ie.Z)({domain:[Math.min.apply(Math,(0,Y.Z)(k))-V,Math.max.apply(Math,(0,Y.Z)(k))+V],range:[0,R]})}),[R,k]),z=(0,u.useMemo)((function(){return(0,ie.Z)({domain:[Math.min.apply(Math,(0,Y.Z)(I))-B,Math.max.apply(Math,(0,Y.Z)(I))+B],nice:!0,range:[N,0]})}),[N,I]),W=(0,u.useMemo)((function(){var e=(0,re.Z)({x:function(e){return U(j(e))},y:function(e){return z(y(e))},width:R,height:N});try{return e(w)}catch(n){}}),[R,N,U,z]),ee=c||(f>520?a?20:10:a?10:5),oe=O,ae=(0,u.useCallback)((function(e){var n=(0,te.Z)(e);if(n){var t={x:n.x-l.left,y:n.y-l.top},i=null===W||void 0===W?void 0:W.find(t.x,t.y,100);if(i){var r=fe(i.data),o=Z[r];d({tooltipLeft:U(j(i.data)),tooltipTop:z(y(i.data)),tooltipData:{point:i.data,numDuplicates:o}})}}}),[w,j,y,d,U,z]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("svg",{height:r,width:f,children:[(0,H.jsx)(X.Z,{fill:"transparent",height:r,onMouseLeave:function(){return o()},onMouseMove:ae,onTouchMove:ae,onTouchStart:ae,rx:14,width:f-(l.left+l.right),x:l.left,y:0}),(0,H.jsxs)($.Z,{left:l.left,pointerEvents:"none",top:l.top,children:[(0,H.jsx)(J.Z,{height:N,pointerEvents:"none",scale:z,stroke:O,strokeDasharray:"3,3",strokeOpacity:.4,width:R}),(0,H.jsx)(K.Z,{height:N,pointerEvents:"none",scale:U,stroke:O,strokeDasharray:"3,3",strokeOpacity:.4,width:R}),(0,H.jsx)("line",{stroke:O,x1:R,x2:R,y1:0,y2:N}),(0,H.jsx)(q.Z,{numTicks:ee,scale:U,stroke:oe,tickFormat:T,tickLabelProps:function(e){return{fill:P,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"middle"}},tickStroke:oe,top:N}),(0,H.jsx)(G.Z,{hideTicks:!0,numTicks:s,scale:z,stroke:oe,tickFormat:E,tickLabelProps:function(){return{fill:P,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"end"}},tickStroke:oe}),w.map((function(e,n){var t=fe(e),i=Math.log(Z[t])+3.5;return(0,H.jsx)(Q.Z,{className:"dot",cx:U(j(e)),cy:z(y(e)),r:i,fill:(null===h||void 0===h?void 0:h.point)===e?ce.hM:ce.a$},"point-".concat(e[0],"-").concat(n))}))]})]}),h&&(0,H.jsxs)(ne.Z,{left:p,top:m,offsetTop:l.top+S.iI,children:[(0,H.jsx)(_.ZP,{center:!0,small:!0,children:"".concat(v,": ").concat(T(j(null===h||void 0===h?void 0:h.point)))}),(0,H.jsx)(_.ZP,{center:!0,small:!0,children:"".concat(g,": ").concat(E(y(null===h||void 0===h?void 0:h.point)))}),h.numDuplicates>1&&(0,H.jsx)(_.ZP,{center:!0,small:!0,children:"Duplicates: ".concat(null===h||void 0===h?void 0:h.numDuplicates)})]})]})}));var xe=function(e){var n=e.featureMapping,t=e.height,i=e.margin,r=e.scatterPlotLabels,o=void 0===r?{}:r,a=e.scatterPlotOverview,l=e.xFeature,c=e.yFeature,s=(0,W.Z)(e,de),d=(0,u.useState)(l),h=d[0],p=d[1],m=(0,u.useState)(c),f=m[0],v=m[1],b=pe(pe({},{bottom:5*S.iI,left:3*S.iI,right:3*S.iI,top:3*S.iI}),i),j=Object.keys(a),y=(0,u.useMemo)((function(){return a[h]}),[h]),w=(0,u.useMemo)((function(){return a[f]}),[f]),Z=(0,u.useMemo)((function(){return null===y||void 0===y?void 0:y.map((function(e,n){return{x:e,y:null===w||void 0===w?void 0:w[n]}}))}),[y,w]),O={};return h in o&&(O.xLabelFormat=function(e){return o[h][e]},O.numXTicks=o[h].length),n[h]===x.RL.TRUE_OR_FALSE&&(O.numXTicks=1),f in o&&(O.yLabelFormat=function(e){return o[f][e]},O.numYTicks=o[f].length),n[f]===x.RL.TRUE_OR_FALSE&&(O.numYTicks=1),(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:t,marginBottom:S.iI,width:"100%"},children:[(0,H.jsxs)(g.Z,{children:[(0,H.jsx)(ae.Z,{beforeIcon:(0,H.jsx)(me,{children:(0,H.jsx)(_.ZP,{children:"X"})}),color:ce.a$,label:"Feature",onChange:function(e){return p(e.target.value)},value:h,children:j.filter((function(e){return e!==f})).map((function(e){return(0,H.jsx)("option",{value:e,children:e},e)}))}),(0,H.jsx)(B.Z,{mr:2}),(0,H.jsx)(ae.Z,{beforeIcon:(0,H.jsx)(me,{children:(0,H.jsx)(_.ZP,{children:"Y"})}),color:ce.a$,label:"Feature",onChange:function(e){return v(e.target.value)},value:f,children:j.filter((function(e){return e!==h})).map((function(e){return(0,H.jsx)("option",{value:e,children:e},e)}))})]}),(0,H.jsx)("div",{style:{height:t,width:"100%"},children:(0,H.jsx)(oe.Z,{children:function(e){var n=e.width;return(0,H.jsx)(ve,pe(pe(pe({},s),O),{},{data:Z||[],height:t,margin:b,width:n,xAxisLabel:h,yAxisLabel:f}))}})})]})})},ge="M/D/YYYY",be=t(31044),je=t(24224),ye=t(33766),we=k.default.div.withConfig({displayName:"Overview__ChartStyle",componentId:"sc-1orkmzg-0"})(["border:1px solid ",";border-radius:","px;overflow:auto;margin-bottom:","px;"],ce.Wd,I.TR,S.iI*S.cd),Ze=(k.default.div.withConfig({displayName:"Overview__ChartHeaderStyle",componentId:"sc-1orkmzg-1"})([""]),k.default.div.withConfig({displayName:"Overview__HeaderStyle",componentId:"sc-1orkmzg-2"})([""," padding:","px;border-bottom:1px solid ",";border-top-left-radius:","px;border-top-right-radius:","px;"],(function(e){return"\n    background: ".concat((e.theme.background||C.Z.background).header,";\n  ")}),S.tr,ce.Wd,I.TR,I.TR)),Oe=k.default.div.withConfig({displayName:"Overview__BodyStyle",componentId:"sc-1orkmzg-3"})([""," border-bottom-left-radius:","px;border-bottom-right-radius:","px;"],(function(e){return!e.noPadding&&"\n    padding: ".concat(S.tr,"px;\n    padding-bottom: ").concat(2*S.tr,"px;\n  ")}),I.TR,I.TR);function _e(e){var n=e.children,t=e.noPadding,i=void 0!==t&&t,r=e.title;return(0,H.jsx)(we,{children:(0,H.jsxs)(g.Z,{flexDirection:"column",children:[r&&(0,H.jsx)(Ze,{children:(0,H.jsx)(_.ZP,{bold:!0,children:r})}),(0,H.jsx)(Oe,{noPadding:i,children:n})]})})}function Pe(e){var n=e.left,t=e.responsive,i=e.right;return(0,H.jsxs)(g.Z,{responsive:t,children:[(0,H.jsx)(g.Z,{flex:1,children:(0,H.jsx)("div",{style:{width:"100%",height:"100%"},children:n})}),i&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(B.Z,{mr:S.cd}),(0,H.jsx)(g.Z,{flex:1,children:(0,H.jsx)("div",{style:{width:"100%",height:"100%"},children:i})})]})]})}var ke=function(e){var n,t,i=e.features,r=e.insightsOverview,a=e.statistics,l=r.correlations,c=void 0===l?[]:l,s=r.time_series,u=r.scatter_plot,d=r.scatter_plot_labels,h=null===i||void 0===i?void 0:i.map((function(e){return e.uuid})),p=[],m=null===c||void 0===c?void 0:c.map((function(e,n){var t=e.correlations,i=e.feature.uuid;p.push({label:i,linkProps:{onClick:function(){return(0,ye.u)({column:null===i?null:h.indexOf(i)},{pushHistory:!0})}}});var r=t[0].y.map((function(e){var n=e.value;return(0,U.QV)(n)}));return r.splice(n,0,1),r})),f=(0,je.HK)(i,(function(e){return e.uuid})),x=[],y=[];null===s||void 0===s||s.forEach((function(e){var n=(0,be.Co)(e,f,{calculateAnomaly:function(e){var n=e.y,t=e.yPrevious;return t&&1.5*t.count<=n.count},getYValue:function(e){return e.count}}),t=n.distribution,i=n.rangedWithUnusualDistribution;x.push(t),y.push(i)}));var w=[],Z=[],O=[];null===i||void 0===i||i.forEach((function(e){var n=e.uuid,t=a["".concat(n,"/null_value_rate")];if("undefined"!==typeof t){var i={feature:e,value:1-t};!t||t<=.1?Z.push(i):t>=.5&&O.push(i),w.push(i)}}));var P=x.map((function(e){var n=e.data,t=e.featureUUID;return(0,H.jsx)(j.Z,{data:n.map((function(e){var n=e.isUnusual,t=e.x,i=e.xLabel,r=e.xLabelMax,o=e.xLabelMin;return[i,e.y.count,o,r,t.min,t.max,n]})),getBarColor:function(e){return(0,o.Z)(e,7)[6]?C.Z.brand.wind400:C.Z.brand.wind300},height:50*S.iI,large:!0,margin:{right:4*S.iI},renderTooltipContent:function(e){var n=(0,o.Z)(e,4),t=n[1],i=n[2],r=n[3];return(0,H.jsxs)(_.ZP,{small:!0,children:["Rows: ",t,(0,H.jsx)("br",{}),"Dates: ",i," - ",r]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,je.YC)(e,"[4]")}},t)})),k=[],I=[],D=[],T=[],M={},E=null===a||void 0===a?void 0:a.count;null===i||void 0===i||i.forEach((function(e){var n=e.uuid,t=e.columnType;M[n]=t;var i=null===a||void 0===a?void 0:a["".concat(n,"/count")];if(i){var r=a["".concat(n,"/count_distinct")],l=r/i,c=null===a||void 0===a?void 0:a["".concat(n,"/value_counts")],s={count:i,feature:e,uniquePercentage:l,uniqueValues:r};if(l>=.5?I.push(s):l<=.05&&D.push(s),c){var u=(0,je.CE)(Object.entries(c).filter((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1];return null!==t&&String(t).trim().length>=1})),(function(e){return(0,o.Z)(e,2)[1]})),d=(0,o.Z)(u,2),h=d[0],p=d[1],m=p/E;s.distributionFeatureUUID=h,s.distributionPercentage=m,s.distributionValue=p,(0,be.xp)(p,i,r)&&T.push(s)}k.push(s)}}));var L=k.filter((function(e){return e.distributionPercentage}));return(0,H.jsxs)(g.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Data completion",children:(0,H.jsx)(v.Z,{data:(0,je.YC)(w,"value").map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*w.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;e.y;return"".concat((0,U.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,H.jsxs)(_e,{noPadding:O.length>=1,title:"Columns with a lot of missing values",children:[0===O.length&&(0,H.jsx)(_.ZP,{children:"All columns have a healthy amount of values."}),O.length>=1&&(0,H.jsx)(z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column"},{label:"% missing values"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(O.slice(0,12),"value").map((function(e){var n=e.feature,t=e.value;return{columnValues:[n.uuid,(0,U.T3)(1-t)],uuid:n.uuid}}))}],small:!0})]})}),P.length>=1&&P.map((function(e,n){var t,i,r=null===(t=s[n])||void 0===t||null===(i=t.x_metadata)||void 0===i?void 0:i.label,o=y[n];return(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Number of rows by date, column: ".concat(r),children:e}),responsive:!0,right:(0,H.jsxs)(_e,{noPadding:o.length>=1,title:"Dates with unusual number of rows",children:[0===o.length&&(0,H.jsx)(_.ZP,{children:"There are no unusual dates."}),o.length>=1&&(0,H.jsx)(z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Start date"},{label:"End date"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:o.slice(0,12).map((function(e){var n=e.xLabelMax,t=e.xLabelMin,i=e.y;return{columnValues:[t,n,(0,U.x6)(i.count)],uuid:""}}))}],small:!0})]})},r)})),(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Number of unique values",children:(0,H.jsx)(v.Z,{data:(0,je.YC)(k,"uniqueValues").map((function(e){var n=e.feature;return{x:e.uniqueValues,y:n.uuid}})),height:Math.max(3*k.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,U.x6)(n)," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,H.jsxs)(_e,{noPadding:I.length>=1,title:"Columns with a lot of unique values",children:[0===I.length&&(0,H.jsx)(_.ZP,{children:"All columns have a good amount of variation in the data."}),I.length>=1&&(0,H.jsx)(z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column"},{label:"% unique values"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(I.slice(0,12),"uniquePercentage",{ascending:!1}).map((function(e){var n=e.feature,t=e.uniquePercentage;return{columnValues:[n.uuid,(0,U.T3)(t)],uuid:n.uuid}}))}],small:!0})]})}),L.length>=1&&(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Distribution of values",children:(0,H.jsx)(v.Z,{data:(0,je.YC)(L,"distributionPercentage").map((function(e){var n=e.feature;return{distributionFeatureUUID:e.distributionFeatureUUID,x:e.distributionPercentage,y:n.uuid}})),height:Math.max(3*L.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.distributionFeatureUUID,t=e.x;return"".concat(n," is ").concat((0,U.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,H.jsxs)(_e,{noPadding:T.length>=1,title:"Columns with imbalanced distribution",children:[0===T.length&&(0,H.jsx)(_.ZP,{children:"All columns have an even distribution of its values."}),T.length>=1&&(0,H.jsx)(z,{columnFlexNumbers:[2,2,1],columnHeaders:[{label:"Column"},{label:"Most frequent value"},{label:"% of rows"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(T.slice(0,12),"distributionPercentage",{ascending:!1}).map((function(e){var n=e.feature,t=e.distributionFeatureUUID,i=e.distributionPercentage;return{columnValues:[n.uuid,t,(0,U.T3)(i)],uuid:n.uuid}}))}],small:!0})]})}),c&&(null===m||void 0===m?void 0:m.length)>=1&&(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Correlations",children:(0,H.jsx)(b.Z,{countMidpoint:0,data:m,height:8*S.iI*p.length,minCount:-1,xLabels:p,yLabels:p})})}),u&&(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Scatterplot",children:(0,H.jsx)(xe,{featureMapping:M,scatterPlotLabels:d,scatterPlotOverview:u,height:50*S.iI,margin:{left:5*S.iI},yLabelFormat:se.P5,xFeature:null===(n=i[0])||void 0===n?void 0:n.uuid,yFeature:null===(t=i[(null===i||void 0===i?void 0:i.length)-1])||void 0===t?void 0:t.uuid})})})]})},Ce=t(46990),Ie=t(43313);var Se=function(e){var n,t=e.column,i=e.features,r=e.insights,a=e.statisticsByColumn,l=e.statisticsOverview,c=(0,u.useRef)(null),s=(0,u.useState)(0),d=(s[0],s[1]);(0,u.useEffect)((function(){var e,n;d(null===c||void 0===c||null===(e=c.current)||void 0===e||null===(n=e.getBoundingClientRect())||void 0===n?void 0:n.width)}),[c,d]);var h=l||{},m=null===h||void 0===h?void 0:h.count,Z=null===h||void 0===h?void 0:h["".concat(t,"/count")],O=null===h||void 0===h?void 0:h["".concat(t,"/count_distinct")],P=(0,je.HK)(i,(function(e){return e.uuid})),k=P[t]||{},I=k.uuid,D=k.columnType,T=x.RL.TRUE_OR_FALSE===D,M=x.Vg.includes(D),E=x.P_.includes(D),L=x.RL.DATETIME===D,R=r||{},N=R.charts,A=R.correlations,F=void 0===A?[]:A,V=R.time_series,W=i.map((function(e){return e.uuid})),Y=(null===F||void 0===F?void 0:F.length)>=1?(0,be.LH)([{correlations:F,feature:k}]):null,q=[{label:t}],G=[[1]],X=[];Y&&(null===Y||void 0===Y||Y.map((function(e,n){var t=(0,o.Z)(e,3),i=t[1],r=t[2];q.push({label:i,linkProps:{onClick:function(){return(0,ye.u)({column:null===i?null:W.indexOf(i)},{pushHistory:!0})}}}),G.push([(0,U.QV)(r)])})),null===Y||void 0===Y||Y.map((function(e,n,t){var i,r,o;Math.abs(t[n][2])>.5&&X.push({columnValues:[null===(i=t[n][0])||void 0===i?void 0:i.toString(),null===(r=t[n][1])||void 0===r?void 0:r.toString(),null===(o=(0,U.QV)(t[n][2]))||void 0===o?void 0:o.toString()]})})));var Q,J,K=null===N||void 0===N?void 0:N.find((function(e){var n=e.type;return Ce.o.HISTOGRAM===n})),$=K?(0,be.Co)(K,P,{calculateAnomaly:function(e){var n=e.y,t=e.yValuesAverage,i=e.yValuesStandardDeviation;return Math.abs(n.value-t)>2*i},feature:k,getYValue:function(e){return e.value}}):{},ee=$.distribution,ne=void 0===ee?null:ee,te=$.rangedWithUnusualDistribution,ie=void 0===te?null:te,re=$.unusualDistribution,oe=void 0===re?null:re,ae=Object.entries(a||{}).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{x:n[1],y:t}}));if(ne&&!T)Q=(0,H.jsx)(j.Z,{data:ne.data.map((function(e){var n=e.hideRange,t=e.isUnusual,i=e.x;return[e.xLabel,e.y.value,i.min,i.max,t,n]})),getBarColor:function(e){return(0,o.Z)(e,5)[4]?C.Z.brand.wind400:C.Z.brand.wind300},height:50*S.iI,large:!0,margin:{right:2*S.iI},noPadding:!0,renderTooltipContent:function(e){var n=(0,o.Z)(e,6),t=n[1],i=n[2],r=n[3],a=n[5];return(0,H.jsxs)(_.ZP,{small:!0,children:[a&&(0,H.jsxs)(H.Fragment,{children:["Rows: ",t,(0,H.jsx)("br",{}),"Value: ",i]}),!a&&(0,H.jsxs)(H.Fragment,{children:["Rows: ",t,(0,H.jsx)("br",{}),"Range: ",i," - ",r]})]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,je.YC)(e,"[2]")}},t);else if(Ie.mG.includes(D)){var le=(0,je.YC)(ae,"x");Q=(0,H.jsx)(v.Z,{data:le,height:Math.max(3*le.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x,t=e.y;return"".concat(t," appears ").concat((0,U.x6)(n)," times")},xNumTicks:2,ySerialize:function(e){return e.y}})}else if(T&&a)Q=(0,H.jsx)(w.Z,{data:Object.entries(a),getX:function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];return"".concat(t," (").concat((0,U.x6)(i),")")},getY:function(e){return(0,o.Z)(e,2)[1]},height:60*S.iI});else if(L){var ce=i.filter((function(e){return e.columnType===x.RL.DATETIME})).findIndex((function(e){return e.uuid===I})),ue=(0,be.Co)(V[ce],{},{feature:{columnType:D,uuid:I}}).distribution,de=ue.data,he=ue.featureUUID;Q=(0,H.jsx)(j.Z,{data:de.map((function(e){var n=e.x,t=e.xLabel,i=e.xLabelMax,r=e.xLabelMin;return[t,e.y.count,r,i,n.min,n.max]})),getBarColor:function(e){(0,p.Z)(e);return C.Z.brand.wind300},height:50*S.iI,large:!0,renderTooltipContent:function(e){var n=(0,o.Z)(e,4),t=n[1],i=n[2],r=n[3];return(0,H.jsxs)(_.ZP,{small:!0,children:["Rows: ",t,(0,H.jsx)("br",{}),"Start: ",i,(0,H.jsx)("br",{}),"End: ",r]})},showAxisLabels:!0,showYAxisLabels:!0,sortData:function(e){return(0,je.YC)(e,"[4]")}},he)}if((null===ie||void 0===ie?void 0:ie.length)>=1)J=(0,H.jsx)(z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Starting value"},{label:"Ending value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:ie.map((function(e){var n=e.x,t=e.y;return{columnValues:[n.min,n.max,(0,U.x6)(t.value)],uuid:""}}))}],small:!0});else if((null===oe||void 0===oe?void 0:oe.length)>=1)J=(0,H.jsx)(z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:oe.map((function(e){var n=e.x,t=e.y;return{columnValues:[n.min,(0,U.x6)(t.value)],uuid:""}}))}],small:!0});else if(E){var pe=ae.reduce((function(e,n){var t=n.x,i=n.y;return(0,be.xp)(t,Z,O)&&e.push({x:t,y:i}),e}),[]);pe.length>=1&&(J=(0,H.jsx)(z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(pe,"x",{ascending:!1}).map((function(e){var n=e.x;return{columnValues:[e.y,n],uuid:""}}))}],small:!0}))}var me=function(e){var n=e.legendNames,t=e.serializeY,i=e.x,r=e.xMetadata,o=e.y,a=e.yAxisLabel,l=void 0===a?"Statistics":a,c=i.map((function(e,n){var i=e.max,r=e.min,a=o[n];return{x:(i-r)/2+r,y:t(a)}}));return(0,H.jsx)(y.Z,{data:c,height:60*S.iI,lineLegendNames:n,margin:{bottom:10*S.iI},noCurve:!0,renderXTooltipContent:function(e){var n=e.index,t=i[n],r=t.min,o=t.max;return(0,H.jsxs)(_.ZP,{small:!0,children:[f().unix(r).format(ge)," - ",f().unix(o).format(ge)]})},renderYTooltipContent:function(e,t){var i=e.y;return(0,H.jsxs)(_.ZP,{small:!0,children:[n[t],": ",(0,U.x6)((0,U.QV)(i[t],4))]})},xAxisLabel:r.label,xLabelFormat:function(e){return f().unix(e).format(ge)},yAxisLabel:l,yLabelFormat:se.P5})},fe=[];return null===V||void 0===V||null===(n=V.filter((function(e){var n=e.type;return Ce.o.LINE_CHART===n})))||void 0===n||n.forEach((function(e){var n=e.x,t=e.x_metadata,i=e.y,r=[{chart:me({legendNames:["Rows","Unique values","% missing values"],serializeY:function(e){return[e.count,e.count_distinct,e.null_value_rate]},x:n,xMetadata:t,y:i}),metric:"count"}];if(M)r.push({chart:me({legendNames:["Minimum","Maximum","Average","Median"],serializeY:function(e){var n=e.average,t=e.max,i=e.median;return[e.min||0,t||0,n||0,i||0]},x:n,xMetadata:t,y:i}),metric:"sum"});else if(E||T){var o,a=null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value_counts;if(a){var l=Object.keys(a);r.push({chart:me({legendNames:l,serializeY:function(e){var n=e.value_counts;return l.map((function(e){return(null===n||void 0===n?void 0:n[e])||0}))},x:n,xMetadata:t,y:i,yAxisLabel:"Number of rows with value"}),metric:"value_counts"})}}fe.push({charts:r,column:t.label})})),(0,H.jsxs)(g.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[!Q&&0===fe.length&&0===(Y||[]).length&&(0,H.jsx)(_.ZP,{bold:!0,large:!0,children:"No visualizations are currently available for this column. More visualization types will be coming soon!"}),Q&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:Ie.yD[D]||Ie.yD.default,children:Q})}),!T&&J&&(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{noPadding:T||!!J,title:"Values with unusual distribution",children:J})}),T&&(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{noPadding:T||!!J,children:(0,H.jsx)(z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Value"},{label:"Number of rows"},{label:"% of rows"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(Object.entries(a),(function(e){return(0,o.Z)(e,2)[1]}),{ascending:!1}).map((function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];return{columnValues:[t,(0,U.x6)(i),(0,U.T3)(i/m)],uuid:i}}))}],small:!0})})})]}),fe.length>=1&&!L&&fe.map((function(e,n){var t=e.column,i=e.charts;return(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Statistics by date, column: ".concat(t),children:i.map((function(e,n){var t=e.chart;e.metric;return(0,H.jsx)(B.Z,{mb:4,children:t},n)}))})},n)})),(null===Y||void 0===Y?void 0:Y.length)>=1&&(0,H.jsx)(Pe,{left:(0,H.jsx)(_e,{title:"Correlations",children:(0,H.jsx)(b.Z,{countMidpoint:0,data:G,height:8*S.iI*q.length,minCount:-1,xLabels:[{label:t}],yLabels:q})}),responsive:!0,right:(0,H.jsx)(_e,{noPadding:!!Y,title:"Values with high correlation",children:X.length>0?(0,H.jsx)(z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Column"},{label:"Related column"},{label:"Correlation"}],noBorder:!0,rowGroupData:[{rowData:X}],small:!0}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(B.Z,{mb:1,ml:1,mt:1,children:(0,H.jsx)(_.ZP,{children:"There are no values with high correlation."})}),(0,H.jsx)(z,{columnFlexNumbers:[1,1,1],columnHeaders:[],noBorder:!0,rowGroupData:[],small:!0})]})})})]})},De=1.75,Te=(0,k.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],De*S.iI,1.5*S.iI,1.5*S.iI),Me=k.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;width:100%;"," "," ",""],I.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).page,";\n    border: 1px solid ").concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.borderless&&"\n    border: none;\n  "})),Ee=k.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||C.Z.background).header,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),Te),Le=k.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;",""],De*S.iI,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),Re=k.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],I.M8,I.YF,De*S.iI),Ne=6.5*S.iI,Ae=6.5*S.iI;var Fe=function(e){var n=e.borderless,t=e.children,i=e.containerRef,r=e.contentContainerRef,o=e.footer,a=e.fullHeight,l=void 0===a||a,c=e.header,s=e.headerHeight,u=e.headerIcon,d=e.headerTitle,h=e.items,p=e.subtitle,m=14;return(d||c)&&(m-=s||Ne),o&&(m-=Ae),(0,H.jsxs)(Me,{borderless:n,fullHeight:l,ref:i,children:[(c||d)&&(0,H.jsxs)(Ee,{height:s,children:[c&&c,d&&(0,H.jsxs)(g.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,H.jsxs)(g.Z,{alignItems:"center",children:[u&&u,(0,H.jsx)(B.Z,{ml:u?1:0,children:(0,H.jsx)(_.ZP,{bold:!0,children:d})})]}),h&&(0,H.jsx)(H.Fragment,{children:h})]}),p&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(B.Z,{mb:2}),(0,H.jsx)(g.Z,{alignItems:"right",children:p})]})]}),(0,H.jsx)(Le,{height:l?m:null,ref:r,children:t}),o&&(0,H.jsx)(Re,{children:(0,H.jsx)(g.Z,{alignItems:"center",justifyContent:"center",children:o})})]})},He=t(84201),Ve=t(11754),Be=t(92506),Ue=t(95157),ze=t(84779);var We=function(e){var n=e.column,t=e.featureSet,i=t.metadata,r=((null===i||void 0===i?void 0:i.column_types)||{})[n],o=(0,Ue.Tx)(t,n),a=o.average,l=o.avg_string_length,c=o.avg_word_count,s=o.completeness,u=o.count,d=o.count_distinct,h=o.invalid_value_count,p=o.invalid_value_rate,m=o.invalid_values,f=o.max,v=o.max_character_count,b=o.max_word_count,j=o.median,y=o.min,w=o.min_character_count,O=o.min_word_count,P=o.mode,k=o.null_value_count,C=o.null_value_rate,I=o.outlier_count,D=o.outliers,T=o.skew,M=o.unique_value_rate,E=[{columnFlexNumbers:[2,1,2],name:"Validity",progress:!0,rate:o.validity,warning:{compare:je.Qj,val:.8}},{columnFlexNumbers:[2,1,2],name:"Completeness",progress:!0,rate:s,warning:{compare:je.Qj,val:.8}}],L=[{name:"Column type",value:x.Rp[r]||r},{name:"Total values",value:(0,U.x6)(u)},{name:"Unique values",value:(0,U.x6)(d),rate:M,warning:{compare:je.tS,val:.8}},{name:"Missing values",value:(0,U.x6)(k),rate:C,warning:{compare:je.tS,val:0}},{name:"Invalid values",value:(0,U.x6)(h),rate:p,warning:{compare:je.tS,val:0}},{name:"Mode value",value:(0,U.kE)(P)?(0,U.QV)(P):P}];x.Vg.includes(r)&&L.push({name:"Max value",value:(0,U.kE)(f)?(0,U.QV)(f):f},{name:"Min value",value:(0,U.kE)(y)?(0,U.QV)(y):y},{name:"Median value",value:(0,U.kE)(j)?(0,U.QV)(j):j},{name:"Average value",value:(0,U.kE)(a)?(0,U.QV)(a):a}),r===x.RL.TEXT&&L.push({name:"Max word count",value:(0,U.x6)(b)},{name:"Min word count",value:(0,U.x6)(O)},{name:"Average word count",value:(0,U.kE)(c)?(0,U.QV)(c):c},{name:"Max character count",value:(0,U.x6)(v)},{name:"Min character count",value:(0,U.x6)(w)},{name:"Average string length",value:(0,U.kE)(l)?(0,U.QV)(l):l}),L=L.filter((function(e){return void 0!==e.value}));var R=[{name:"Outliers",value:I},{name:"Skewness",value:null===T||void 0===T?void 0:T.toFixed(3)}],N=D&&I>0,A=m&&h>0,F=R.every((function(e){return void 0===e.value}));return(0,H.jsxs)(g.Z,{justifyContent:"center",responsive:!0,children:[(0,H.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[(0,H.jsx)(Be.Z,{stats:E,title:"Quality metrics"}),(0,H.jsx)(Be.Z,{stats:L,title:"Statistics"})]}),(0,H.jsx)(B.Z,{ml:S.cd}),(0,H.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[F?(0,H.jsx)(Fe,{fullHeight:!1,headerTitle:"Warnings",children:(0,H.jsx)(_.ZP,{children:"There are no warnings."})}):(0,H.jsx)(Be.Z,{stats:R,title:"Warnings"}),N&&(0,H.jsx)(Ve.Z,{alternating:!0,headerTitle:"Outliers",children:null===D||void 0===D?void 0:D.map((function(e,n){return(0,H.jsx)(He.Z,{children:(0,H.jsx)(_.ZP,{children:x.Vg.includes(r)?(0,ze.Jw)(e,2):e})},"outlier_".concat(n))}))}),A&&(0,H.jsx)(B.Z,{mt:S.cd,children:(0,H.jsx)(Ve.Z,{headerTitle:"Invalid values",children:null===m||void 0===m?void 0:m.map((function(e,n){return(0,H.jsx)(He.Z,{last:n===m.length-1,secondary:n%2===1,children:(0,H.jsx)(_.ZP,{children:e})},"invalid_val_".concat(n))}))})})]})]})},Ye=t(12691),qe=t.n(Ye),Ge=t(83455),Xe=t(51774),Qe=t.n(Xe),Je=t(80906),Ke=t(34744),$e=t(82944),en="columnType",nn="columns",tn="user_input",rn="contains",on="==",an="@transformer_action\ndef transform(df):\n\t# Your code here ... \n\treturn df",ln={columns:{clean_column_name:{multiColumns:!0,title:"Clean column name",description:"Lowercase the column name and replace special characters with an underscore."},custom:{title:"Custom code",description:"Write your own custom cleaning function.       Add @transformer_action, then begin typing Python code inside a function.       You may refer to the current dataset as df.",code:{default:an,multiline:!0,values:tn}},fix_syntax_errors:{multiColumns:!0,title:"Fix syntax errors",description:"Fix syntactical errors to reduce the amount of noise in the data."},impute:{multiColumns:!0,title:"Impute",description:"Fill in missing values.",options:{strategy:{description:"Select how you want missing values to be filled in.",values:[{description:"Mean value",condition:{feature_attribute:en,operator:rn,value:[x.RL.NUMBER,x.RL.NUMBER_WITH_DECIMALS]},value:"average"},{description:"Median value",condition:{feature_attribute:en,operator:rn,value:[x.RL.NUMBER,x.RL.NUMBER_WITH_DECIMALS]},value:"median"},{description:"Most frequent value",value:"mode"},{description:"Use previously occurring entry in a timeseries",value:"seq"},{description:"Random value",value:"random"},{description:"Use a single value",value:"constant"}]},value:{description:"Use a constant value to fill in missing values.",condition:{options_key:"strategy",operator:on,value:"constant"},values:tn}}},remove:{multiColumns:!0,title:"Remove column",description:"Drop 1 or more columns from the dataset."},reformat:{multiColumns:!0,title:"Reformat values",description:"Change the format of values to a consistent format.",options:{reformat:{values:[{description:"Capitalize all the values using lowercase or uppercase.",value:"caps_standardization"},{description:"Remove currency symbols and convert strings into numbers.",value:"currency_to_num"},{description:"Reformat the date and time to ISO format (YYYY-MM-DD HH:mm:SS).",value:"date_format_conversion"}]},capitalization:{condition:{options_key:"reformat",operator:on,value:"caps_standardization"},values:[{value:"lowercase"},{value:"uppercase"}]}}},remove_outliers:{multiColumns:!0,title:"Remove outliers",description:"Remove rows with outliers to reduce noise in the data.",options:{method:{values:[{value:"lof",description:"Use the Local Outlier Factor algorithm"},{value:"itree",description:"Use the Isolation Forest algorithm"},{value:"auto",description:"Choose the best method automatically"}]}}}},rows:{custom:{title:"Custom code",description:"Write your own custom cleaning function.       Add @transformer_action, then begin typing Python code inside a function.       You may refer to the current dataset as df.",code:{default:an,multiline:!0,values:tn}},drop_duplicate:{title:"Drop duplicates",description:"Remove rows that have repeat values from 1 or more columns.",arguments:{description:"Select 1 or more columns that should have unique values.",values:nn},options:{keep:{description:"When duplicate rows are found, decide which row to keep.",values:[{value:"first"},{value:"last"}]}}},filter:{title:"Filter",description:"Select which rows to keep. Use Python syntax for conditional statements. For example: col1 == 1 and (col2 == 3 or col3 is None)",code:{values:tn}}}},cn=k.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-ktjgvu-0"})([""," "," ",""],(function(e){return!e.noBorder&&"\n    border-radius: ".concat(I.n_,"px;\n    border: 1px solid ").concat((e.theme.brand||C.Z.brand).water300,";\n  ")}),(function(e){return"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).white,";\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||C.Z.shadow).popup,";\n  ")})),sn=k.default.div.withConfig({displayName:"indexstyle__OptionStyle",componentId:"sc-ktjgvu-1"})([""," border-radius:","px;padding:","px;"," ",""],(0,D.eR)(),I.BG,.5*S.iI,(function(e){return"\n    border: 1px solid ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n\n    &:hover {\n      background-color: ").concat((e.theme.monotone||C.Z.monotone).grey100,";\n    }\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.brand||C.Z.brand).earth500,";\n  ")}));function un(e){return rn===e?function(e,n){return n.includes(e)}:on===e?function(e,n){return e===n}:">"===e?function(e,n){return e>n}:">="===e?function(e,n){return e>=n}:"<"===e?function(e,n){return e<n}:"<="===e?function(e,n){return e<=n}:"!="===e?function(e,n){return e!==n}:function(){return!1}}function dn(e,n){var t,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,a=e.feature_attribute,l=e.operator,c=e.options_key,s=e.value,u=o||{},d=u.multiColumns;if(c)t=null===n||void 0===n||null===(i=n.action_options)||void 0===i?void 0:i[c];else if(r&&a)t=null===r||void 0===r?void 0:r[a];else if(!r&&a&&d)return!0;return un(l)(t,s)}var hn=t(91427),pn={cursorStyle:"slim",highlightActiveLine:!1,highlightGutterLine:!1,readOnly:!0,tabSize:4,useWorker:!1},mn={highlightActiveLine:!0,showGutter:!0,showLineNumbers:!0,showPrintMargin:!0,tabSize:4,useWorker:!1};function fn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fn(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xn=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(90809),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}});var gn=function(e){var n,t,i=e.actionType,a=e.axis,l=e.features,c=void 0===l?[]:l,s=e.currentFeature,d=e.featureSetId,p=e.noBorder,m=e.noHeader,f=e.onClose,v=e.onSave,x=e.payload,b=e.setPayload,j=e.shadow,y=(0,u.useContext)(k.ThemeContext),w=(0,u.useState)(null===x||void 0===x?void 0:x.action_code),Z=w[0],C=w[1],I=x.action_arguments,S=x.action_code,D=x.action_options,T=x.action_variables,M=function(e){return b(vn(vn({},x),e))},E=null===(n=a===Je.qs.ROW?ln.rows:ln.columns)||void 0===n?void 0:n[i],L=E||{},R=L.arguments,N=L.code,A=L.description,F=L.multiColumns,V=L.options,U=L.title;if(!E)return(0,H.jsx)(B.Z,{my:1,children:(0,H.jsxs)(_.ZP,{children:["There\u2019s no configuration for axis ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:a})," and action type ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:i}),".",(0,H.jsx)("br",{}),"Please add it in ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"/mage_ai/frontend/components/ActionForm/actions.ts"}),"."]})});var z=R||{},W=(z.condition,z.description),q=z.values,G=!s&&F;return(0,H.jsxs)(cn,{noBorder:p,shadow:j,children:[!m&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,H.jsxs)(B.Z,{p:2,children:[(0,H.jsx)(_.ZP,{children:U}),A&&(0,H.jsx)(_.ZP,{muted:!0,small:!0,children:A})]}),(0,H.jsx)(B.Z,{p:2,children:(0,H.jsx)(h.Z,{basic:!0,iconOnly:!0,onClick:f,padding:"0px",transparent:!0,children:(0,H.jsx)(P.x8,{muted:!0})})})]}),(0,H.jsx)(Ke.Z,{})]}),(0,H.jsxs)(B.Z,{p:!m&&2,pt:m&&2,children:[N&&(0,H.jsx)(B.Z,{mb:3,children:N.values===tn&&(0,H.jsx)(xn,{maxLines:25,minLines:6,mode:"python",onChange:function(e){var n;x.action_code=e,C(null!==(n=x.action_code)&&void 0!==n?n:S),(0,hn.RA)({actionType:i,featureSetId:d,newValue:e})},setOptions:mn,style:{backgroundColor:y.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,overflow:"auto",width:"inherit"},value:null!==S&&void 0!==S?S:null!==(t=(0,hn.jQ)({actionType:i,featureSetId:d}))&&void 0!==t?t:N.default,wrapEnabled:!0})}),(R||G)&&(0,H.jsxs)(B.Z,{mb:3,children:[(0,H.jsx)(_.ZP,{monospace:!0,children:G?"columns":"arguments"}),W&&(0,H.jsx)(_.ZP,{muted:!0,small:!0,children:W}),(nn===q||G)&&(0,H.jsx)(g.Z,{flexWrap:"wrap",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.column_type,t=e.uuid,i=null===I||void 0===I?void 0:I.includes(t);return(0,H.jsx)(B.Z,{mr:1,mt:1,children:(0,H.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var e,o=vn({},T);i?delete o[t]:o[t]=(e={},(0,r.Z)(e,Je.X0.FEATURE,{column_type:n,uuid:t}),(0,r.Z)(e,"type",Je.X0.FEATURE),e);M({action_arguments:(0,Y.Z)(i?(0,je.oM)(I||[],null===I||void 0===I?void 0:I.indexOf(t)):[].concat((0,Y.Z)(I||[]),[t])),action_variables:o})},preventDefault:!0,children:(0,H.jsx)(sn,{selected:i,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[(0,H.jsx)(_.ZP,{children:t}),(0,H.jsx)(B.Z,{mr:1}),i&&(0,H.jsx)(P.Jr,{earth:!0})]})})})},t)}))})]}),V&&Object.entries(V).map((function(e,n){var t,i=(0,o.Z)(e,2),a=i[0],l=i[1],c=l.condition,u=l.description,d=l.values,h=null===D||void 0===D?void 0:D[a],p=[],m=!0;return c&&(m=dn(c,x,s,{multiColumns:F})),Array.isArray(d)?p.push.apply(p,(0,Y.Z)(d)):nn===d||tn===d&&(t=(0,H.jsx)($e.Z,{compact:!0,fullWidth:!0,onChange:function(e){return M({action_options:vn(vn({},D),{},(0,r.Z)({},a,e.target.value))})},value:h})),m&&(0,H.jsxs)(B.Z,{mt:n>=1?2:0,children:[(0,H.jsx)(_.ZP,{monospace:!0,children:a}),u&&(0,H.jsx)(_.ZP,{muted:!0,small:!0,children:u}),p&&(0,H.jsx)(g.Z,{flexWrap:"wrap",children:p.map((function(e){var n=e.condition,t=e.description,i=e.value,o=!0;return n&&(o=dn(n,x,s,{multiColumns:F})),o&&(0,H.jsx)(B.Z,{mr:1,mt:1,title:t,children:(0,H.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return M({action_options:vn(vn({},D),{},(0,r.Z)({},a,h===i?null:i))})},preventDefault:!0,children:(0,H.jsx)(sn,{selected:h===i,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[(0,H.jsxs)(_.ZP,{children:[i,t&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("br",{}),(0,H.jsx)(_.ZP,{inline:!0,muted:!0,xsmall:!0,children:t})]})]}),(0,H.jsx)(B.Z,{mr:1}),h===i&&(0,H.jsx)(P.Jr,{earth:!0})]})})})},i)}))}),t]},a)})),(0,H.jsx)(B.Z,{mt:R||G||V?3:0,children:(0,H.jsx)(h.Z,{onClick:function(){var e={action_variables:T?vn({},T):{}};return Z&&(e.action_code=Z),v(e)},children:"Apply"})})]})]})},bn=t(47999),jn=k.default.div.withConfig({displayName:"MenuContainer__ContainerStyle",componentId:"sc-1ntdyxn-0"})(["border-radius:","px;max-height:85vh;overflow:auto;padding:","px;position:absolute;z-index:101;"," "," "," "," "," "," ",""],I.Ro,1.75*S.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).white,";\n    box-shadow: ").concat((e.theme.shadow||C.Z.shadow).menu,";\n  ")}),(function(e){return"undefined"!==typeof e.left&&"\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    right: ".concat(e.right,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&"\n    min-width: ".concat(22*S.iI,"px;\n  ")}));var yn=function(e){var n=e.bottom,t=e.children,i=e.left,r=e.right,o=e.top,a=e.width;return(0,H.jsx)(jn,{bottom:n,left:i,right:r,top:o,width:a,children:t})};function wn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wn(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var On=function(e){var n=e.onCloseMenu,t=e.left,i=e.linkGroups,r=e.onClick,o=e.right,a=e.top,l=e.width;return(0,H.jsx)(yn,{left:t,right:o,top:a,width:l,children:null===i||void 0===i?void 0:i.map((function(e,t){var i=e.links,o=e.uuid;return(0,H.jsxs)("div",{children:[t>=1&&(0,H.jsx)(B.Z,{my:1,px:2,children:(0,H.jsx)(Ke.Z,{})}),i.map((function(e){var t=e.afterElement,i=e.beforeIcon,o=e.label,a=e.linkProps,l=e.onClick,c=e.uuid||o,s=(0,H.jsx)(O.Z,{block:!0,fullWidth:!0,onClick:function(e){null===n||void 0===n||n(!1),null===r||void 0===r||r(e),null===l||void 0===l||l(e)},preventDefault:(r||l)&&!a,sameColorAsText:!0,children:(0,H.jsx)(B.Z,{px:"4px",py:1,children:o})},c);return a&&(s=(0,u.createElement)(qe(),Zn(Zn({},a),{},{key:c,passHref:!0}),s)),(0,H.jsxs)(g.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,H.jsxs)(Z.Z,{alignItems:"center",flex:1,children:[i&&(0,H.jsxs)(H.Fragment,{children:[i,(0,H.jsx)(B.Z,{mr:"4px"})]}),s]}),t&&(0,H.jsx)(B.Z,{py:1,children:t})]},c)}))]},o)}))})};var _n=function(e){var n=e.columnOnly,t=e.setActionPayload,i=e.setVisible,r=e.visible,a=function(e,n){t({action_type:e,axis:n}),i(!1)},l=Object.entries(ln.rows).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{label:n[1].title,onClick:function(){return a(t,Je.qs.ROW)},uuid:t}})),c=Object.entries(ln.columns).filter((function(e){var t=(0,o.Z)(e,2),i=(t[0],t[1]);return!!n||i.multiColumns})).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{label:n[1].title,onClick:function(){return a(t,Je.qs.COLUMN)},uuid:t}})),s=l.concat(c);return(0,H.jsx)(bn.Z,{disableEscape:!0,onClickOutside:function(){return i(!1)},open:r,children:(0,H.jsx)(On,{linkGroups:[{links:n?c:s,uuid:"actions"}],right:S.iI*S.cd})})},Pn=t(86585);var kn=function(e){var n=e.columns,t=e.featureSet,i=e.left,r=e.onClickColumn,o=e.setVisible,a=e.top,l=e.visible,c=t.metadata,s=(null===c||void 0===c?void 0:c.column_types)||{},d=[{beforeIcon:(0,H.jsx)(P.u$,{}),label:"All columns",onClick:function(){r(null),o(!1)},uuid:"all_columns"}],h=(n||[]).map((function(e){var n=s[e],t=Pn.T5[n];return{beforeIcon:(0,H.jsx)(t,{}),label:e,onClick:function(){r(e),o(!1)},uuid:e}})),p=(0,u.useMemo)((function(){return(0,je.YC)(h,(function(e){return e.uuid}))}),[h]);return(0,H.jsx)(bn.Z,{disableEscape:!0,onClickOutside:function(){return o(!1)},open:l,children:(0,H.jsx)(On,{left:i,linkGroups:[{links:d.concat(p),uuid:"columns"}],top:a})})},Cn=k.default.div.withConfig({displayName:"ColumnListSidebarstyle__ColumnRowStyle",componentId:"sc-1c5ywj7-0"})([""," ",""],(function(e){return!e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n\n    &:hover {\n      background-color: ").concat((e.theme.accent||C.Z.accent).cyanTransparent,";\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.accent||C.Z.accent).cyanTransparent,";\n    border-bottom: 1px solid ").concat((e.theme.accent||C.Z.accent).cyan,";\n  ")}));var In=function(e){var n=e.columns,t=void 0===n?[]:n,i=e.featureSet,r=e.onClickColumn,o=e.selectedColumn,a=i.metadata,l=(null===a||void 0===a?void 0:a.column_types)||{},c=[{Icon:P.u$,label:function(){return"All columns"},uuid:null}].concat(null===t||void 0===t?void 0:t.map((function(e){var n=l[e];return{Icon:Pn.T5[n],label:function(){return e},uuid:e}}))),s=(0,u.useMemo)((function(){return(0,je.YC)(c,(function(e){return e.uuid}))}),[c]);return(0,H.jsx)(g.Z,{flexDirection:"column",children:s.map((function(e){var n=e.Icon,t=e.kicker,i=e.label,a=e.uuid;return(0,H.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return r(a)},preventDefault:!0,children:(0,H.jsx)(Cn,{selected:o===a||!(o||a),children:(0,H.jsxs)(B.Z,{px:2,py:1,children:[t&&(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[!n&&(0,H.jsx)(B.Z,{mr:3}),(0,H.jsx)(_.ZP,{bold:!0,small:!0,children:t()})]})}),(0,H.jsxs)(g.Z,{alignItems:"center",children:[n&&(0,H.jsx)("div",{style:{height:2*S.iI,width:2*S.iI},children:(0,H.jsx)(n,{size:2*S.iI})}),(0,H.jsx)(B.Z,{mr:n?1:3}),(0,H.jsx)(_.ZP,{children:i()})]})]})})},a||"overview")}))})},Sn=35*S.iI,Dn=50*S.iI,Tn=k.default.div.withConfig({displayName:"MultiColumnstyle__HeaderStyle",componentId:"sc-n3qsrr-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Sn,"px;\n    width: calc(100% - ").concat(Sn,"px);\n  ")})),Mn=k.default.div.withConfig({displayName:"MultiColumnstyle__TabStyle",componentId:"sc-n3qsrr-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],I.n_,I.n_,1*S.iI,2*S.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||C.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||C.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*S.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||C.Z.monotone).white,";\n  ")})),En=k.default.aside.withConfig({displayName:"MultiColumnstyle__BeforeStyle",componentId:"sc-n3qsrr-2"})(["height:100%;left:0;position:fixed;width:","px;z-index:1;",""],Sn,(function(e){return"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).grey100,";\n  ")})),Ln=k.default.div.withConfig({displayName:"MultiColumnstyle__BeforeInnerStyle",componentId:"sc-n3qsrr-3"})(["height:100%;overflow:auto;"]),Rn=k.default.div.withConfig({displayName:"MultiColumnstyle__MainContentStyle",componentId:"sc-n3qsrr-4"})(["position:fixed;z-index:1;"," "," ",""],(function(e){return!e.beforeVisible&&"\n    width: calc(100% - ".concat(Dn,"px);\n  ")}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Sn,"px;\n    width: calc(100% - ").concat(Sn+Dn,"px);\n  ")}),(function(e){return e.headerOffset&&"\n    height: calc(100% - ".concat(e.headerOffset,"px);\n    top: ").concat(e.headerOffset,"px;\n  ")})),Nn=k.default.div.withConfig({displayName:"MultiColumnstyle__MainContentInnerStyle",componentId:"sc-n3qsrr-5"})(["height:100%;overflow:auto;"]),An=k.default.aside.withConfig({displayName:"MultiColumnstyle__AsideStyle",componentId:"sc-n3qsrr-6"})(["right:0;position:fixed;width:","px;z-index:1;",""],Dn,(function(e){return e.headerOffset&&"\n    height: calc(100% - ".concat(e.headerOffset,"px);\n    top: ").concat(e.headerOffset,"px;\n  ")})),Fn=k.default.div.withConfig({displayName:"MultiColumnstyle__AsideInnerStyle",componentId:"sc-n3qsrr-7"})(["height:100%;overflow:auto;"]),Hn=k.default.div.withConfig({displayName:"MultiColumnstyle__AsidePopoutStyle",componentId:"sc-n3qsrr-8"})(["margin-top:","px;position:fixed;right:","px;width:","px;z-index:3;"],S.cd*S.iI,S.cd*S.iI,1.3*Dn),Vn=t(24141);var Bn=function(e){var n,t,i=e.after,r=e.before,o=e.children,a=e.header,l=e.mainContentRef,c=e.onTabClick,s=e.selectedTab,d=e.tabs,h=((0,Vn.i)().width,(0,u.useRef)(null)),p=((null===h||void 0===h||null===(n=h.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height;return(0,H.jsxs)(H.Fragment,{children:[r&&(0,H.jsx)(En,{children:(0,H.jsx)(Ln,{children:r})}),(0,H.jsxs)(Tn,{beforeVisible:!!r,ref:h,children:[a,d&&(0,H.jsx)(B.Z,{px:S.cd,children:(0,H.jsx)(g.Z,{children:d.map((function(e,n){return(0,H.jsx)(O.Z,{block:!0,bold:s===e,noHoverUnderline:!0,noOutline:!0,onClick:function(){return c(e)},preventDefault:!0,children:(0,H.jsx)(Mn,{first:0===n,selected:s===e,children:e})},e)}))})})]}),(0,H.jsx)(Rn,{beforeVisible:!!r,headerOffset:p,ref:l,children:(0,H.jsx)(Nn,{children:o})}),(0,H.jsx)(An,{headerOffset:p,children:(0,H.jsx)(Fn,{children:i})})]})},Un=t(36770),zn=t(16910),Wn=["beforeTitleElement","children","contentOverflowVisible","first","hideScrollbar","highlighted","last","maxHeight","noBackground","noPaddingContent","onClick","onEntered","onExited","title","titleXPadding","visible","visibleCount","visibleHighlightDisabled"];function Yn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function qn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Yn(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Yn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Gn=k.default.div.withConfig({displayName:"AccordionPanel__AccordionPanelStyle",componentId:"sc-sf242a-0"})([".accordion-panel-chevron-right-exit-done{transform:rotate(0deg);transition:all 200ms;}.accordion-panel-chevron-right-enter-active{transform:rotate(90deg);transition:all 200ms;}.accordion-panel-chevron-right-enter-done,.accordion-panel-chevron-right-enter-done-visible{transform:rotate(90deg);transition:all 300ms;}.accordion-panel-chevron-right-exit{transform:rotate(0deg);transition:all 300ms;}.accordion-panel-content-enter{display:block;max-height:0px;overflow:hidden;transition:max-height 400ms ease-in-out;}.accordion-panel-content-enter-active{","}.accordion-panel-content-enter-done{display:block;}.accordion-panel-content-exit{display:block;"," overflow:hidden;}.accordion-panel-content-exit-active{max-height:0px;transition:max-height 300ms cubic-bezier(0,1,0,1);}.accordion-panel-content-exit-done{display:none;}"],(function(e){return e.maxHeight&&"\n      max-height: ".concat(e.maxHeight,"px;\n    ")}),(function(e){return e.maxHeight&&"\n      max-height: ".concat(e.maxHeight,"px;\n    ")})),Xn=k.default.a.withConfig({displayName:"AccordionPanel__TitleStyle",componentId:"sc-sf242a-1"})([""," display:block;position:relative;padding:","px ","px;z-index:1;"," "," "," "," "," "," ",""],O.R,2.5*S.iI,2*S.iI,(function(e){return!e.last&&e.visible&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.first&&"\n    border-top-left-radius: ".concat(I.n_,"px;\n    border-top-right-radius: ").concat(I.n_,"px;\n  ")}),(function(e){return e.last&&!e.visible&&"\n    border-bottom-left-radius: ".concat(I.n_,"px;\n    border-bottom-right-radius: ").concat(I.n_,"px;\n  ")}),(function(e){return"\n    &:hover,\n    &:focus {\n      outline: none;\n    }\n\n    ".concat((0,D.Kl)(e),"\n  ")}),(function(e){return"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||C.Z.interactive).hoverBackground,";\n    }\n\n    &:active {\n      background-color: ").concat((e.theme.interactive||C.Z.interactive).activeOverlay,";\n    }\n  ")}),(function(e){return!e.visible&&"\n    background-color: ".concat((e.theme.background||C.Z.background).header,";\n  ")}),(function(e){return e.titleXPadding&&"\n    padding-left: ".concat(e.titleXPadding,"px;\n    padding-right: ").concat(e.titleXPadding,"px;\n  ")})),Qn=k.default.div.withConfig({displayName:"AccordionPanel__ContentStyle",componentId:"sc-sf242a-2"})(["padding-left:","px;padding-right:","px;"," "," "," "," "," ",""],2*S.iI,2*S.iI,(function(e){return e.hideScrollbar&&"\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  "}),(function(e){return!e.visible&&"\n    display: none;\n  "}),(function(e){return!e.contentOverflowVisible&&"\n    overflow-y: auto;\n  "}),(function(e){return e.contentOverflowVisible&&"\n    overflow-y: visible;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,"px;\n  ")}),(function(e){return e.noPaddingContent&&"\n    padding: 0;\n  "})),Jn=k.default.div.withConfig({displayName:"AccordionPanel__ContentInnerStyle",componentId:"sc-sf242a-3"})(["padding-bottom:","px;padding-top:","px;",""],2*S.iI,2*S.iI,(function(e){return e.noPaddingContent&&"\n    padding: 0;\n  "})),Kn=function(e,n){var t=e.beforeTitleElement,i=e.children,r=e.contentOverflowVisible,o=e.first,a=e.hideScrollbar,l=e.highlighted,c=e.last,s=e.maxHeight,u=void 0===s?1e3:s,d=e.noBackground,h=e.noPaddingContent,p=e.onClick,m=e.onEntered,f=e.onExited,v=e.title,x=e.titleXPadding,b=e.visible,j=e.visibleCount,y=e.visibleHighlightDisabled,w=(0,W.Z)(e,Wn);return(0,H.jsxs)(Gn,qn(qn({},w),{},{maxHeight:u,children:[(0,H.jsx)(Xn,{first:o,href:"#",last:c,noHoverUnderline:!0,onClick:function(e){e.preventDefault(),p&&p(e)},onKeyPress:function(e){" "===e.key&&p&&p(e)},titleXPadding:x,visible:b&&!y,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[(0,H.jsx)(zn.Z,{classNames:"accordion-panel-chevron-right",in:b,timeout:400,children:(0,H.jsx)(Z.Z,{className:b&&0===j&&"accordion-panel-chevron-right-enter-done-visible",children:(0,H.jsx)(P.ol,{default:!0})})}),(0,H.jsx)(B.Z,{ml:1,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[t,t&&(0,H.jsx)(B.Z,{ml:1}),(0,H.jsx)(_.ZP,{bold:!0,default:!b,wind:l,children:v})]})})]})}),(0,H.jsx)(zn.Z,{classNames:"accordion-panel-content",in:b,onEntered:function(e){return m&&m(e)},onExited:function(e){return f&&f(e)},timeout:300,children:(0,H.jsx)(Qn,{contentOverflowVisible:r,hideScrollbar:a,maxHeight:u,noBackground:d,noPaddingContent:h,visible:b,children:(0,H.jsx)(Jn,{noPaddingContent:h,ref:n,children:i})})})]}))},$n=u.forwardRef(Kn),et=["activeItemIndex","children","onClick","showDividers","visibleMapping","visibleMappingForced"];function nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function tt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var it=k.default.div.withConfig({displayName:"Accordion__AccordionStyle",componentId:"sc-1xr4nou-0"})(["border-radius:","px;overflow:hidden;border-width:1px;border-style:solid;"," ",""],I.n_,(function(e){return!e.highlighted&&"\n    border-color: ".concat((e.theme.interactive||C.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.highlighted&&"\n    border-color: ".concat((e.theme.brand||C.Z.brand).wind400,";\n  ")})),rt=k.default.div.withConfig({displayName:"Accordion__AccordionPanelContainerStyle",componentId:"sc-1xr4nou-1"})([""]),ot=$n,at=function(e){var n=e.activeItemIndex,t=e.children,i=e.onClick,o=e.showDividers,a=e.visibleMapping,l=e.visibleMappingForced,c=(0,W.Z)(e,et),s=(0,u.useState)(a||{}),d=s[0],h=s[1],p=(0,u.useState)({}),m=p[0],f=p[1],v=tt(tt({},d),l);return(0,H.jsx)(it,tt(tt({},c),{},{children:u.Children.map(t,(function(e,a){var l=a===(t||[]).length-1,s=v[a];return(0,H.jsxs)("div",{children:[(0,H.jsx)(rt,{index:a,showDividers:o,children:u.cloneElement(e,tt(tt({},c),{},{first:0===a,last:l,onClick:function(){var e;f(tt(tt({},m),{},(0,r.Z)({},a,m[a]?m[a]+1:1))),e=tt(tt({},v),{},(0,r.Z)({},a,!s)),h(e),i&&i(e)},visible:s,visibleCount:m[a]||0,visibleHighlightDisabled:"undefined"!==typeof n&&a!==n}))}),o&&(0,H.jsx)(Ke.Z,{})]},a)}))}))},lt=k.default.a.withConfig({displayName:"CsvExport__HiddenLink",componentId:"sc-1jl4kjo-0"})(["visibility:hidden;"]);var ct=function(e){var n=e.csvData,t=e.filename,i=void 0===t?"export.csv":t,r=e.linkRef,o=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(o);return(0,H.jsx)(lt,{download:i,href:a,ref:r,target:"_self"})},st=t(54283),ut=t(6753);function dt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ht(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var pt=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(90809),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}}),mt=2*S.iI,ft=function(e){var n=e.action,t=e.border,i=e.features,a=e.featureIdMapping,l=e.idx,c=e.isLoading,s=e.link,d=e.onClose,p=e.saveAction,m=e.setSuggestionPreviewIdx,f=e.showIdx,v=e.suggestionPreviewIdx,x=(0,u.useContext)(k.ThemeContext),b=(0,u.useMemo)((function(){return i.map((function(e){return e.uuid}))}),[i]),j=n.action_payload,y=n.message,w=n.preview_results,C=n.status,I=n.title,D=j.action_arguments,T=j.action_code,M=j.action_options,E=j.action_type,L=(null===w||void 0===w?void 0:w.removed_row_indices)||[];(0,u.useEffect)((function(){return G(j)}),[j]);var R=(null===D||void 0===D?void 0:D.length)||0,N=M?Object.keys(M).length:0,A=(0,u.useState)(!1),F=A[0],V=A[1],U=(0,u.useState)(!1),z=U[0],W=U[1],Y=(0,u.useState)(j),q=Y[0],G=Y[1],X=z?D:null===D||void 0===D?void 0:D.slice(0,5),Q=null===X||void 0===X?void 0:X.map((function(e){return(0,H.jsx)("span",{children:e in a?(0,H.jsx)(O.Z,{noOutline:!0,onClick:function(){return(0,ye.u)({column:b.indexOf(e)},{pushHistory:!0})},preventDefault:!0,secondary:!0,children:(0,H.jsx)(_.ZP,{maxWidth:30*S.iI,monospace:!0,secondary:!0,title:e,children:e})}):(0,H.jsx)(_.ZP,{color:x.monotone.grey400,maxWidth:30*S.iI,monospace:!0,title:e,children:e})},e)}));return(0,H.jsxs)(He.Z,{border:t,flexStart:!0,children:[s&&(0,H.jsxs)(B.Z,{mr:2,children:[c&&(0,H.jsx)(st.Z,{small:!0}),!c&&!F&&(0,H.jsx)(O.Z,{bold:!0,noHoverUnderline:!0,onClick:s,preventDefault:!0,children:"Apply"})]}),f&&(0,H.jsx)(B.Z,{mr:2,children:(0,H.jsx)(_.ZP,{children:l+1})}),(0,H.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[(0,H.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,H.jsxs)(_.ZP,{bold:!0,inline:!0,children:[I,R>0&&": "]}),(0,H.jsxs)(Z.Z,{children:[E===Je.Q0.FILTER&&C!==Je.rD.COMPLETED&&L.length>0&&(0,H.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){v===l?m(null):(m(l),(0,ye.u)((0,r.Z)({},ut.yg,ut.jh),{pushHistory:!0}))},title:"Preview",children:(0,H.jsx)(P.Db,{highlight:l===v,muted:!0,size:mt})}),(0,H.jsx)(B.Z,{pr:1}),p&&(0,H.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return V(!F)},title:"Edit",children:(0,H.jsx)(P.I8,{black:F,muted:!0,size:mt})})]})]}),Q,R>5&&(0,H.jsx)(O.Z,{noOutline:!0,onClick:function(){return W(!z)},secondary:!0,children:(0,H.jsx)(_.ZP,{bold:!0,secondary:!0,children:z?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(P.a2,{secondary:!0,size:10}),"\xa0 Show less"]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(P.K5,{secondary:!0,size:10}),"\xa0",R-5," more"]})})}),y&&(0,H.jsx)(_.ZP,{muted:!0,small:!0,children:y}),!y&&M&&(0,H.jsx)(g.Z,{children:Object.entries(M).map((function(e,n){var t=(0,o.Z)(e,2),i=t[0],r=t[1];return(0,H.jsxs)(_.ZP,{inline:!0,muted:!0,small:!0,children:[(0,H.jsx)(_.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:i}),": ",r,N>=2&&n!==N-1&&(0,H.jsx)(H.Fragment,{children:",\xa0"})]},i)}))}),T&&!F&&(0,H.jsx)(pt,{maxLines:25,mode:"python",setOptions:pn,style:{backgroundColor:x.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,overflow:"auto",width:"inherit"},value:T,wrapEnabled:!0}),F&&(0,H.jsx)(gn,{actionType:E,axis:null===q||void 0===q?void 0:q.axis,features:i,noBorder:!0,noHeader:!0,onSave:function(e){return p({action_payload:ht(ht({},q),e)})},payload:q,setPayload:G})]}),d&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(B.Z,{mr:1}),c&&(0,H.jsx)(st.Z,{small:!0}),!c&&(0,H.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,H.jsx)(P.x8,{muted:!0})})]})]})},vt=t(54626),xt=t(96510);var gt=function(e){var n,t,i=e.addAction,r=e.featureSet,a=e.isLoading,l=e.removeAction,c=e.setSuggestionPreviewIdx,s=e.suggestionPreviewIdx,d=e.suggestions,p=(0,u.useRef)(null),m=(0,u.useState)(!1),f=m[0],v=m[1],x=(0,u.useState)(null),g=x[0],b=x[1],j=r||{},y=j.insights,w=j.metadata,Z=(j.pipeline||{}).actions,O=(null===y||void 0===y||null===(n=y[0])||void 0===n?void 0:n.map((function(e){return e.feature})))||[],_=(0,u.useMemo)((function(){return Array.isArray(Z)?null===Z||void 0===Z?void 0:Z.length:0}),[Z]),P=(0,u.useMemo)((function(){return(0,Ue.vI)(r)}),[r]),k=Array.isArray(Z)&&(null===Z||void 0===Z?void 0:Z.length)>=1,C=(0,Ge.Db)(vt.ZP.downloads.feature_sets.useCreate(null===r||void 0===r?void 0:r.id),{onSuccess:function(e){e.error?function(e){var n=(0,xt.nU)(e),t=n.code,i=n.messages;alert((null===i||void 0===i?void 0:i[0])||t)}(e):e.data?(b(e.data),v(!0)):alert("CSV download failed, please try again.")}}),I=(0,o.Z)(C,2),D=I[0],T=I[1].isLoading;(0,u.useEffect)((function(){null!==p&&void 0!==p&&p.current&&f&&(p.current.click(),v(!1))}),[f,v]);var M=(null===w||void 0===w||null===(t=w.name)||void 0===t?void 0:t.replace(/ /g,"_"))||"cleaned_dataset";return(0,H.jsxs)(H.Fragment,{children:[k&&(0,H.jsx)(B.Z,{mb:2,children:null===Z||void 0===Z?void 0:Z.map((function(e,n){var t=e.title,i=e.message;return(0,H.jsx)(B.Z,{mt:n>=1?1:0,children:(0,H.jsx)(ft,{action:e,border:!0,featureIdMapping:P,features:O,idx:n,isLoading:a,onClose:_-1===n?function(){return l(e)}:null,showIdx:!0})},"".concat(n,"-").concat(i,"-").concat(t))}))}),(0,H.jsxs)(B.Z,{mb:S.cd,children:[g&&(0,H.jsx)(ct,{csvData:g,filename:"".concat(M,".csv"),linkRef:p}),(0,H.jsx)(h.Z,{loading:a||T,onClick:function(){return D()},children:"Download dataset"})]}),(null===d||void 0===d?void 0:d.length)>=1&&(0,H.jsx)(at,{highlighted:!0,visibleMapping:{0:!0},children:(0,H.jsx)(ot,{maxHeight:99999,noBackground:!0,noPaddingContent:!0,title:"".concat(d.length," suggested actions"),children:d.map((function(e,n){return(0,H.jsx)(ft,{action:e,featureIdMapping:P,features:O,idx:n,isLoading:a,link:function(){return i(e)},saveAction:i,setSuggestionPreviewIdx:c,suggestionPreviewIdx:s},"".concat(n,"-").concat(e.title))}))})})]})},bt=t(32151);function jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function yt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var wt=function(e){var n,t,i,a=e.children,l=e.columnsVisible,c=e.featureSet,s=e.fetchFeatureSet,d=e.fetchFeatureSetOriginal,p=e.hideColumnsHeader,m=e.mainContentRef,f=e.onTabClick,v=e.refLoadingBar,x=e.selectedColumnIndex,b=e.selectedTab,j=e.setErrorMessages,y=e.setSuggestionPreviewIdx,w=e.suggestionPreviewIdx,k=e.tabs,C=(0,u.useState)(!1),I=C[0],D=C[1],T=(0,u.useState)(!1),M=T[0],E=T[1],L=(0,u.useRef)(null),R=c||{},N=R.id,A=R.metadata,F=R.pipeline,V=R.suggestions,U=((null===c||void 0===c?void 0:c.sample_data)||{}).columns,z=null===U||void 0===U?void 0:U[Number(x)],W=Array.isArray(null===F||void 0===F?void 0:F.actions)?null===F||void 0===F?void 0:F.actions:[],q=(0,u.useMemo)((function(){return z?(0,bt.Mh)(V,z):V}),[z,V]),G=(A||{}).column_types,X=Object.entries((null===c||void 0===c||null===(n=c.metadata)||void 0===n?void 0:n.column_types)||{}).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{columnType:n[1],uuid:t}})).map((function(e){return{column_type:e.columnType,uuid:e.uuid}})),Q=(0,u.useState)(null),J=Q[0],K=Q[1],$=null===J||void 0===J?void 0:J.action_type;(0,u.useEffect)((function(){K(null)}),[x,K]);var ee=(0,Ge.Db)(vt.ZP.pipelines.useUpdate(null===F||void 0===F?void 0:F.id),{onSuccess:function(e){return(0,xt.wD)(e,{callback:function(e){var n,t;return ae(),null===v||void 0===v||null===(n=v.current)||void 0===n||null===(t=n.complete)||void 0===t||t.call(n),(0,hn.RA)({actionType:Je.Q0.CUSTOM,featureSetId:String(N),newValue:null}),d(),s(yt(yt({},c),{},{pipeline:e}))},onErrorCallback:function(e){var n,t,i=e.error,r=i.errors,o=i.message;null===v||void 0===v||null===(n=v.current)||void 0===n||null===(t=n.complete)||void 0===t||t.call(n);var a=[];o&&a.push.apply(a,(0,Y.Z)(o.split("\n"))),r&&a.push.apply(a,(0,Y.Z)(r)),a.length>=1&&(null===j||void 0===j||j(a))}})}}),ne=(0,o.Z)(ee,2),te=ne[0],ie=ne[1].isLoading,re=function(){var e,n;null===j||void 0===j||j(null),null===v||void 0===v||null===(e=v.current)||void 0===e||null===(n=e.continuousStart)||void 0===n||n.call(e)},oe=function(e){re();var n,t=(0,Y.Z)(W);z?t.push(yt(yt({},e),{},{action_payload:yt(yt({},e.action_payload),{},{action_arguments:[z],action_variables:(0,r.Z)({},z,(n={},(0,r.Z)(n,Je.X0.FEATURE,{column_type:G[z],uuid:z}),(0,r.Z)(n,"type",Je.X0.FEATURE),n))})})):t.push(e);y(null),te(yt(yt({},F),{},{actions:t}))},ae=function(){return K({})},le=function(e){return(0,ye.u)({column:null===e?null:U.indexOf(e)},{pushHistory:!0})},ce=(null===L||void 0===L||null===(t=L.current)||void 0===t||null===(i=t.getBoundingClientRect)||void 0===i?void 0:i.call(t))||{},se=ce.left,ue=ce.top,de=se-(l?Sn:0),he=ue+28;return(0,H.jsx)(Bn,{after:(0,H.jsx)(B.Z,{p:S.cd,children:c&&(0,H.jsx)(gt,{addAction:oe,featureSet:c,isLoading:ie,removeAction:function(e){re(),y(null);var n=W.findIndex((function(n){return n.id===e.id}));te(yt(yt({},F),{},{actions:(0,je.oM)(W,n)}))},removeSuggestion:function(e){return console.log(e)},setSuggestionPreviewIdx:y,suggestionPreviewIdx:w,suggestions:q})}),before:l&&(0,H.jsx)(B.Z,{mt:S.cd,children:(0,H.jsx)(In,{columns:U,featureSet:c,onClickColumn:le,selectedColumn:z})}),header:(0,H.jsxs)(B.Z,{p:S.cd,children:[(0,H.jsx)(B.Z,{mb:2,children:(0,H.jsxs)(g.Z,{justifyContent:p?"flex-end":"space-between",children:[!p&&(0,H.jsx)(O.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return(0,ye.u)({show_columns:l?0:1})},preventDefault:!0,children:(0,H.jsxs)(g.Z,{alignItems:"center",children:[(0,H.jsx)(P.sg,{primary:!l,size:2*S.iI}),(0,H.jsx)(B.Z,{mr:1}),(0,H.jsx)(_.ZP,{bold:!0,primary:!l,children:l?"Hide columns":"Show columns"})]})}),(0,H.jsxs)(g.Z,{alignItems:"center",children:[(0,H.jsxs)(O.Z,{block:!0,href:"https://www.mage.ai/chat",openNewWindow:!0,verticalAlignContent:!0,children:[(0,H.jsx)(P.en,{primary:!0,size:2*S.iI}),"\xa0 Help and support"]}),(0,H.jsx)(B.Z,{mr:3}),(0,H.jsx)(qe(),{as:"/datasets/".concat(null===c||void 0===c?void 0:c.id,"/export"),href:"/datasets/[...slug]",passHref:!0,children:(0,H.jsxs)(O.Z,{block:!0,verticalAlignContent:!0,children:[(0,H.jsx)(P.II,{primary:!0,size:2*S.iI}),"\xa0 Export data pipeline"]})})]})]})}),(0,H.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,H.jsx)(Un.Z,{featureSet:c,ref:L,setColumnListMenuVisible:E}),(0,H.jsx)(kn,{columns:U,featureSet:c,left:de,onClickColumn:le,setVisible:E,top:he,visible:M}),(0,H.jsxs)(Z.Z,{children:[(0,H.jsx)(h.Z,{fullWidth:!0,onClick:function(){return D(!0)},primary:!0,children:"New action"}),(0,H.jsx)(_n,{columnOnly:!!z,setActionPayload:K,setVisible:D,visible:I}),(0,H.jsx)(Hn,{children:$&&(0,H.jsx)(gn,{actionType:$,axis:null===J||void 0===J?void 0:J.axis,currentFeature:z?{columnType:G[z],uuid:z}:null,featureSetId:String(N),features:z?null:X,onClose:ae,onSave:function(e){var n,t=null===(n=(null===J||void 0===J?void 0:J.axis)===Je.qs.ROW?ln.rows:ln.columns)||void 0===n?void 0:n[$],i=null===t||void 0===t?void 0:t.title;oe({action_payload:yt(yt(yt({},J),e),{},{action_type:$}),title:i})},payload:J,setPayload:K,shadow:!0})})]})]})]}),mainContentRef:m,onTabClick:f,selectedTab:b,tabs:k,children:(0,H.jsx)(B.Z,{p:S.cd,children:a})})},Zt=t(62976),Ot=t(19537),_t=t(66166),Pt=t(59e3);var kt=function(e){var n,t,i,o,a,l=e.featureSet,c=e.fetchFeatureSet,s=e.selectedColumnIndex,p=(0,u.useRef)(null),m=(0,u.useRef)(null),f=vt.ZP.versions.feature_sets.detail(null===l||void 0===l?void 0:l.id,"0"),v=f.data,b=f.mutate,j=v?(0,Ue.Ln)(v):{},y=(0,u.useState)(null),w=y[0],O=y[1],k=(0,Vn.i)().width,I=(0,_t.Z)(k),D=(0,u.useState)(null),T=D[0],M=D[1],E=(0,Pt.iV)(),L=E.show_columns,R=E[ut.yg],N=R?Array.isArray(R)?R:[R]:[],A=(0,u.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,ye.u)((0,r.Z)({},ut.yg,e),{pushHistory:n})}),[N]);(0,u.useEffect)((function(){0===N.length&&A(ut.mW,!1)}),[A,N]),(0,u.useEffect)((function(){"undefined"===typeof L&&k>=Ie.kY&&(0,ye.u)({show_columns:1})}),[L,k]);var F=l||{},V=F.insights,U=F.metadata,z=F.statistics,W=void 0===z?{}:z,Y=F.suggestions,q=void 0===Y?[]:Y,G=(U||{}).column_types,X=j||{},Q=X.metadata,J=X.statistics,K=null===Q||void 0===Q?void 0:Q.column_types,$=(0,bt.v0)({latestStatistics:W,versionStatistics:J}),ee=(null===l||void 0===l?void 0:l.sample_data)||{},ne=ee.columns,te=ee.rows,ie=null===ne||void 0===ne?void 0:ne[Number(s)],re=(0,u.useMemo)((function(){return ie?[ie]:ne}),[ne,ie]),oe=null===ne||void 0===ne?void 0:ne.indexOf(ie),ae=(0,u.useMemo)((function(){return ie?null===te||void 0===te?void 0:te.map((function(e){return[e[oe]]})):te}),[ie,oe,te]),le=null===ne||void 0===ne?void 0:ne.map((function(e){return{columnType:G[e],uuid:e}})),ce=W&&G?(0,bt.CL)({latestColumnTypes:G,latestStatistics:W,versionColumnTypes:K,versionStatistics:J}):null,se=(0,u.useMemo)((function(){return(0,je.HK)((null===V||void 0===V?void 0:V[0])||[],(function(e){return e.feature.uuid}))}),[V]),de=1===Number(L),he=(0,_t.Z)(de),pe=null===le||void 0===le||null===(n=le.find((function(e){return e.uuid===ie})))||void 0===n?void 0:n.columnType,me=ie&&pe!==x.RL.DATETIME?se[ie]:(null===V||void 0===V?void 0:V[1])||{},fe=(null===m||void 0===m||null===(t=m.current)||void 0===t||null===(i=t.getBoundingClientRect)||void 0===i?void 0:i.call(t))||{},ve=fe.height,xe=fe.width,ge=S.cd*S.iI*2+2,be=0;ve&&(be=ve-(ge+2));var we=(0,u.useMemo)((function(){var e=0;return xe&&(e=xe-ge,!he&&de?e-=Sn:he&&!de&&(e+=Sn)),e}),[de,he,xe,ge,k===I]),Ze=(0,u.useCallback)((0,bt.Fk)({columnTypes:G,columns:re,insightsByFeatureUUID:se,insightsOverview:me,statistics:W}),[G,re,se,me,W]),Oe=(0,Ue.Tx)(l,ie).count,_e=ie?(0,bt.Mh)(q,ie):q,Pe=null===_e||void 0===_e||null===(o=_e[w])||void 0===o||null===(a=o.preview_results)||void 0===a?void 0:a.removed_row_indices,Ce=W?(0,Ue.eS)(l,ne):null,De=Ie.bC[pe]||Ie.bC.default,Te=null===W||void 0===W?void 0:W["".concat(ie,"/").concat(De)];return(0,H.jsxs)(wt,{columnsVisible:de,featureSet:l,fetchFeatureSet:c,fetchFeatureSetOriginal:b,hideColumnsHeader:k<Ie.kY,mainContentRef:m,onTabClick:function(e){return A(e)},refLoadingBar:p,selectedColumnIndex:s,selectedTab:null===N||void 0===N?void 0:N[0],setErrorMessages:M,setSuggestionPreviewIdx:O,suggestionPreviewIdx:w,tabs:ut.Ek,children:[(0,H.jsx)(d.Z,{className:"loading-bar",color:C.Z.brand.fire500,containerStyle:{position:"relative"},ref:p,shadow:!1}),(null===T||void 0===T?void 0:T.length)>=1&&(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,H.jsx)(_.ZP,{bold:!0,children:"Errors"}),(0,H.jsx)(h.Z,{basic:!0,iconOnly:!0,onClick:function(){return M(null)},padding:"0px",transparent:!0,children:(0,H.jsx)(P.x8,{muted:!0})})]}),null===T||void 0===T?void 0:T.map((function(e){return(0,H.jsx)(_.ZP,{monospace:!0,xsmall:!0,children:e},e)}))]}),(null===N||void 0===N?void 0:N.includes(ut.mW))&&(0,H.jsxs)(H.Fragment,{children:[ie&&(0,H.jsx)(We,{column:ie,featureSet:l}),!ie&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(g.Z,{justifyContent:"center",responsive:!0,children:[(0,H.jsx)(Z.Z,{flex:1,flexDirection:"column",children:$&&(0,H.jsx)(B.Z,{mb:S.cd,children:(0,H.jsx)(Be.Z,{stats:$,title:"Quality metrics"})})}),(0,H.jsx)(B.Z,{ml:S.cd}),(0,H.jsx)(Z.Z,{flex:1,flexDirection:"column",children:ce&&(0,H.jsx)(Be.Z,{stats:ce,title:"Statistics"})})]}),(0,H.jsx)(B.Z,{mt:S.cd,children:(0,H.jsx)(Ot.Z,{features:le,shouldLink:!0,statistics:W})})]})]}),(null===N||void 0===N?void 0:N.includes(ut.oE))&&(0,H.jsxs)(H.Fragment,{children:[ie&&Oe>0&&(0,H.jsx)(Se,{column:ie,features:le,insights:me,statisticsByColumn:Te,statisticsOverview:W}),ie&&0===Oe&&(0,H.jsx)(_.ZP,{bold:!0,large:!0,children:"There are no visualizations available because the column has no data"}),!ie&&(0,H.jsx)(ke,{features:le,insightsOverview:me,statistics:W})]}),(null===N||void 0===N?void 0:N.includes(ut.jh))&&(null===re||void 0===re?void 0:re.length)>=1&&(0,H.jsx)(Zt.Z,{columnHeaderHeight:ie?null:bt.O$+3*S.iI+ue.dN,columns:re,height:be,invalidValues:Ce,previewIndexes:{removedRows:Pe},renderColumnHeader:ie?null:Ze,rows:ae,width:we})]})},Ct=t(87372),It=t(33591),St=["children","condensed","minHeight"];function Dt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Tt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Dt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Mt=k.default.div.withConfig({displayName:"PanelRoot__PanelRootStyle",componentId:"sc-1hc6ren-0"})(["border-radius:","px;border-style:solid;border-width:1px;"," "," "," "," "," "," "," "," "," "," ",""],I.n_,(function(e){return"\n    background-color: ".concat((e.theme.monotone||C.Z.monotone).white,";\n  ")}),(function(e){return e.borderColor&&"\n    border-color: ".concat(e.borderColor,";\n  ")}),(function(e){return!e.borderColor&&"\n    border-color: ".concat((e.theme.monotone||C.Z.monotone).grey200,";\n  ")}),(function(e){return e.minHeight&&"\n    min-height: ".concat(e.minHeight,"px;\n  ")}),(function(e){return e.section&&"\n    background-color: ".concat((e.theme.background||C.Z.background).section,";\n  ")}),(function(e){return e.transparent&&"\n    background-color: transparent;\n  "}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.shadow&&"\n    ".concat((e.theme.elevation||C.Z.elevation).shadowLarge,";\n  ")}),(function(e){return e.shadowLarge&&"\n    ".concat((e.theme.elevation||C.Z.elevation).float,";\n  ")}),(function(e){return e.shadowLight&&"\n    ".concat((e.theme.elevation||C.Z.elevation).shadowSmall,";\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}));var Et=function(e){var n=e.children,t=e.condensed,i=void 0!==t&&t,r=e.minHeight,o=(0,W.Z)(e,St);return(0,H.jsx)(Mt,Tt(Tt({minHeight:r},o),{},{children:(0,H.jsx)(B.Z,{p:i?2:3,pb:i&&r&&1,children:n})}))},Lt=["children","condensed","containedWidth","fullWidth","minHeight"];function Rt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Nt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Rt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var At=k.default.div.withConfig({displayName:"PanelOld__ContainedWidthStyle",componentId:"sc-smaheg-0"})(["width:100%;"]),Ft=k.default.div.withConfig({displayName:"PanelOld__FullWidthStyle",componentId:"sc-smaheg-1"})(["width:","px;"],62*S.iI);function Ht(e,n){var t=e.children,i=e.condensed,r=void 0!==i&&i,o=e.containedWidth,a=void 0!==o&&o,l=e.fullWidth,c=void 0===l||l,s=e.minHeight,u=(0,W.Z)(e,Lt),d=(0,H.jsx)(Et,Nt(Nt({},u),{},{condensed:r,minHeight:s,children:t}));return a?(0,H.jsx)(At,{ref:n,children:d}):(0,H.jsxs)(It.Row,{ref:n,children:[(0,H.jsx)(It.Col,{xs:12,hiddenMdUp:c,children:(0,H.jsx)(At,{children:d})}),c&&(0,H.jsx)(It.Col,{xs:12,hiddenMdDown:!0,children:(0,H.jsx)(Ft,{children:d})})]})}var Vt=u.forwardRef(Ht),Bt=["featureSet"];function Ut(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function zt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ut(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ut(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Wt=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(90809),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}}),Yt=k.default.img.withConfig({displayName:"Export__ImageStyle",componentId:"sc-1wbgaj4-0"})(["margin-top:","px;max-width:900px;object-fit:contain;width:100%;"],S.tr);var qt=function(e){return"import mage_ai\nimport pandas as pd\n\n# Clean a dataset with a pipeline saved in the cloud\ndf = pd.read_csv('/datasets/training_data.csv') # Load data\nmage_ai.clean(df, remote_pipeline_uuid=".concat(e||"pipeline id",", api_key=<your api key>)")};var Gt=function(e){var n,t,i=e.featureSet,r=(0,W.Z)(e,Bt),o=(0,u.useContext)(k.ThemeContext),a=i||{},l=a.metadata,c=a.pipeline,s=(c||{}).metadata,d=(vt.ZP.status.list().data||{}).api_key_provided;return(0,H.jsxs)(wt,zt(zt({},r),{},{featureSet:i,hideColumnsHeader:!0,children:[(0,H.jsx)(B.Z,{mb:5,children:(0,H.jsxs)(Ct.Z,{level:2,children:["Export data pipeline for ",(0,H.jsx)(Ct.Z,{bold:!0,inline:!0,level:3,monospace:!0,children:null===l||void 0===l?void 0:l.name})]})}),(0,H.jsxs)(Vt,{containedWidth:!0,fullWidth:!0,children:[(0,H.jsx)(Ct.Z,{level:3,children:"Method 1: using the pipeline in the same environment as the tool"}),(0,H.jsx)(B.Z,{my:3,children:(0,H.jsx)(Ke.Z,{})}),(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsxs)(Ct.Z,{level:4,children:["Call the ",(0,H.jsx)(Ct.Z,{bold:!0,inline:!0,level:4,monospace:!0,children:"clean"})," method"]})}),(0,H.jsx)(_.ZP,{children:"Load your data as a Pandas dataframe, then invoke the cleaning method by passing in the dataframe variable as the 1st argument and referencing the pipeline\u2019s UUID as a keyword argument."}),(0,H.jsx)(B.Z,{mt:1}),(0,H.jsxs)(_.ZP,{children:["The current pipeline UUID is ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:null===c||void 0===c?void 0:c.id}),"."]}),(0,H.jsx)(B.Z,{mt:1}),(0,H.jsxs)(_.ZP,{children:["The return value of the ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," method is a Pandas dataframe that has been cleaned using all the actions in your data pipeline."]}),(0,H.jsx)(B.Z,{mt:2,children:(0,H.jsx)(Wt,{maxLines:6,minLines:6,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(t=null===c||void 0===c?void 0:c.id,"import mage_ai\nimport pandas as pd\n\n\ndf = pd.read_csv('/datasets/training_data.csv') # Load the data\nmage_ai.clean(df, pipeline_uuid=".concat(t,")"))})})]})]}),(0,H.jsx)(B.Z,{mb:5}),(0,H.jsxs)(Vt,{containedWidth:!0,fullWidth:!0,children:[(0,H.jsx)(Ct.Z,{level:3,children:"Method 2: local JSON file"}),(0,H.jsx)(B.Z,{my:3,children:(0,H.jsx)(Ke.Z,{})}),(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsx)(Ct.Z,{level:4,children:"Download the pipeline JSON file"})}),(0,H.jsxs)(_.ZP,{children:["The ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai"})," Python library will read from a local JSON file that has been created through this tool.",(0,H.jsx)(B.Z,{mb:1}),(0,H.jsxs)(g.Z,{alignItems:"center",children:[(0,H.jsx)(h.Z,{onClick:function(){var e;!function(e,n,t){var i=document.createElement("a"),r=new Blob([e],{type:t});i.href=URL.createObjectURL(r),i.download=n,i.click()}(JSON.stringify(null===i||void 0===i||null===(e=i.pipeline)||void 0===e?void 0:e.actions),"".concat(null===l||void 0===l?void 0:l.name,".json"),"text/plain")},primary:!0,children:"Click here to download"}),"\xa0",(0,H.jsx)(_.ZP,{children:"the file to your local machine."})]})]})]}),(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsx)(Ct.Z,{level:4,children:"Upload the pipeline JSON file to your runtime environment"})}),(0,H.jsx)(_.ZP,{children:"Whichever environment you want to use this data pipeline, upload the JSON file you just downloaded to the machine that will be invoking your data pipeline."}),(0,H.jsx)(B.Z,{mb:2}),(0,H.jsx)(_.ZP,{children:"For example, if you want to invoke your data pipeline on a server running in the cloud (e.g. AWS, GCP, Azure, etc.), then upload the JSON file to that server so that it can be referenced in the next step."})]}),(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsxs)(Ct.Z,{level:4,children:["Call the ",(0,H.jsx)(Ct.Z,{bold:!0,inline:!0,level:4,monospace:!0,children:"clean"})," method"]})}),(0,H.jsx)(_.ZP,{children:"Load your data as a Pandas dataframe, then invoke the cleaning method by passing in the dataframe variable as the 1st argument and referencing the JSON file path as a keyword argument."}),(0,H.jsx)(B.Z,{mt:1}),(0,H.jsxs)(_.ZP,{children:["The return value of the ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," method is a Pandas dataframe that has been cleaned using all the actions in your data pipeline."]}),(0,H.jsx)(B.Z,{mt:2,children:(0,H.jsx)(Wt,{maxLines:8,minLines:8,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:"import mage_ai\nimport pandas as pd\n\n\ndf = pd.read_csv('/datasets/training_data.csv') # Load the data\n\n# The path to the JSON file can be absolute or relative\nmage_ai.clean(df, pipeline_path='/path_to_json_file.json')"})})]})]}),(0,H.jsx)(B.Z,{mb:5}),(0,H.jsxs)(Vt,{containedWidth:!0,fullWidth:!0,children:[(0,H.jsx)(Ct.Z,{level:3,children:"Method 3: API key"}),(0,H.jsx)(B.Z,{my:3,children:(0,H.jsx)(Ke.Z,{})}),d?(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsx)(Ct.Z,{level:4,children:"Use the mage_ai module with your API key"})}),(0,H.jsx)(B.Z,{mb:2,children:(0,H.jsx)(_.ZP,{children:"It looks like you already have an API key connected. All your local pipelines should have been synced with the cloud database. You can now use these pipelines"})}),(0,H.jsx)(B.Z,{mb:2,children:(0,H.jsxs)(_.ZP,{children:["If you or a collaborator has already synced a pipeline to the cloud, you can simply call the ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," function with the dataset and the ",(0,H.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_id"}),". The pipeline needs to have been synced with the same API key in order for you to use it."]})}),null!==s&&void 0!==s&&s.remote_id?(0,H.jsxs)(_.ZP,{children:["The ",(0,H.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_uuid"})," for this pipeline is ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,children:s.remote_id}),"."]}):(0,H.jsx)(_.ZP,{children:"This pipeline has not been synced with the cloud database yet. Refer to the code example below to see how to sync your pipelines."}),(0,H.jsx)(B.Z,{mt:2,children:(0,H.jsx)(Wt,{maxLines:6,minLines:5,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(null===s||void 0===s||s.remote_id,"import mage_ai\nimport pandas as pd\n\n# Sync your local datasets and pipelines with the cloud database\nmage_ai.remote_sync()")})}),(0,H.jsx)(B.Z,{mt:2,children:(0,H.jsx)(Wt,{maxLines:7,minLines:6,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(n=null===s||void 0===s?void 0:s.remote_id,"import mage_ai\nimport pandas as pd\n\n# Clean a dataset with a pipeline saved in the cloud\ndf = pd.read_csv('/datasets/training_data.csv') # Load data\nmage_ai.clean(df, remote_pipeline_uuid=".concat(n||"pipeline id",")"))})})]}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsx)(Ct.Z,{level:4,children:"Create your Mage account and get your workspace's API key"})}),(0,H.jsxs)(_.ZP,{children:["In order to use the API key method, you need to have a Mage account. You can click ",(0,H.jsx)(O.Z,{href:"https://www.mage.ai/sign-up",children:"here"})," to create an account. When you create your account, a workspace will be created for you. You can either use that workspace, or create a new workspace for your organization. Once you've selected the workspace, copy the API key from the ",(0,H.jsx)(O.Z,{href:"https://www.mage.ai/dashboard",children:"dashboard"})," page."]}),(0,H.jsx)(Yt,{src:"/images/dashboard-api-key.webp",height:400})]}),(0,H.jsxs)(B.Z,{mb:5,children:[(0,H.jsx)(B.Z,{mb:1,children:(0,H.jsx)(Ct.Z,{level:4,children:"Use the mage_ai module with the API key"})}),(0,H.jsx)(B.Z,{mb:2,children:(0,H.jsxs)(_.ZP,{children:["Once you've copied the API key from the Mage dashboard, run the ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.remote_sync"})," command with the specified API key. This will sync your local files with the cloud database."]})}),(0,H.jsx)(B.Z,{mb:2,children:(0,H.jsxs)(_.ZP,{children:["If you or a collaborator has already synced a pipeline to the cloud, you can simply call the ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," function with the dataset and the ",(0,H.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_id"}),". The pipeline needs to have been synced with the same API key in order for you to use it."]})}),null!==s&&void 0!==s&&s.remote_id?(0,H.jsxs)(_.ZP,{children:["The ",(0,H.jsx)(_.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_uuid"})," for this pipeline is ",(0,H.jsx)(_.ZP,{bold:!0,inline:!0,children:s.remote_id}),"."]}):(0,H.jsx)(_.ZP,{children:"This pipeline has not been synced with the cloud database yet. Refer to the code example below to see how to sync your pipelines."}),(0,H.jsx)(B.Z,{mt:2,children:(0,H.jsx)(Wt,{maxLines:4,minLines:5,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(null===s||void 0===s||s.remote_id,"import mage_ai\n\n# Sync your local datasets and pipelines with the cloud database\nmage_ai.remote_sync(api_key=<your api key>)")})}),(0,H.jsx)(B.Z,{mt:2,children:(0,H.jsx)(Wt,{maxLines:6,minLines:7,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:qt(null===s||void 0===s?void 0:s.remote_id)})})]})]})]})]}))},Xt=t(28857);function Qt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Jt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Kt(){var e,n=(0,c.useRouter)().query.slug,t=void 0===n?[]:n,i=(0,Pt.iV)().column,r=(0,o.Z)(t,2),a=r[0],l=r[1],u=vt.ZP.feature_sets.detail(a),d=u.data,h=u.mutate,p=d?(0,Ue.Ln)(d):{},m=(p||{}).metadata,f={featureSet:p,fetchFeatureSet:h,selectedColumnIndex:i},v=null===m||void 0===m?void 0:m.name,x=v||"Dataset Overview";return 1===t.length?e=(0,H.jsx)(kt,Jt({},f)):"export"===l?(e=(0,H.jsx)(Gt,Jt({},f)),x="Export ".concat(v)):e=(0,H.jsx)("div",{}),(0,H.jsx)(Xt.Z,{centerAlign:!0,footer:(0,H.jsx)(B.Z,{mt:S.iI}),fullWidth:!0,pageTitle:x,children:(0,H.jsx)(s.Z,{children:e})})}Kt.getInitialProps=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{themeProps:{currentTheme:C.Z}});case 1:case"end":return e.stop()}}),e)})));var $t=Kt},91427:function(e,n,t){"use strict";t.d(n,{J3:function(){return d},L8:function(){return s},Od:function(){return v},RA:function(){return g},U2:function(){return f},Uu:function(){return u},jQ:function(){return x},kP:function(){return h},t8:function(){return m},zg:function(){return c}});var i=t(82394),r=t(66757),o=t.n(r);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c="pipeline_editor_after_hidden",s="pipeline_editor_after_width",u="pipeline_editor_before_hidden",d="pipeline_editor_before_width",h="data_output_block_uuids";function p(e){return"".concat("custom_code","_").concat(e)}function m(e,n){return o().set(e,n),n}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=o().get(e);return"undefined"!==typeof t&&null!==t?t:(m(e,n),n)}function v(e){var n=f(e);return o().remove(e),n}function x(e){var n=e.actionType,t=e.featureSetId,i=e.defaultValue,r=void 0===i?{}:i;return f(p(t),r)[n]}function g(e){var n=e.actionType,t=e.featureSetId,r=e.newValue,o=p(t);m(o,l(l({},f(o)),{},(0,i.Z)({},n,r)))}},53105:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/[...slug]",function(){return t(1625)}])}},function(e){e.O(0,[3662,4281,5339,2083,6674,1774,3668,2714,2125,5650,17,2874,5981,2151,5378,8735,6035,3887,9774,2888,179],(function(){return n=53105,e(e.s=n);var n}));var n=e.O();_N_E=n}]);